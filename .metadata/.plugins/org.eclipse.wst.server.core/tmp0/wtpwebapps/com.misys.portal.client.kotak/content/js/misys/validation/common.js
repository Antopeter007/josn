/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.validation.common"]){dojo._hasResource["misys.validation.common"]=true;dojo.provide("misys.validation.common");dojo.require("dojox.validate.web");(function(d,dj,m){var _1="message is false";var _2=m.getServletURL("/screen/AjaxScreen/action/CheckPoReferenceAction");var _3=m.getServletURL("/screen/AjaxScreen/action/GetCurrencyISOCodes");var _4="CUSTOM-NO-CANCEL";var _5="[Could not validate mandatory field] ";var _6="[misys.validation.common] Current Date Value = ";var _7="[misys.validation.common] Validating Expiry Date. Value = ";var _8="[misys.validation.common] Days difference between expiry date and current date = ";var _9="[misys.validation.common] validateCurrency error";var _a="[misys.validation.common] Validating Abbv Name Format, Value =";var _b="[misys.validation.common] Validating Currency. Value";var _c="application/json; charset=utf-8";function _d(_e,_f){if(!_f){_f=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?:().,+_";}return d.every(_e.get("value"),function(_10){return _f.indexOf(_10)>=0;});};function _11(_12){var _13="";if(dijit.byId("issuing_bank_abbv_name")&&dijit.byId("issuing_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("issuing_bank_abbv_name").get("value")][0]&&[dijit.byId("issuing_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("issuing_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("remitting_bank_abbv_name")&&dijit.byId("remitting_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank&&[dijit.byId("remitting_bank_abbv_name").get("value")][0]&&misys._config.businessDateForBank&&[dijit.byId("remitting_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("remitting_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("recipient_bank_abbv_name")&&dijit.byId("recipient_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("recipient_bank_abbv_name").get("value")][0]&&[dijit.byId("recipient_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("recipient_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("advising_bank_abbv_name")&&dijit.byId("advising_bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank&&[dijit.byId("advising_bank_abbv_name").get("value")][0]&&[dijit.byId("advising_bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("advising_bank_abbv_name").get("value")][0].name;}else{if(dijit.byId("bank_abbv_name")&&dijit.byId("bank_abbv_name").get("value")!==""&&misys&&misys._config&&misys._config.businessDateForBank[dijit.byId("bank_abbv_name").get("value")][0]&&[dijit.byId("bank_abbv_name").get("value")][0].name!==""){_13=misys._config.businessDateForBank[dijit.byId("bank_abbv_name").get("value")][0].name;}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_13=misys._config.bankBusinessDate;}}}}}}var _14=_12.get("value");if(_13!==""){var _15=parseInt(_13.substring(0,4),10);var _16=parseInt(_13.substring(5,7),10);var _17=parseInt(_13.substring(8,10),10);var _18=new Date(_15,_16-1,_17);_18.setHours(0,0,0,0);var _19=dojo.date.compare(_14,_18,"date");return _19;}};function _1a(_1b){if(_1b.get("type")==="hidden"){return d.date.locale.format(m.localizeDate(_1b),{selector:"date",datePattern:m.getLocalization("g_strGlobalDateFormat")});}return _1b.get("displayedValue");};function _1c(_1d,_1e){var _1f=_1d.items.valid;var _20;if(dj.byId("email")){_20=dj.byId("email");}var _21="";if(_1d.items.valid===false){if(_20!=undefined){_20.focus();_21=m.getLocalization("invalidEmailAddressError",[_20.get("value")]);_20.set("state","Error");dj.hideTooltip(_20.domNode);dj.showTooltip(_21,_20.domNode,0);}}else{}};function _22(_23,_24){var _25=dj.byId(_23);if(_25){if(!(/Date/.test(_25.get("declaredClass")))){return -1;}if(_25.isValidDate()){return _25.getDate();}if(_25.getCode()==="SPOT"){return -1;}if(_25.getCode()===""||_25.getNumber()===""){return -1;}var _26=parseInt(_25.getNumber(),10),_27=null,_28=_24||new Date();if(_25.getCode()==="d"){return d.date.add(_28,"day",_26);}else{if(_25.getCode()==="w"){return d.date.add(_28,"week",_26);}else{if(_25.getCode()==="m"){return d.date.add(_28,"month",_26);}else{if(_25.getCode()==="y"){return d.date.add(_28,"year",_26);}}}}}else{return -1;}};function _29(_2a,_2b){var _2c=" .-_,/",_2d="",_2e="",_2f="",_30="";if(_2a.length<5||_2a.length>35){return -1;}if(_2b==null||_2b===""){_2f=_2a.substring(0,4);_2e=_2a.substring(4,_2a.length)+_2f.toUpperCase();}else{_2f=_2b+"00";_2e=_2a+_2f.toUpperCase();}for(var i=0;i<_2e.length;i++){_30=_2e.charAt(i);if(!isNaN(_30)){_2d+=""+_30;}else{if(_2c.indexOf(_30)>0){continue;}else{if(_30.charCodeAt(0)<65||_30.charCodeAt(0)>90){return -1;}else{_2d+=_30.charCodeAt(0)-55;}}}}return (_31(_2d,97));};function _31(_32,_33){var i=0,j=0,_34=new Array(),r="";for(i=0;i<_32.length+6;i+=6){var _35=_32.substring(i,i+6);if(_35!==""){_34[j++]=_32.substring(i,i+6);}}for(i=0;i<_34.length;i++){r=(r+""+_34[i])%_33;}return r;};function _36(_37){var _38=_37.get("value")!==null?_37.get("value"):"";if(_38===""||!(_38 instanceof Date)){return _38;}else{if(_37.get("displayedValue")){return _37.get("displayedValue");}else{var _39=_38.getMonth();_39=_39+1;var _3a=_38.getFullYear();var day=_38.getDate();return day+"/"+_39+"/"+_3a;}}};function _3b(_3c){var _3d;if(dj.byId("abbv_name")){_3d=dj.byId("abbv_name");}var _3e="";if(_3c.items.valid===true){if(_3d!=undefined){_3d.focus();_3e=m.getLocalization("abbvNameExists",[_3d.get("value")]);_3d.set("value","");_3d.set("state","Error");dj.hideTooltip(_3d.domNode);dj.showTooltip(_3e,_3d.domNode,0);}}else{}};function _3f(_40){var _41;if(dj.byId("claim_reference")){_41=dj.byId("claim_reference");}var _42="";if(_40.items.valid===false){if(_41!=undefined){_42=m.getLocalization("claimReferenceExists",[_41.get("value")]);}var _43=function(){_41.focus();_41.set("state","Error");};m.dialog.show("ERROR",_42,"",function(){setTimeout(_43,500);});}else{}};function _44(_45){var _46;if(dj.byId("issuer_ref_id")){_46=dj.byId("issuer_ref_id");}var _47="";if(_45.items.valid===false){if(_46!=undefined){_47=m.getLocalization("poReferenceExists",[_46.get("value")]);_46.focus();_46.set("state","Error");_46.set("value","");dj.hideTooltip(_46.domNode);dj.showTooltip(_47,_46.domNode,0);}}else{}};function _48(_49){var _4a;if(dj.byId("issuer_ref_id")){_4a=dj.byId("issuer_ref_id");}var _4b="";if(_49.items.valid===false&&_4a!=undefined){_4b=m.getLocalization("invoiceReferenceExists",[_4a.get("value")]);_4a.focus();_4a.set("state","Error");_4a.set("value","");dj.hideTooltip(_4a.domNode);dj.showTooltip(_4b,_4a.domNode,0);}else{}};function _4c(_4d){var _4e;if(dj.byId("cust_ref_id")){_4e=dj.byId("cust_ref_id");}var _4f="";if(_4d.items.valid===false){if(_4e!=undefined){_4f=m.getLocalization("custReferenceExists",[_4e.get("value")]);_4e.focus();_4e.set("state","Error");_4e.set("value","");dj.showTooltip(_4f,_4e.domNode,0);}}else{}};function _50(_51){var _52;if(dj.byId("cn_reference")){_52=dj.byId("cn_reference");}var _53="";if(_51.items.valid===false){if(_52!=undefined){_53=m.getLocalization("cnReferenceExists",[_52.get("value")]);_52.focus();_52.set("state","Error");dj.hideTooltip(_52.domNode);dj.showTooltip(_53,_52.domNode,0);}}else{}};function _54(_55){var _56;if(dj.byId("report_name")){_56=dj.byId("report_name");}var _57="";if(_55.items.valid===true){if(_56!=undefined){_56.focus();_57=m.getLocalization("reportNameExists",[_55.items.reportName]);_56.set("value","");_56.set("state","Error");dj.hideTooltip(_56.domNode);dj.showTooltip(_57,_56.domNode,0);}}else{}};function _58(_59){var _5a;var _5b=dj.byId("ls_name");if(_5b){_5a=_5b;}var _5c="";if(_59.items.valid===false){if(_5a!=undefined){_5c=m.getLocalization("lsNameExists",[_5a.get("value")]);_5a.focus();_5a.set("state","Error");dj.hideTooltip(_5a.domNode);dj.showTooltip(_5c,_5a.domNode,0);}}else{}};function _5d(_5e){var _5f;if(dj.byId("facility_reference")){_5f=dj.byId("facility_reference");}var _60="";if(_5e.items.valid===true){if(_5f!=undefined){_5f.focus();_60=m.getLocalization("facilityRefExists",[_5f.get("value")]);_5f.set("value","");_5f.set("state","Error");dj.hideTooltip(_5f.domNode);dj.showTooltip(_60,_5f.domNode,0);}}else{}};function _61(_62){var _63;if(dj.byId("employee_no")){_63=dj.byId("employee_no");}var _64="";if(_62.items.valid===true){if(_63!=undefined){_63.focus();_64=m.getLocalization("employeeNoExists",[_63.get("value")]);_63.set("value","");_63.set("state","Error");dj.hideTooltip(_63.domNode);dj.showTooltip(_64,_63.domNode,0);}}else{}};function _65(_66){var _67;if(dj.byId("structure_code")){_67=dj.byId("structure_code");}var _68="";if(_66.items.exists===true){dj.byId("structure_code").set("state","Error");if(_67!=undefined){_68=m.getLocalization("structureCodeExists",[_67.get("value")]);}dj.showTooltip(_68,dj.byId("structure_code").domNode,0);}else{}};function _69(_6a){var _6b;if(dj.byId("effective_date")){_6b=dj.byId("effective_date");}var _6c="";if(_6a.items.exists===true){dj.byId("effective_date").set("state","Error");dj.showTooltip(m.getLocalization("effectiveDateExists"),dj.byId("effective_date").domNode,0);}else{}};function _6d(_6e){var _6f=misys.getLocalization("uploadTemplateValueRequired");_6e.set("state","Error");dj.hideTooltip(_6e.domNode);if(dojo.query("html")&&dojo.query("html")[0]&&dojo.query("html")[0].dir==="rtl"){dj.showTooltip(_6f,_6e.domNode,["before"]);}else{dj.showTooltip(_6f,_6e.domNode,0);}var _70=function(){dj.hideTooltip(_6e.domNode);};setTimeout(_70,5000);};function _71(_72,_73){if(!dj.byId("holidayCutOffDialog")){d.require("misys.widget.Dialog");d.require("dijit.form.Button");var _74=new dj.Dialog({id:"holidayCutOffDialog",title:"Error",draggable:false});var _75=d.create("div",{id:"holidayCutOffDialogContent"});var _76=d.create("div",{id:"dialogHolidayText"},_75,"first");var _77=d.create("div",{id:"holidayCutOffDialogButtons",style:"text-align:center;"},_75,"last");var _78=new dj.form.Button({label:m.getLocalization("returnMessage"),id:"rejectHolidayButtonId"});var _79=new dj.form.Button({label:m.getLocalization("autoForwardMessage"),id:"forwardHolidayButtonId"});var _7a=new dj.form.Button({label:m.getLocalization("cancelMessage"),id:"cancelHolidayButtonId"});if(_72==="UNSIGNED"){d.place(_78.domNode,_77);}if(_73===true){d.place(_79.domNode,_77);}d.place(_7a.domNode,_77);_74.set("content",_75);}if(_72!=="UNSIGNED"&&!_73){m._config.onSubmitErrorMsg=m.getLocalization("failedSingleSubmissionFromDraft");}var _7b=dj.byId("holidayCutOffDialog");if(d.byId("dialogHolidayText")){d.byId("dialogHolidayText").innerHTML=m._config.onSubmitErrorMsg;}m.dialog.connect(_7b,"onKeyPress",function(evt){if(evt.keyCode===d.keys.ESCAPE){d.stopEvent(evt);}});m.dialog.connect(dj.byId("forwardHolidayButtonId"),"onClick",function(){_7b.hide();setTimeout(function(){m.submit("AUTO_FORWARD_SUBMIT");},500);},_7b.id);m.dialog.connect(dj.byId("rejectHolidayButtonId"),"onClick",function(){var _7c="REJECT";if(dj.byId("productcode")&&dj.byId("productcode").get("value")==="FT"||"TD"&&_72==="UNSIGNED"){_7c="RETURN_TRANSACTION";}m.submit(_7c);m.dialog.hide();_7b.hide();},_7b.id);m.dialog.connect(dj.byId("cancelHolidayButtonId"),"onClick",function(){m.dialog.hide();_7b.hide();if(d.byId("dialogHolidayText")){d.byId("dialogHolidayText").innerHTML="";m._config.onSubmitErrorMsg=d.byId("dialogHolidayText").innerHTML;}},_7b.id);m.dialog.connect(_7b,"onHide",function(){m.dialog.disconnect(_7b);m.dialog.hide();});_7b.show();};function _7d(_7e,_7f,_80,_81,_82,_83,_84,_85,_86,_87){var _88=true;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/GetBusinessDateAndCutOffTimeStatus"),sync:true,handleAs:"json",content:{date_names:_82,date_values:_83,bankAbbvName:_7e,entity_abbv_name:_84,product_code:_7f,sub_product_code:_80,cur_code:_85,amount:_86,clearingCode:_87},load:function(_89,_8a){var _8b=_89.valid;var _8c=_89.autoForwardEnabled;if(_8b===false){_88=false;m._config.onSubmitErrorMsg=_89.errorMessage;_71(_81,_8c);}},customError:function(_8d,_8e){console.error("[misys.validation.common] Technical error while validating business days and cut-off time");console.error(_8d);_88=false;m._config.onSubmitErrorMsg=m.getLocalization("technicalErrorWhileValidatingBusinessDays");m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:false});}});return _88;};d.mixin(m,{isIBAN:function(_8f){return _29(_8f)===1;},getLocalizeDisplayDate:function(_90){return _1a(_90);},validateRequiredField:function(){if(this.get("value")===""){_6d(this);}},validateTemplateId:function(){var _91;var _92=d.every(this.get("value"),function(_93){_91=_93;return true;});if(!_92){this.invalidMessage=m.getLocalization("illegalCharError",[_91]);}else{if(this.get("value").length===1&&this.get("value")==="-"){this.invalidMessage=m.getLocalization("singleHyphenError");_92=false;}}return _92;},checkAbbvNameExists:function(){var _94;if(dj.byId("abbv_name")){_94=dj.byId("abbv_name").get("value");}if(_94!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckAbbvNameAction"),handleAs:"json",sync:true,content:{abbv_name:_94},load:_3b});}},validateExtNarrativeSwiftInit2018:function(_95,_96){var _97=_95.trim();var _98=_97.split(/\n/);var _99=_98==""?0:_98.length;return _99>(_96?800:1000)?false:true;},validateRowExtNarrativeSwiftInit2018:function(_9a,_9b){var _9c=_9a.trim();var _9d=_9c.split(/\r*\n/);var _9e=_9d==""?0:_9d.length;var _9f=_9a.trim().length;var _a0=_9f==""?0:_9f;var _a1=_9e>(_9b?800:1000)?true:false;var _a2=_a0>(_9b?52000:65000)?true:false;return (_a1)||(_a2);},validateExtendedNarrativeSwift2018:function(_a3,_a4,_a5,_a6){var _a7=_a3.trim();var _a8=_a7.split(/\n/);var _a9=_a8==""?0:_a8.length+(_a4?_a4:0);var _aa=misys._config.swiftExtendedNarrativeEnabled?(_a6?(_a5?792:800):(_a5?992:1000)):100;return _a9>_aa?false:true;},checkClaimReferenceExists:function(){var _ab,_ac,_ad;if(dj.byId("claim_reference")){_ab=dj.byId("claim_reference").get("value");}if(dj.byId("product_code")){_ac=dj.byId("product_code").get("value");}if(dj.byId("company_id")){_ad=dj.byId("company_id").get("value");}if(_ab!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckClaimReferenceAction"),handleAs:"json",sync:true,content:{claim_ref:_ab,product_code:_ac,company_id:_ad},load:_3f});}},checkPoReferenceExists:function(){var _ae,_af,_b0,_b1,_b2;if(dj.byId("issuer_ref_id")){_ae=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_af=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_b0=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_b1=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_b2=dj.byId("ref_id").get("value");}if(_ae!==""&&_b0!==""&&_b1!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_ae,productCode:_af,buyerAbbvName:_b0,sellerAbbvName:_b1,refId:_b2},load:_44});}},checkInvoiceReferenceExists:function(){var _b3,_b4,_b5,_b6,_b7;if(dj.byId("issuer_ref_id")){_b3=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_b4=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_b5=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_b6=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_b7=dj.byId("ref_id").get("value");}if(_b3!==""&&_b5!==""&&_b6!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_b3,productCode:_b4,buyerAbbvName:_b5,sellerAbbvName:_b6,refId:_b7},load:_48});}},checkInvoiceCustReferenceExists:function(){var _b8,_b9,_ba,_bb,_bc;if(dj.byId("issuer_ref_id")){_b8=dj.byId("cust_ref_id").get("value");}if(dj.byId("product_code")){_b9=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_ba=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_bb=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_bc=dj.byId("ref_id").get("value");}if(_b8!==""&&_ba!==""&&_bb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckCustReferenceAction"),handleAs:"json",sync:true,content:{custRef:_b8,productCode:_b9,buyerAbbvName:_ba,sellerAbbvName:_bb,refId:_bc},load:_4c});}},checkCnReferenceExists:function(){var _bd,_be,_bf,_c0,_c1,_c2;if(dj.byId("cn_reference")){_bd=dj.byId("cn_reference").get("value");}if(dj.byId("product_code")){_be=dj.byId("product_code").get("value");}else{if(dj.byId("productCode")){_be=dj.byId("productCode").get("value");}}if(dj.byId("buyer_abbv_name")){_bf=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_c0=dj.byId("seller_abbv_name").get("value");}if(dj.byId("fscm_programme_code")){_c1=dj.byId("fscm_programme_code").get("value");}if(dj.byId("ref_id")){_c2=dj.byId("ref_id").get("value");}if(_bd!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckCnReferenceAction"),handleAs:"json",sync:true,content:{cnReference:_bd,productCode:_be,buyerAbbvName:_bf,sellerAbbvName:_c0,fscmProgram:_c1,refId:_c2},load:_50});}},checkPoReferenceExistsIO:function(){var _c3,_c4,_c5,_c6,_c7;if(dj.byId("issuer_ref_id")){_c3=dj.byId("issuer_ref_id").get("value");}if(dj.byId("product_code")){_c4=dj.byId("product_code").get("value");}if(dj.byId("buyer_abbv_name")){_c5=dj.byId("buyer_abbv_name").get("value");}if(dj.byId("seller_abbv_name")){_c6=dj.byId("seller_abbv_name").get("value");}if(dj.byId("ref_id")){_c7=dj.byId("ref_id").get("value");}if(_c3!==""){m.xhrPost({url:_2,handleAs:"json",sync:true,content:{poRef:_c3,productCode:_c4,buyerAbbvName:_c5,sellerAbbvName:_c6,refId:_c7},load:_44});}},checkReportNameExists:function(){var _c8;var _c9;if(dj.byId("report_name")){_c8=dj.byId("report_name").get("value");}if(dj.byId("report_id")){_c9=dj.byId("report_id").get("value");}if(_c8!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckReportNameAction"),handleAs:"json",sync:true,content:{report_name:_c8,report_id:_c9},load:_54});}},checkLicenseNameExists:function(){var _ca;if(dj.byId("ls_name")){_ca=dj.byId("ls_name").get("value");}if(_ca!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckLsNameAction"),handleAs:"json",sync:true,content:{ls_Name:_ca},load:_58});}},checkFacilityReferenceExists:function(){var _cb;var _cc;var _cd;var _ce;if(dj.byId("facility_reference")){_cb=dj.byId("facility_reference").get("value");}if(dj.byId("facility_id")){_cc=dj.byId("facility_id").get("value");}if(dj.byId("company_abbv_name")){_ce=dj.byId("company_abbv_name").get("value");}if(dj.byId("bank_abbv_name")){_cd=dj.byId("bank_abbv_name").get("value");}if(_cb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckFacilityReferenceAction"),handleAs:"json",sync:true,content:{facility_reference:_cb,facility_id:_cc,company_abbv_name:_ce,bank_abbv_name:_cd},load:_5d});}},checkEmployeeNoExists:function(){var _cf;var _d0;var _d1;var _d2;if(dj.byId("employee_no")){_cf=dj.byId("employee_no").get("value");}if(dj.byId("company_id")){_d0=dj.byId("company_id").get("value");}if(dj.byId("login_id_hidden")){_d1=dj.byId("login_id_hidden").get("value");}if(dj.byId("login_id")){_d2=dj.byId("login_id").get("value");}if(_cf!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEmployeeNoAction"),handleAs:"json",sync:true,content:{employee_no:_cf,company_id:_d0,login_id_hidden:_d1,login_id:_d2},load:_61});}},checkBankReference:function(){var _d3,_d4;var _d5=true;if(dj.byId("bo_ref_id")){_d3=dj.byId("bo_ref_id").get("value");}if(dj.byId("ref_id")){_d4=dj.byId("ref_id").get("value");}if(_d3!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateDuplicateBankReference"),sync:true,handleAs:"json",content:{bo_ref_id:_d3,refId:_d4},load:function(_d6,_d7){if(_d6.responseFlag==false){_d5=false;}else{}},error:function(_d8,_d9){console.error("checkBankReference AJAX error",_d8);}});}return _d5;},checkRMGroupExists:function(){var _da;var _db=true;if(dj.byId("rmGroup")){_da=dj.byId("rmGroup").get("value");}var _dc=dj.byId("company_id").get("value");if(_da!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckRMGroupExistsAction"),handleAs:"json",sync:false,content:{rm_group:_da,companyid:_dc},load:function(_dd,_de){var _df;if(dj.byId("rmGroup")){_df=dj.byId("rmGroup");}var _e0="";if(_dd.items.valid===false){if(_df!=undefined){_df.focus();_e0=m.getLocalization("rmGroupNoExists",[_dd.items.rmGroup]);_df.set("value","");_df.set("state","Error");dj.hideTooltip(_df.domNode);dj.showTooltip(_e0,_df.domNode,0);}_db=false;}else{}},error:function(_e1,_e2){_db=false;console.error(" processRepricingOfRecords error",_e1);}});}return _db;},validateFeeAccount:function(){var _e3="";var _e4=false;var _e5="";if(dj.byId("fee_act_no")){_e5=_e5=dj.byId("fee_act_no").get("value");}if(dj.byId("entity")){_e3=dj.byId("entity").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetStaticData"),sync:true,handleAs:"json",content:{option:"account",fields:"['fee_act_no']",productcode:"SI",entity:_e3},load:function(_e6,_e7){for(var i=0;i<_e6.items.length;i++){if(_e6.items[i].ACCOUNTNO==_e5){_e4=true;break;}}},error:function(_e8,_e9){console.error("validateFeeAccount AJAX error",_e8);}});return _e4;},validateApplDate:function(_ea){var _eb=true;var _ec;if(dj.byId("appl_date")){_ec=dj.byId("appl_date").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateApplDate"),sync:true,handleAs:"json",content:{bankAbbvName:_ea,applDate:_ec},load:function(_ed,_ee){if(_ed.items.valid==false){_eb=false;if(dj.byId("appl_date")){dj.byId("appl_date").set("value",_ed.items.bDate);dojo.byId("appl_date_view_row").childNodes[1].innerHTML=dj.byId("appl_date").get("value");}}}});return _eb;},goToTop:function(){var _ef=d.byId("body");if(d.isIE<=6){d.window.scrollIntoView(_ef);}else{dojox.fx.smoothScroll({node:_ef,win:window}).play();}},validatePricipleAccount:function(){var _f0="";var _f1="";var _f2=false;var _f3="";if(dj.byId("principal_act_no")){_f3=dj.byId("principal_act_no").get("value");}if(dj.byId("entity")){_f0=dj.byId("entity").get("value");}if(dj.byId("product_code")){_f1=dj.byId("product_code").get("value");}m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetStaticData"),sync:true,handleAs:"json",content:{option:"account",fields:"['principal_act_no']",productcode:_f1,entity:_f0},load:function(_f4,_f5){for(var i=0;i<_f4.items.length;i++){if(_f4.items[i].ACCOUNTNO==_f3){_f2=true;break;}}},error:function(_f6,_f7){console.error("validatePrincipleAccount AJAX error",_f6);}});return _f2;},checkEntityIdExists:function(){var _f8;var _f9;if(dj.byId("abbv_name")){_f8=dj.byId("abbv_name").get("value");}if(dj.byId("company_abbv_name")){_f9=dj.byId("company_id").get("value");}if(_f8!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEntityIdAction"),handleAs:"json",sync:true,content:{abbv_name:_f8,companyId:_f9},load:_3b});}},checkStructureCodeExists:function(){var _fa;if(dj.byId("structure_code")){_fa=dj.byId("structure_code").get("value");}if(_fa!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckStructureCodeExistsAction"),handleAs:"json",sync:true,content:{structureCode:_fa},load:_65});}},checkEffectiveDateExists:function(){var _fb;if(dj.byId("effective_date")){_fb=dj.byId("effective_date").get("displayedValue");}if(_fb!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEffectiveDateExistsAction"),handleAs:"json",sync:true,content:{effective_date:_fb},load:_69});}},validateCashRequestDate:function(){var _fc=dj.byId("appl_date");if(!m.compareDateFields(_fc,this)){this.invalidMessage=m.getLocalization("requestDateLessThanAppDateError",[_1a(this),_1a(_fc)]);return false;}var _fd=dj.byId("iss_date");if(!m.compareDateFields(_fd,this)){this.invalidMessage=m.getLocalization("requestDateLessThanProcessingDateError",[_1a(this),_1a(_fd)]);return false;}return true;},validateAlertDates:function(){var _fe=dj.byId("alert_date");var _ff=dj.byId("alert_date2");if(_fe&&_fe.get("value")!==""&&_ff&&_ff.get("value")!==""&&(!m.compareDateFields(_fe,_ff))){this.invalidMessage=m.getLocalization("alertToDateLessThanFromError",[_1a(_ff),_1a(_fe)]);_ff.set("state","Error");dj.showTooltip(this.invalidMessage,_ff.domNode,0);return false;}return true;},validateLoanTransactionTypeDropDown:function(){dj.byId("tnx_type_code_parameter").set("value","");dj.byId("sub_tnx_type_code_parameter").set("value","");dj.byId("sub_product_code_parameter").set("value","");var _100=(dj.byId("tnx_type_code_dropdown").get("value")).split(":");if(dj.byId("tnx_type_code_dropdown")&&dj.byId("tnx_type_code_dropdown")!=" "){var _101=dj.byId("tnx_type_code_parameter");var _102=dj.byId("sub_tnx_type_code_parameter");var _103=dj.byId("sub_product_code_parameter");if(_100.length>1){_101.set("value",_100[0]);_102.set("value",_100[1]);_103.set("value","");}else{_101.set("value",_100[0]);_103.set("value","LNRPN");_102.set("value","");}}},validateLoanTransactionStatusDropDown:function(){dj.byId("tnx_stat_code_parameter").set("value","");if(dj.byId("sub_tnx_stat_code_parameter")){dj.byId("sub_tnx_stat_code_parameter").set("value","");}if(dj.byId("tnx_stat_code_dropdown")&&dj.byId("tnx_stat_code_dropdown")!=" "){var _104=(dj.byId("tnx_stat_code_dropdown").get("value")).split(":");var _105=dj.byId("tnx_stat_code_parameter");var _106=dj.byId("sub_tnx_stat_code_parameter");if(_104.length>1){_105.set("value",_104[0]);_106.set("value",_104[1]);}else{_105.set("value",_104[0]);if(_106){_106.set("value","");}}}},isLegalTextAcceptedForAuthorizer:function(){var _107=false,_108;m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateAuthorizer"),handleAs:"json",sync:true,preventCache:true,content:{productCode:dj.byId("product_code")?dj.byId("product_code").get("value"):misys._config.productCode,subProductCode:dijit.byId("sub_product_code")?dijit.byId("sub_product_code").get("value"):"",tnxtype:dijit.byId("tnxtype").get("value")?dijit.byId("tnxtype").get("value"):dijit.byId("tnx_type_code").get("value"),option:dj.byId("option")?dj.byId("option").get("value"):"",subtnxtypeCode:dj.byId("sub_tnx_type_code")?dj.byId("sub_tnx_type_code").get("value"):"",xml:misys.formToXML({ignoreDisabled:true}),mode:dj.byId("mode")?dj.byId("mode").get("value"):"",operation:dj.byId("realform_operation")?dj.byId("realform_operation").get("value"):""},load:function(_109,_10a){_107=_109.isValid;_108=_109.errorMsg;},customError:function(_10b,_10c){console.error(" processRepricingOfRecords error",_10b);m._config=m._config||{};dojo.mixin(m._config,{legalTextEnabled:false});}});if(_107){var _10d=dijit.byId("legalDialog");if(!_10d){return true;}if(_10d.open===false){dj.byId("accept_legal_text").set("checked",false);dijit.byId("submitlegal").set("disabled",true);}m.dialog.connect(dj.byId("submitlegal"),"onClick",function(){_10d.hide();setTimeout(function(){m.acceptLegalText();},500);},_10d.id);m.dialog.connect(dj.byId("cancel"),"onClick",function(){m.dialog.disconnect(_10d);},_10d.id);m.dialog.connect(d.byId("legalDialog_close"),"onClick",function(){m.dialog.disconnect(_10d);});dijit.byId("alertDialog").hide();_10d.show();return false;}else{dojo.destroy("authorizer_id");dojo.destroy("legal_text_value");return true;}},validateCashProcessingDate:function(){if(!this.get("value")){return true;}var _10e=dj.byId("appl_date");if(!m.compareDateFields(_10e,this)){this.invalidMessage=m.getLocalization("processingDateLessThanAppDateError",[_1a(this),_1a(_10e)]);return false;}var _10f=dj.byId("iss_date");if(!m.compareDateFields(_10f,this)){this.invalidMessage=m.getLocalization("requestDateLessThanProcessingDateError",[_1a(this),_1a(_10f)]);return false;}if(this.get("value")!==""){var _110;var _111,_112;if(dj.byId("customer_bank")){_112=dj.byId("customer_bank").get("value");}else{if(dj.byId("bank_abbv_name")){_112=dj.byId("bank_abbv_name").get("value");}else{_112=dj.byId("issuing_bank_abbv_name").get("value");}}var _113,_114,_115;if(_112!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank[_112]&&misys._config.businessDateForBank[_112][0]&&misys._config.businessDateForBank[_112][0].value!==""){_113=parseInt(misys._config.businessDateForBank[_112][0].value.substring(0,4),10);_114=parseInt(misys._config.businessDateForBank[_112][0].value.substring(5,7),10);_115=parseInt(misys._config.businessDateForBank[_112][0].value.substring(8,10),10);_111=new Date(_113,_114-1,_115);}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_113=parseInt(misys._config.bankBusinessDate.substring(0,4),10);_114=parseInt(misys._config.bankBusinessDate.substring(5,7),10);_115=parseInt(misys._config.bankBusinessDate.substring(8,10),10);_111=new Date(_113,_114-1,_115);}else{_111=new Date();}}_111.setHours(0,0,0,0);_110=d.date.compare(m.localizeDate(this),_111)<0?false:true;if(!_110){this.invalidMessage=m.getLocalization("processingDateGreaterThanCurrentDateError",[_1a(this)]);return false;}}return true;},validateEndDateWithCurrentDate:function(){if(!this.get("value")){return true;}var _116=this.get("value");var _117,_118;if(dj.byId("customer_bank")){_118=dj.byId("customer_bank").get("value");}else{if(dj.byId("bank_abbv_name")){_118=dj.byId("bank_abbv_name").get("value");}else{if(dj.byId("issuing_bank_abbv_name")){_118=dj.byId("issuing_bank_abbv_name").get("value");}}}var _119,_11a,_11b;if(_118!==""&&misys&&misys._config&&misys._config.businessDateForBank&&misys._config.businessDateForBank[_118]&&misys._config.businessDateForBank[_118][0]&&misys._config.businessDateForBank[_118][0].value!==""){_119=parseInt(misys._config.businessDateForBank[_118][0].value.substring(0,4),10);_11a=parseInt(misys._config.businessDateForBank[_118][0].value.substring(5,7),10);_11b=parseInt(misys._config.businessDateForBank[_118][0].value.substring(8,10),10);_117=new Date(_119,_11a-1,_11b);}else{if(misys&&misys._config&&misys._config.bankBusinessDate&&misys._config.bankBusinessDate!==""){_119=parseInt(misys._config.bankBusinessDate.substring(0,4),10);_11a=parseInt(misys._config.bankBusinessDate.substring(5,7),10);_11b=parseInt(misys._config.bankBusinessDate.substring(8,10),10);_117=new Date(_119,_11a-1,_11b);}else{_117=new Date();}}_117.setHours(0,0,0,0);var _11c=d.date.compare(m.localizeDate(this),_117)<0?false:true;if(!_11c){this.invalidMessage=m.getLocalization("endDateSmallerThanCurrentDate",[_1a(this)]);return false;}return true;},validateTradeExpiryDate:function(){if(!this.get("value")){return true;}var _11d=dj.byId("appl_date");if(!m.compareDateFields(_11d,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanAppDateError",[_1a(this),_1a(_11d)]);return false;}var _11e=dj.byId("iss_date");if((_11e)&&(!m.compareDateFields(_11e,this))){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(_11e),_1a(this)]);return false;}var _11f=dj.byId("org_previous_exp_date");if((_11f)&&(!m.compareDateFields(_11f,this))){this.invalidMessage=m.getLocalization("orgExpDateGreaterThanExpiryDateError",[_1a(this),_1a(_11f)]);return false;}var _120=dj.byId("amd_date");if((_120)&&(!m.compareDateFields(_120,this))){this.invalidMessage=m.getLocalization("ExpiryDateLessThanamendDate",[_1a(this),_1a(_120)]);return false;}var _121=dj.byId("last_ship_date");if((_121)&&(!m.compareDateFields(_121,this))){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(this),_1a(_121)]);return false;}var _122=dj.byId("org_last_ship_date");if((_121&&_121.get("value")==null)&&(_122&&!m.compareDateFields(_122,this))){this.invalidMessage=m.getLocalization("newexpiryDateLessThanOldShipmentError",[_1a(_122),_1a(this)]);return false;}var _123=dj.byId("renewal_calendar_date");if(_123){if(_123.get("value")!=null&&this.get("value")!=null&&(_123.get("value")>this.get("value"))){var _124=dojo.date.locale.format(_123.get("value"),{selector:"date",formatLength:"short",locale:dojo.config.locale});var _125=dojo.date.locale.format(this.get("value"),{selector:"date",formatLength:"short",locale:dojo.config.locale});_123.invalidMessage=m.getLocalization("calendarDateLessThanSystemDate",[_124,_125]);_123.set("state","Error");}else{if(_123.get("value")!=null&&this.get("value")!=null&&_123.get("value")<=this.get("value")){_123.set("state","");}}}var _126=dj.byId("next_revolve_date");if(_126&&!m.compareDateFields(_126,this)){this.invalidMessage=m.getLocalization("expDateLessThanNextRevolveDateError",[_1a(_126),_1a(this)]);return false;}if(!m._config.isBank){var _127=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}}return true;},validateEnteredDateGreaterThanCurrentDate:function(){if(!m._config.isBank||(m._config.isBank&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08")){var _128=dj.byId("maturity_date");if(this.get("value")!=null){var days=_11(this);if(days<0){m.dialog.show("ERROR",m.getLocalization("lessthanCurrentDate"));_128.set("value"," ");return false;}}}return true;},validateAmendBGTradeExpiryDate:function(){var _129=dj.byId("amd_date");if((_129)&&(!m.compareDateFields(_129,this))){this.invalidMessage=m.getLocalization("ExpiryDateLessThanamendDate",[_1a(this),_1a(_129)]);return false;}var _12a=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}var _12b=dj.byId("renewal_calendar_date");if(_12b){if(_12b.get("value")!=null&&this.get("value")!=null&&(_12b.get("value")>this.get("value"))){this.invalidMessage=m.getLocalization("expiryDateLessThanRenewalDate",[_1a(_12b)]);return false;}}return true;},validateContractDate:function(){if(!this.get("value")){return true;}var _12c=dj.byId("appl_date");if(!m.compareDateFields(this,_12c)){this.invalidMessage=m.getLocalization("contractDateGreaterThanApplicationDateError",[_1a(this),_1a(_12c)]);return false;}return true;},validateBaseDate:function(){if(!this.get("value")){return true;}var _12d=dj.byId("appl_date");if(!m.compareDateFields(this,_12d)){this.invalidMessage=m.getLocalization("baseDateGreaterThanApplicationDateError",[_1a(this),_1a(_12d)]);return false;}return true;},validateDocumentDate:function(){if(!this.get("value")){return true;}var _12e=dj.byId("appl_date");if(!m.compareDateFields(this,_12e)){this.invalidMessage=m.getLocalization("documentDateGreaterThanApplicationDateError",[_1a(this),_1a(_12e)]);m._config.errorField.push(this);return false;}if(!(this.get("state")==="Error")){m._config.errorField=[];}return true;},validateTenderExpiryDate:function(){if(!this.get("value")){return true;}var _12f=dj.byId("appl_date");if(!m.compareDateFields(_12f,this)){this.invalidMessage=m.getLocalization("tenderExpDateLessThanApplicationDateError",[_1a(this),_1a(_12f)]);return false;}var _130=dj.byId("exp_date");if((_130)&&(!m.compareDateFields(this,_130))){this.invalidMessage=m.getLocalization("expDateGreaterThanTenderExpiryDateError",[_1a(this),_1a(_130)]);return false;}return true;},validateMessageTradeExpiryDate:function(){if(!this.get("value")){return true;}var _131=dj.byId(this.id);var _132=dj.byId("org_exp_date");if(!m.compareDateFields(_132,_131)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanOrgExpiryDate",[_1a(_131),_1a(_132)]);return false;}var _133=dj.byId("iss_date");if(!m.compareDateFields(_133,_131)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanIssueDate",[_1a(_131),_1a(_133)]);return false;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(_131)]);return false;}return true;},validateMessageTransferTradeExpiryDate:function(){if(!this.get("value")){return true;}var _134=dj.byId(this.id);var _135=dj.byId("org_exp_date");if(!m.compareDateFields(_134,_135)){this.invalidMessage=m.getLocalization("expiryDateBiggerThanOrgExpiryDate",[_1a(_134),_1a(_135)]);return false;}var _136=dj.byId("iss_date");if(!m.compareDateFields(_136,_134)){this.invalidMessage=m.getLocalization("expiryDateSmallerThanIssueDate",[_1a(_134),_1a(_136)]);return false;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(_134)]);return false;}return true;},validateFreeFormatMessage:function(){if(dj.byId("free_format_text").get("value")===""||dj.byId("free_format_text").get("value")===null){this.invalidMessage=m.getLocalization("requiredToolTip");return false;}else{return true;}},validateTradeMaturityDate:function(){if(!this.get("value")){return true;}var _137=dj.byId("appl_date");if(!m.compareDateFields(_137,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_137)]);return false;}return true;},validateAWBIssueDate:function(){if(!this.get("value")){return true;}var _138=dj.byId("appl_date");if(!m.compareDateFields(_138,this)){this.invalidMessage=m.getLocalization("awbIssueDateLessThanAppDateError",[_1a(this),_1a(_138)]);return false;}return true;},validateOrderedDates:function(_139,_13a,_13b,_13c){if(!this.get("value")){return true;}var _13d=dj.byId(_13b);if(!m.compareDateFields(this,_13d)){this.invalidMessage=m.getLocalization(_13c,[_1a(this),_1a(_13d)]);return false;}var _13e=dj.byId(_13a);if(!m.compareDateFields(_13e,this)){this.invalidMessage=m.getLocalization(_13c,[_1a(_13e),_1a(this)]);return false;}return true;},validateDateGreaterThan:function(_13f,_140,_141){if(!this.get("value")){return true;}var _142;if(!_140){_142=dj.byId("appl_date");}else{_142=dj.byId(_140);}if(!m.compareDateFields(_142,this)){this.invalidMessage=m.getLocalization(_141,[_1a(this),_1a(_142)]);return false;}return true;},validateDateSmallerThan:function(_143,_144,_145){if(!this.get("value")){return true;}var _146=dj.byId(_144);if(!m.compareDateFields(this,_146)){this.invalidMessage=m.getLocalization(_145,[_1a(this),_1a(_146)]);return false;}return true;},validateLastShipmentDate:function(){if(!this.get("value")){return true;}var _147=dj.byId("exp_date");if(!m.compareDateFields(this,_147)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(_147),_1a(this)]);return false;}if(_147&&_147.get("value")==null){var _148=dj.byId("org_exp_date");if(_148&&!m.compareDateFields(this,_148)){this.invalidMessage=m.getLocalization("originalexpiryDateLessThanLastShipmentError",[_1a(_148),_1a(this)]);return false;}}var _149=dj.byId("due_date");if(!m.compareDateFields(this,_149)){this.invalidMessage=m.getLocalization("dueDateLessThanLastShipmentError",[_1a(_149),_1a(this)]);return false;}var _14a=dj.byId("earliest_ship_date");if(_14a&&_14a.get("value")!==null){if(misys._config.shipment_period_standard===false){if((!m.compareDateFields(_14a,this))){this.invalidMessage=m.getLocalization("lastDateLesserThanEarliestShipmentDate",[_1a(this),_1a(_14a)]);return false;}}else{if(!m.compareDateFields(_14a,this)){this.invalidMessage=m.getLocalization("lastShipDateLessThanEarliestShipDateError",[_1a(this),_1a(_14a)]);return false;}}}return true;},validateEarliestShipmentDate:function(){if(!this.get("value")){return true;}var _14b=dj.byId("last_ship_date");var _14c=dj.byId("exp_date");if((!m.compareDateFields(this,_14b))){this.invalidMessage=m.getLocalization("earliestDateGreaterThanLastShipmentDate",[_1a(_14b),_1a(this)]);return false;}if(!m.compareDateFields(this,_14c)){this.invalidMessage=m.getLocalization("earliestDateGreaterThanExpiryDate",[_1a(_14c),_1a(this)]);return false;}return true;},validateMessageTransferLastShipmentDate:function(){if(!this.get("value")){return true;}var _14d=dj.byId("exp_date");if(!m.compareDateFields(this,_14d)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(_14d),_1a(this)]);return false;}var _14e=dj.byId(this.id);var _14f=dj.byId("org_last_ship_date");if(!m.compareDateFields(_14e,_14f)){this.invalidMessage=m.getLocalization("lastShipDateBiggerThanOrgLastShipDate",[_1a(_14e),_1a(_14f)]);return false;}return true;},validateRenewFor:function(){if(!isNaN(dj.byId("renew_for_nb").get("value"))){var _150=dj.byId("renew_for_nb").get("value")+"";if(_150.indexOf(".")!==-1){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_150<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateDaysNotice:function(){if(!isNaN(dj.byId("advise_renewal_days_nb").get("value"))){var _151=dj.byId("advise_renewal_days_nb").get("value")+"";if(_151.indexOf(".")!==-1){dj.byId("advise_renewal_days_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_151<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateRollingFrequency:function(){if(!isNaN(dj.byId("rolling_renew_for_nb").get("value"))){var _152=dj.byId("rolling_renew_for_nb").get("value")+"";if(_152.indexOf(".")!==-1){dj.byId("rolling_renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_152<=0){dj.byId("rolling_renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateNumberOfRenewals:function(){if(!isNaN(dj.byId("rolling_renewal_nb").get("value"))){var _153=dj.byId("rolling_renewal_nb").get("value")+"";if(_153.indexOf(".")!==-1){dj.byId("rolling_renewal_nb").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_153<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateCancellationNotice:function(){if(!isNaN(dj.byId("rolling_cancellation_days").get("value"))){var _154=dj.byId("rolling_cancellation_days").get("value")+"";if(_154.indexOf(".")!==-1){dj.byId("rolling_cancellation_days").invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}if(_154<=0){dj.byId("renew_for_nb").invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateTolerance:function(){var _155=(dj.byId("DrawingTolerence_spl")&&dj.byId("DrawingTolerence_spl").get("value")==="true");var _156=dj.byId("max_cr_desc_code")?dj.byId("max_cr_desc_code").get("value"):"";if(_155&&_156==3){if(dj.byId("pstv_tol_pct").get("value")!=0){dj.byId("pstv_tol_pct").set("value","0");}if(dj.byId("neg_tol_pct").get("value")!=5){dj.byId("neg_tol_pct").set("value","5");}dj.byId("pstv_tol_pct").set("readOnly",true);dj.byId("neg_tol_pct").set("readOnly",true);if(!isNaN(this.get("value"))&&this.get("value")<0){return false;}return true;}else{var _157=dj.byId("max_cr_desc_code");if(!(isNaN(this.get("value"))||this.get("value")=="")&&_157&&_157.get("value")){this.invalidMessage=m.getLocalization("toleranceExclusivityError");return false;}else{if(!isNaN(this.get("value"))&&this.get("value")<0){return false;}else{if(dj.byId("pstv_tol_pct").displayedValue==="."&&this.id!=="neg_tol_pct"){this.invalidMessage=m.getLocalization("invalidMessage");return false;}else{if(dj.byId("neg_tol_pct").displayedValue==="."&&this.id!=="pstv_tol_pct"){this.invalidMessage=m.getLocalization("invalidMessage");return false;}}}}return true;}},validateMaxCreditTerm:function(){var _158=dj.byId("DrawingTolerence_spl").get("value")==="true";var _159=dj.byId("max_cr_desc_code");if(_158&&_159==3){d.forEach(dj.byId("max_cr_desc_code").store.root.children,function(_15a){if((dj.byId("max_cr_desc_code").get("displayedValue")===_15a.text)){_15b=true;}});dj.byId("pstv_tol_pct").set("value","0");dj.byId("neg_tol_pct").set("value","5");dj.byId("pstv_tol_pct").set("readOnly",true);dj.byId("neg_tol_pct").set("readOnly",true);return true;}else{dj.byId("pstv_tol_pct").set("readOnly",false);dj.byId("neg_tol_pct").set("readOnly",false);if(this.get("value")&&((!isNaN(dj.byId("pstv_tol_pct").get("value"))||!isNaN(dj.byId("neg_tol_pct").get("value")))&&!(dj.byId("pstv_tol_pct").get("value")==""&&dj.byId("neg_tol_pct").get("value")==""))){this.invalidMessage=m.getLocalization("toleranceExclusivityError");return false;}else{var _15b=false;d.forEach(dj.byId("max_cr_desc_code").store.root.children,function(_15c){if((dj.byId("max_cr_desc_code").get("displayedValue")===_15c.text)){_15b=true;}});}return _15b;}},validateCurrency:function(){var _15d=this.get("value"),_15e=true,that=this;if(!_15d){return true;}if(_15d.length!==3){return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,content:{bank_abbv_name:(dj.byId("bank_abbv_name")&&misys._config.isMultiBank===true)?dj.byId("bank_abbv_name").get("value"):""},preventCache:true,sync:true,load:function(_15f,args){m._config.currencyCodes=_15f.currencyCodesJsonArray;},error:function(_160,args){console.error(_9,_160);}});}if(d.indexOf(m._config.currencyCodes,_15d)===-1){that.invalidMessage=m.getLocalization("invalidCurrencyError",[that.get("displayedValue")]);_15e=false;}return _15e;},validateCurrencyObj:function(_161){var _162=_161.get("value");var _163=true;var that=_161;var _164="";if(!_162){return true;}if(_162.length!==3){_164=m.getLocalization("invalidCurrencyError",[that.get("value")]);that.focus();that.set("value","");dijit.hideTooltip(that.domNode);dijit.showTooltip(_164,that.domNode,0);setTimeout(function(){dijit.hideTooltip(that.domNode);},2000);return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,content:{bank_abbv_name:(dj.byId("bank_abbv_name")&&misys._config.isMultiBank===true)?dj.byId("bank_abbv_name").get("value"):""},preventCache:true,sync:true,load:function(_165,args){m._config.currencyCodes=_165.currencyCodesJsonArray;},error:function(_166,args){console.error(_9,_166);}});}if(d.indexOf(m._config.currencyCodes,_162)===-1){_164=m.getLocalization("invalidCurrencyError",[that.get("value")]);that.focus();that.set("value","");dijit.hideTooltip(that.domNode);dijit.showTooltip(_164,that.domNode,0);setTimeout(function(){dijit.hideTooltip(that.domNode);},2000);_163=false;}return _163;},validateUserAccountNumber:function(){if(misys._config.userAccountValidationEnabled==="false"){return true;}else{var _167=this.get("value"),_168=true,that=this;var _169=new RegExp(misys._config.userAccountValidationRegex);if(_167!==""&&_167!==null){_168=_169.test(_167);}if(!_168){var _16a=that.get("displayedValue");if(_16a){_16a=_16a.replace(/</g,"&lt;");_16a=_16a.replace(/>/g,"&gt;");}that.invalidMessage=m.getLocalization("invalidUserAccountNumber",[_16a]);_168=false;}return _168;}},validateCurrencyCode:function(_16b){var _16c=_16b,_16d=true,that=this;if(!_16c){return true;}if(_16c.length!==3){return false;}if(!m._config.currencyCodes||m._config.currencyCodes.length<1){m._config=m._config||{};d.mixin(m._config,{currencyCodes:[]});m.xhrGet({url:_3,handleAs:"json",contentType:_c,preventCache:true,sync:true,load:function(_16e,args){m._config.currencyCodes=_16e.currencyCodesJsonArray;},error:function(_16f,args){console.error(_9,_16f);}});}if(d.indexOf(m._config.currencyCodes,_16c)===-1){_16d=false;}return _16d;},validateCountry:function(){var _170=this.get("value"),_171=true,that=this;if(!_170){return true;}if(_170.length!==2){return false;}if(!m._config.countryCodes||m._config.countryCodes.length<1){m._config=m._config||{};d.mixin(m._config,{countryCodes:[]});m.xhrGet({url:m.getServletURL("/screen/AjaxScreen/action/GetCountryCodes"),handleAs:"json",contentType:_c,preventCache:true,sync:true,load:function(_172,args){m._config.countryCodes=_172.countryCodesJsonArray;},error:function(_173,args){console.error("[misys.validation.common] validateCountry error",_173);}});}if(d.indexOf(m._config.countryCodes,_170)===-1){that.invalidMessage=m.getLocalization("invalidCountryError",[that.get("displayedValue")]);_171=false;}return _171;},validateExecDate:function(){var _174=dj.byId("appl_date");if(!m.compareDateFields(this,_174)){this.invalidMessage=m.getLocalization("executionDateLessThanAppDateError",[_1a(this),_1a(_174)]);return false;}return true;},validateIssueDate:function(){if(!this.get("value")){return true;}var _175=dj.byId("product_code");if(_175&&_175.get("value")!=="SR"&&_175.get("value")!=="BR"&&_175.get("value")!=="EL"&&_175.get("value")!=="LS"){var _176=dj.byId("appl_date");if(!m.compareDateFields(_176,this)){this.invalidMessage=m.getLocalization("issueDateLessThanAppDateError",[_1a(this),_1a(_176)]);return false;}}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _177=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_177)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_177)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _178=dj.byId("exp_date");if(!m.compareDateFields(this,_178)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_178)]);return false;}}if(dj.byId("product_code")&&dj.byId("product_code").get("value")==="LS"){var _179=dj.byId("bankDate")&&dj.byId("bankDate").get("value")!=null?dj.byId("bankDate").get("value"):"";var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("issueDateGreaterThanCurrentDateError",[_1a(this)]);return false;}if(dj.byId("reg_date")){var _17a=dj.byId("reg_date");if(!m.compareDateFields(_17a,this)){this.invalidMessage=m.getLocalization("issDateLessThanRegDateError",[_1a(this),_1a(_17a)]);return false;}}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!=null){var _17b=dj.byId("valid_from_date");if(!m.compareDateFields(this,_17b)){this.invalidMessage=m.getLocalization("issueDateGreaterThanValidFromDateError",[_1a(this),_1a(_17b)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!=null){var _17c=dj.byId("valid_to_date");if(!m.compareDateFields(this,_17c)){this.invalidMessage=m.getLocalization("issueDateGreaterThanValidToDateError",[_1a(this),_1a(_17c)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!=null){var _17d=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_17d)){this.invalidMessage=m.getLocalization("issueDateGreaterThanLatestPaymentDateError",[_1a(this),_1a(_17d)]);return false;}}if((dj.byId("tnxtype")&&(dj.byId("tnxtype").get("value")!=="38"))||(dj.byId("close_tnx")&&(dj.byId("close_tnx").get("checked")===false))){if(dj.byId("product_code")&&(dj.byId("product_code").get("value")==="IO"||dj.byId("product_code").get("value")==="EA")){var _17e=dj.byId("last_match_date");if((_17e&&_17e.get("value")!=null)&&(!m.compareDateFields(this,_17e))){this.invalidMessage=m.getLocalization("issueDateLessThanLastMatchDateError",[_1a(this),_1a(_17e)]);return false;}}}return true;},validateEffectiveIssueDate:function(){if(!this.get("value")){return true;}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _17f=dj.byId("exp_date");if(!m.compareDateFields(this,_17f)){this.invalidMessage=m.getLocalization("effectiveDateGreaterThanExpiryDateError",[_1a(this),_1a(_17f)]);return false;}}var _180=dj.byId("appl_date");if(_180&&_180.get("value")!=null){if(!m.compareDateFields(_180,this)){this.invalidMessage=m.getLocalization("AppDateMoreThanEffectiveDateError",[_1a(this),_1a(_180)]);return false;}}return true;},validatePaymentDueDate:function(){if(!this.get("value")){return true;}var _181=dj.byId("appl_date");if(!m.compareDateFields(_181,this)){this.invalidMessage=m.getLocalization("paymentDueDateDateLessThanAppDateError",[_1a(this),_1a(_181)]);return false;}return true;},validateMOProdIssueDate:function(){if(!this.get("value")){return true;}var _182=dj.byId("appl_date");if(!m.compareDateFields(this,_182)){this.invalidMessage=m.getLocalization("issueDateMoreThanAppDateError",[_1a(this),_1a(_182)]);return false;}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _183=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_183)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_183)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _184=dj.byId("exp_date");if(!m.compareDateFields(this,_184)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_184)]);return false;}}return true;},validateMOProdELIssueDate:function(){if(!this.get("value")){return true;}if(dj.byId("tenor_maturity_date")&&dj.byId("tenor_maturity_date").get("value")!=null){var _185=dj.byId("tenor_maturity_date");if(!m.compareDateFields(this,_185)){this.invalidMessage=m.getLocalization("IssueDateGreaterThanMaturityDateError",[_1a(this),_1a(_185)]);return false;}}if(dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _186=dj.byId("exp_date");if(!m.compareDateFields(this,_186)){this.invalidMessage=m.getLocalization("issueDateGreaterThanExpiryDateError",[_1a(this),_1a(_186)]);return false;}}return true;},validateMaturityDate:function(){if(!this.get("value")){return true;}var _187=dj.byId("appl_date");if(!m.compareDateFields(_187,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_187)]);return false;}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!=null){var _188=dj.byId("iss_date");if(!m.compareDateFields(_188,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanIssueDateError",[_1a(this),_1a(_188)]);return false;}}return true;},validateIssueDateInMO:function(){var _189=dj.byId("iss_date");var _18a=dj.byId("appl_date");if(_189&&_189.get("value")&&_18a&&_18a.get("value")&&!m.compareDateFields(_18a,_189)){var _18b=function(){var _18c=dijit.byId("iss_date");_18c.focus();_18c.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("issueDateLessThanAppDateError",[_189.get("displayedValue"),_18a.get("displayedValue")]),"",function(){setTimeout(_18b,100);});return false;}},validateMaturityDateInMO:function(){var _18d=dj.byId("maturity_date");var _18e=dj.byId("iss_date");if(_18d&&_18d.get("value")){if(_18e&&_18e.get("value")&&!m.compareDateFields(_18e,_18d)){var _18f=function(){var _190=dijit.byId("maturity_date");_190.focus();_190.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("maturityDateLessThanIssueDateError",[_18d.get("displayedValue"),_18e.get("displayedValue")]),"",function(){setTimeout(_18f,100);});return false;}}return true;},validateLatestAnswerDate:function(){if(!this.get("value")){return true;}var _191=dj.byId("iss_date");if(!m.compareDateFields(_191,this)){this.invalidMessage=m.getLocalization("lastAnwerDateLessThanIssDateError",[_1a(this),_1a(_191)]);return false;}var _192=dj.byId("exp_date");if(!m.compareDateFields(this,_192)){this.invalidMessage=m.getLocalization("lastAnswerDateGreaterThanExpDateError",[_1a(this),_1a(_192)]);return false;}return true;},validateLCAvailableAmt:function(){var _193;if(dj.byId("lc_available_amt").get("value")>0){if(dj.byId("lc_amt")&&dj.byId("lc_available_amt")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")=="03"&&(dj.byId("lc_amt").get("value")!=dj.byId("lc_available_amt").get("value"))){_193=function(){var _194=dijit.byId("lc_available_amt");_194.focus();_194.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("AvailLCAmtNotEqualToTranAmt"),"",function(){setTimeout(_193,500);});}else{if(dj.byId("lc_amt")&&dj.byId("lc_available_amt")&&(dj.byId("lc_amt").get("value")<dj.byId("lc_available_amt").get("value"))){_193=function(){var _195=dijit.byId("lc_available_amt");_195.focus();_195.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("AvailLCamtcanNotMoreThanTranAmt"),"",function(){setTimeout(_193,500);});}}}},validateLCLiabAmt:function(){var _196;if(dj.byId("lc_liab_amt").get("value")>0){if(dj.byId("lc_amt")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"&&(dj.byId("lc_amt").get("value")>dj.byId("lc_liab_amt").get("value"))){_196=function(){var _197=dijit.byId("lc_liab_amt");_197.focus();_197.set("state","Error");};m.dialog.show("ERROR",m.getLocalization("LiabLCAmtcanNotLessThanTranAmt"),"",function(){setTimeout(_196,500);});}}},validateTFMaturityDate:function(){var _198=dj.byId("appl_date");if(!m.compareDateFields(_198,this)){this.invalidMessage=m.getLocalization("maturityDateLessThanAppDateError",[_1a(this),_1a(_198)]);return false;}var _199=dj.byId("iss_date");if(!m.compareDateFields(_199,this)){this.invalidMessage=m.getLocalization("issueDateGreaterThanMaturityError",[_1a(_199),_1a(this)]);return false;}return true;},validateAmendAmount:function(_19a,node,_19b){var _19c=dj.byId(node);_19c.invalidMessage=_19c.messages.invalidMessage;if(!_19c.validator(_19c.textbox.value,_19c.constraints)){return false;}if(_19c&&_19c.get("value")<0){return false;}var _19d=(_19c.state==="Error")?false:true;if(false===_19a||(true===_19a&&!_19d)){_19d=true;var _19e=_19c.id;var _19f=d.number.parse(dj.byId("org_"+_19b+"_amt").get("value"));if(_19e==="inc_amt"){var _1a0=_19c.get("value");if((!isNaN(_1a0))&&((_1a0+_19f)>Number.MAX_VALUE)){_19c.invalidMessage=m.getLocalization("maximumValueError");_19d=false;}}else{if(_19e==="dec_amt"){var _1a1=_19c.get("value");if((!isNaN(_1a1))&&((_19f-_1a1)<0)){_19c.invalidMessage=m.getLocalization("amendAmountLessThanOriginalError");_19d=false;}}}}return _19d;},validateTransferAmount:function(){var _1a2=this.get("value"),_1a3=d.number.parse(dj.byId("org_lc_amt").get("value"));if(_1a2&&_1a3&&_1a3<_1a2){this.invalidMessage=m.getLocalization("transferAmtGreaterThanLCAmtError");return false;}return true;},validateStartDate:function(){if(!this.get("value")){return true;}var _1a4=dj.byId("appl_date");if(!m.compareDateFields(_1a4,this)){this.invalidMessage=m.getLocalization("startDateLessThanAppDateError",[_1a(this),_1a(_1a4)]);return false;}var _1a5=dj.byId("end_date");if(!m.compareDateFields(this,_1a5)){this.invalidMessage=m.getLocalization("startDateGreaterThanEndDateError",[_1a(this),_1a(_1a5)]);return false;}var _1a6=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1a6)){this.invalidMessage=m.getLocalization("startDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1a6)]);return false;}return true;},validateEndDate:function(){if(!this.get("value")){return true;}var _1a7=dj.byId("start_date");if(!m.compareDateFields(_1a7,this)){this.invalidMessage=m.getLocalization("endDateLessThanStartDateError",[_1a(this),_1a(_1a7)]);return false;}var _1a8=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1a8)){this.invalidMessage=m.getLocalization("endDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1a8)]);return false;}return true;},validateNewsStartDate:function(){if(!this.get("value")){return true;}var _1a9=dj.byId("start_display_date");var _1aa=dj.byId("end_display_date");if(!m.compareDateFields(this,_1aa)){this.invalidMessage=m.getLocalization("newsStartDateGreaterThanEndDateError",[_1a(this),_1a(_1aa)]);return false;}var _1ab,_1ac;if((_1a9)&&(_1a9.get("value")!=="")){_1ab=new Date();_1ab.setHours(0,0,0,0);_1ac=d.date.compare(m.localizeDate(_1a9),_1ab)<0?false:true;if(!_1ac){_1a9.state="Error";_1a9.set("focusonerror",true);_1a9.invalidMessage=m.getLocalization("startDateGreaterThanCurrentDateError",[_1a(_1a9)]);_1a9._setStateClass();dj.setWaiState(_1a9.focusNode,"invalid","true");return false;}}return true;},validateNewsEndDate:function(){if(!this.get("value")){return true;}var _1ad=dj.byId("start_display_date");var _1ae=dj.byId("end_display_date");if(!m.compareDateFields(_1ad,this)){this.invalidMessage=m.getLocalization("newsEndDateLesserThanStartDateError",[_1a(this),_1a(_1ad)]);return false;}var _1af,_1b0;if((_1ae)&&(_1ae.get("value")!=="")){_1af=new Date();_1af.setHours(0,0,0,0);_1b0=d.date.compare(m.localizeDate(_1ae),_1af)<0?false:true;if(!_1b0){_1ae.state="Error";_1ae.set("focusonerror",true);_1ae.invalidMessage=m.getLocalization("endDateGreaterThanCurrentDateError",[_1a(_1ae)]);_1ae._setStateClass();dj.setWaiState(_1ae.focusNode,"invalid","true");return false;}}return true;},validateTransferDateCustomer:function(){var _1b1,_1b2;if(!this.get("value")){return true;}var _1b3="";if(dj.byId("customer_bank")){_1b3=dj.byId("customer_bank").get("value");}if(_1b3===""){_1b3=dj.byId("issuing_bank_abbv_name").get("value");}var _1b4=dj.byId("appl_date");if(!m.compareDateFields(_1b4,this)){this.invalidMessage=m.getLocalization("transferDateLessThanAppDateError",[_1a(this),_1a(_1b4)]);return false;}if(dj.byId("sub_product_code").get("value")==="BILLP"||dj.byId("sub_product_code").get("value")==="BILLS"){var _1b5=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1b5)){this.invalidMessage=m.getLocalization("transferDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1b5)]);return false;}}if(this.get("value")!==""){var _1b6=parseInt(misys._config.businessDateForBank[_1b3][0].value.substring(0,4),10);var _1b7=parseInt(misys._config.businessDateForBank[_1b3][0].value.substring(5,7),10);var _1b8=parseInt(misys._config.businessDateForBank[_1b3][0].value.substring(8,10),10);_1b1=new Date(_1b6,_1b7-1,_1b8);_1b1.setHours(0,0,0,0);_1b2=d.date.compare(m.localizeDate(this),_1b1)<0?false:true;if(!_1b2){this.invalidMessage=m.getLocalization("transferDateGreaterThanCurrentDateError",[_1a(this)]);return false;}}return true;},validateTransferDateWithCurrentDate:function(_1b9){var _1ba,_1bb;if((_1b9)&&(_1b9.get("value")!=="")){_1ba=new Date();_1ba.setHours(0,0,0,0);_1bb=d.date.compare(m.localizeDate(_1b9),_1ba)<0?false:true;if(!_1bb){_1b9.state="Error";_1b9.set("focusonerror",true);_1b9.invalidMessage=m.getLocalization("transferDateGreaterThanCurrentDateError",[_1a(_1b9)]);_1b9._setStateClass();dj.setWaiState(_1b9.focusNode,"invalid","true");return false;}}return true;},validateTransferDate:function(){if(!this.get("value")){return true;}var _1bc=dj.byId("appl_date");if(!m.compareDateFields(_1bc,this)){this.invalidMessage=m.getLocalization("transferDateLessThanAppDateError",[_1a(this),_1a(_1bc)]);return false;}if(dj.byId("sub_product_code").get("value")==="BILLP"||dj.byId("sub_product_code").get("value")==="BILLS"){var _1bd=dj.byId("registered_end_date");if(!m.compareDateFields(this,_1bd)){this.invalidMessage=m.getLocalization("transferDateGreaterThanRegisteredEndDateError",[_1a(this),_1a(_1bd)]);return false;}}return true;},validateTransferExpiryDate:function(){if(!this.get("value")){return true;}var _1be=dj.byId("iss_date");if(!m.compareDateFields(_1be,this)){this.invalidMessage=m.getLocalization("transferExpiryDateLessThanIssueDateError",[_1a(this),_1a(_1be)]);return false;}var _1bf=dj.byId("exp_date");if(!m.compareDateFields(this,_1bf)){this.invalidMessage=m.getLocalization("transferExpiryDateGreaterThanExpiryDateError",[_1a(this),_1a(_1bf)]);return false;}return true;},validateTransferLastShipmentDate:function(){if(!this.get("value")){return true;}var _1c0=dj.byId("transfer_expiry_date");if(!m.compareDateFields(this,_1c0)){this.invalidMessage=m.getLocalization("transferLastShipmentDateLessThanTransferExpiryDateError",[_1a(this),_1a(_1c0)]);return false;}return true;},validateValueApplicationDate:function(){var _1c1=this;if(_1c1&&!_1c1.get("value")){return true;}var _1c2=dj.byId("appl_date");var _1c3=d.date.compare(m.localizeDate(_1c1),m.localizeDate(_1c2))<0?false:true;if(!_1c3){_1c1.state="Error";_1c1.set("focusonerror",true);_1c1.invalidMessage=m.getLocalization("valueDateIsLessThanApplDateError",[_1a(_1c1),_1a(_1c2)]);_1c1._setStateClass();dj.setWaiState(_1c1.focusNode,"invalid","true");return false;}return true;},validateTransferNumbers:function(){if(!this.get("value")){return true;}if(this.get("value")<0||this.get("value")>999){this.invalidMessage=m.getLocalization("invalidTransferNumbers");return false;}return true;},validateBlankEndorsedPercentage:function(){if(!this.get("value")){return true;}if(this.get("value")<110||this.get("value")>999){this.invalidMessage=m.getLocalization("invalidBlankEndorsedPercentage");return false;}return true;},validateAmendmentDate:function(){var _1c4=this.get("value");if(!m._config.isBank||(m._config.isBank&&dj.byId("prod_stat_code")&&(dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08"))){if(_1c4!=null){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("amdDateSmallerThanCurrentDate",[_1a(this)]);return false;}}if(dj.byId("amd_date")&&dj.byId("amd_date").get("value")!=null&&dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _1c5=dj.byId("amd_date");var _1c6=dj.byId("exp_date");var _1c7=d.date.compare(m.localizeDate(_1c5),m.localizeDate(_1c6))>=0?false:true;if(!_1c7){this.invalidMessage=m.getLocalization("amdDateGreaterThanExpiryDate",[_1a(_1c5),_1a(_1c6)]);return false;}}}return true;},validateBGAmendmentDate:function(){var _1c8=this.get("value");var _1c9=new Date();var that=this;_1c9.setHours(0,0,0,0);if(_1c8!=null){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("amdDateSmallerThanCurrentDate",[_1a(this)]);return false;}}if(dj.byId("amd_date")&&dj.byId("amd_date").get("value")!=null&&dj.byId("exp_date")&&dj.byId("exp_date").get("value")!=null){var _1ca=dj.byId("amd_date");var _1cb=dj.byId("exp_date");var _1cc=d.date.compare(m.localizeDate(_1ca),m.localizeDate(_1cb))>=0?false:true;if(!_1cc){this.invalidMessage=m.getLocalization("amdDateGreaterThanExpiryDate",[_1a(_1ca),_1a(_1cb)]);return false;}}return true;},validateBankExpiryDate:function(){if(!this.get("value")){return true;}var _1cd=dj.byId("appl_date");if(!m.compareDateFields(_1cd,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanAppDateError",[_1a(this),_1a(_1cd)]);return false;}var _1ce=dj.byId("iss_date");if(!m.compareDateFields(_1ce,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanIssueDateError",[_1a(this),_1a(_1ce)]);return false;}var _1cf=dj.byId("org_previous_exp_date");if(!m.compareDateFields(_1cf,this)){this.invalidMessage=m.getLocalization("orgExpDateGreaterThanExpiryDateError",[_1a(this),_1a(_1cf)]);return false;}var _1d0=dj.byId("last_ship_date");if(!m.compareDateFields(_1d0,this)){this.invalidMessage=m.getLocalization("expiryDateLessThanLastShipmentError",[_1a(this),_1a(_1d0)]);return false;}var _1d1=dj.byId("next_revolve_date");if(_1d1&&!m.compareDateFields(_1d1,this)){this.invalidMessage=m.getLocalization("expDateLessThanNextRevolveDateError",[_1a(_1d1),_1a(this)]);return false;}if((!m._config.isBank&&(null==dj.byId("prod_stat_code")||null!=dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")!="10"))||(m._config.isBank&&null!=dj.byId("prod_stat_code")&&dj.byId("prod_stat_code")&&dj.byId("prod_stat_code").get("value")==="03"||dj.byId("prod_stat_code").get("value")==="08")){if(dj.byId("product_code")&&(dj.byId("product_code").get("value")==="BG"||dj.byId("product_code").get("value")==="LC"||dj.byId("product_code").get("value")==="EL"||dj.byId("product_code").get("value")==="SI")){var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("expiryDateSmallerThanSystemDate",[_1a(this)]);return false;}}}return true;},validateLink:function(){if(dj.byId("link").get("value")!==""&&dj.byId("file_name").get("value")!==""){this.invalidMessage=m.getLocalization("tooManyNewsLinksError");return false;}return true;},validateBICFormat:function(){var bic=this.get("value"),_1d2=new RegExp(dj.byId("swiftBicCodeRegexValue")?dj.byId("swiftBicCodeRegexValue").get("value"):"");if(!dj.byId("swiftBicCodeRegexValue")){this.invalidMessage=m.getLocalization("invalidBICError",[bic]);return false;}if(bic){if(!_1d2.test(bic)){this.invalidMessage=m.getLocalization("invalidBICError",[bic]);return false;}}return true;},validateLiquidityBranchReference:function(){var _1d3=dj.byId("liquidity_branch_reference");if(_1d3&&_1d3.get("value")!==""){var _1d4=misys._config.liquidityBranchReferences;for(var itr=0;itr<_1d4.length;itr++){if(misys._config.liqBranchRef===_1d3.get("value")){return true;}else{if(_1d3.get("value")===_1d4[itr].fi_code&&_1d4[itr].in_use==="Y"){this.invalidMessage=m.getLocalization("invalidLBORefError");return false;}}}}return true;},checkEmailExistence:function(){var _1d5=dj.byId("email");var _1d6=dj.byId("login_id");var _1d7=dj.byId("company_abbv_name");var _1d8=dijit.byId("email");var _1d9=dj.byId("org_email")?dj.byId("org_email").get("value"):"";var _1da=dj.byId("user_id")?dj.byId("user_id").get("value"):"";var _1db=_1d5?_1d5.get("value"):"";var _1dc=_1d6?_1d6.get("value"):"";var _1dd=_1d7?_1d7.get("value"):"";var _1de=(_1d8&&(_1d8.get("state")==="Error"||_1d8.get("state")==="Incomplete"||_1d8.readOnly||_1d8.disabled))?false:true;if(_1db){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckEmailUniquenessAction"),handleAs:"json",sync:true,content:{emailInContext:_1db,loginInContext:_1dc,companyInContext:_1dd,orgEmail:_1d9,userID:_1da},load:function(_1df){var _1e0="";if(_1df.items.isEmailUnique===false&&_1de){_1de=false;_1e0=m.getLocalization("emailIdExists",[_1db]);m.dialog.show("CUSTOM-NO-CANCEL",_1e0,"Email Error",function(){_1d8.focus();_1d8.set("state","Error");dj.hideTooltip(_1d5.domNode);dj.showTooltip(_1e0,_1d5.domNode,0);});setTimeout(function(){dj.hideTooltip(_1d5.domNode);},5000);}else{_1de=true;_1d8.set("state","");}}});}else{_1de=true;}return _1de;},checkBICExistence:function(){var _1e1=dijit.byId(this.id);var _1e2=_1e1?_1e1.get("value"):"";var _1e3=(_1e1&&(_1e1.get("state")==="Error"||_1e1.get("state")==="Incomplete"||_1e1.readOnly||_1e1.disabled))?false:true;if(_1e2&&_1e3){var _1e4=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckSwiftBICAction"),handleAs:"json",sync:true,content:{productCode:_1e4,bicInContext:_1e2},load:function(_1e5){var _1e6="";if(!_1e5.items.bankDataExists){_1e3=true;_1e6=m.getLocalization("nonExistentBICWarning",[_1e2]);m.dialog.show(_4,_1e6,"BIC Error",function(){dj.hideTooltip(_1e1.domNode);dj.showTooltip(_1e6,_1e1.domNode,0);});setTimeout(function(){dj.hideTooltip(_1e1.domNode);},5000);}else{if(!_1e5.items.isValidBic){_1e3=false;_1e6=m.getLocalization("nonExistentBICError",[_1e2]);m.dialog.show(_4,_1e6,"BIC Error",function(){_1e1.focus();_1e1.set("state","Error");dj.hideTooltip(_1e1.domNode);dj.showTooltip(_1e6,_1e1.domNode,0);});setTimeout(function(){dj.hideTooltip(_1e1.domNode);},5000);}}}});}return _1e3;},checkBICExistenceForWidgets:function(){var _1e7=dijit.byId(this.id);var _1e8=_1e7?_1e7.get("value"):"";var _1e9=(_1e7&&(_1e7.get("state")==="Error"||_1e7.get("state")==="Incomplete"||_1e7.readOnly||_1e7.disabled))?false:true;if(_1e8&&_1e9){var _1ea=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckSwiftBICAction"),handleAs:"json",sync:true,content:{productCode:_1ea,bicInContext:_1e8},load:function(_1eb){var _1ec="";if(!_1eb.items.bankDataExists){_1e9=true;_1ec=m.getLocalization("nonExistentBICWarning",[_1e8]);m.dialog.show(_4,_1ec,"BIC Error",function(){dj.hideTooltip(_1e7.domNode);dj.showTooltip(_1ec,_1e7.domNode,0);});setTimeout(function(){dj.hideTooltip(_1e7.domNode);},5000);}else{if(!_1eb.items.isValidBic){_1e9=false;_1ec=m.getLocalization("nonExistentBICError",[_1e8]);m.dialog.show(_4,_1ec,"BIC Error",function(){_1e7.set("value","");_1e7.focus();_1e7.set("state","Error");dj.hideTooltip(_1e7.domNode);dj.showTooltip(_1ec,_1e7.domNode,0);});setTimeout(function(){dj.hideTooltip(_1e7.domNode);},5000);}}}});}return _1e9;},validateBEIFormat:function(){var _1ed="^[A-Z0-9]{4,4}[A-Z]{2,2}[A-Z0-9][A-Z2-9]([A-Z0-9]{3,3}){0,1}$";var bei=this.get("value"),_1ee=(dj.byId("swiftBicCodeRegexValue")&&dj.byId("swiftBicCodeRegexValue").get("value")&&dj.byId("swiftBicCodeRegexValue").get("value")!=="")?new RegExp(dj.byId("swiftBicCodeRegexValue").get("value"),"g"):new RegExp(_1ed,"g");if(bei){if(!_1ee.test(bei)){this.invalidMessage=m.getLocalization("invalidBEIError",[bei]);return false;}}return true;},validateSGI:function(){var reg=misys._config.sgiValidationRegex;var sgi=this.get("value"),_1ef=new RegExp(reg,"g");if(reg!==undefined&&reg!==null){var _1f0=reg.substring(reg.indexOf("["),reg.indexOf("]")+1);var _1f1=reg.substring(reg.indexOf("{"),reg.indexOf("}")).split(",")[1];if(sgi){if(!_1ef.test(sgi)){this.invalidMessage=m.getLocalization("sgiBbanValidationError",[_1f0,_1f1]);return false;}}}return true;},validateBBAN:function(){var reg=misys._config.bbanValidationRegex;var bban=this.get("value"),_1f2=new RegExp(reg);if(reg!==undefined&&reg!==null){var _1f3=reg.substring(reg.indexOf("["),reg.indexOf("]")+1);var _1f4=reg.substring(reg.indexOf("{"),reg.indexOf("}")).split(",")[1];if(bban){if(!_1f2.test(bban)){this.invalidMessage=m.getLocalization("sgiBbanValidationError",[_1f3,_1f4]);return false;}}}return true;},validateCharacters:function(){var _1f5=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?.,+_";var _1f6;var _1f7=d.every(this.get("value"),function(_1f8){_1f6=_1f8;return (_1f5.indexOf(_1f8)<0)?false:true;});if(!_1f7){this.invalidMessage=m.getLocalization("illegalCharError",[_1f6]);}return _1f7;},validateCharsInRolesCreation:function(){var _1f9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-()/'  ";var _1fa;var _1fb=d.every(this.get("value"),function(_1fc){_1fa=_1fc;return (_1f9.indexOf(_1fc)<0)?false:true;});if(!_1fb){this.invalidMessage=m.getLocalization("illegalCharError",[_1fa]);}return _1fb;},validateSwiftAddressCharacters:function(){var _1fd=dj.byId("swiftregexValue").get("value");var _1fe=this.get("value"),_1ff=new RegExp(_1fd);var _200=false;_200=_1ff.test(_1fe);if(!_200){this.invalidMessage=m.getLocalization("invalidSWIFTTransactionError");}return _200;},validateCharactersExcludeSpace:function(){var _201=" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/-?.,+_";var _202;var _203=d.every(this.get("value"),function(_204){_202=_204;return (_201.indexOf(_204)<0)?false:true;});if(!_203){this.invalidMessage=m.getLocalization("illegalCharError",[_202]);}return _203;},validateBlackListChar:function(){var _205=dijit.byId("blacklistspecialcharregexvalue").get("value");var _206=new RegExp(_205);var _207=_206.test(this.get("value"));if(_207){this.invalidMessage=m.getLocalization("blacklistCharError");}return _207;},validateBlackListCharInDynamicRTE:function(_208){var _209=_208?_208.get("value"):"";var _20a=dojo.trim(dojox.html.entities.encode(_209,dojox.html.entities.html));var _20b=dijit.byId("blacklistspecialcharregexvalue").get("value");var _20c=new RegExp(_20b);var _20d=_20c.test(_20a);if(_20d){this.invalidMessage=m.getLocalization("blacklistCharError");}return _20d;},validateSingleEmailAddr:function(){var _20e=this.get("value");var _20f=true;if(_20e===""){return _20f;}if(!dojox.validate.isEmailAddress(_20e)){_20f=false;}if(!_20f){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}return true;},validateEmailAddr:function(){var _210=this.get("value");if(_210===""){return true;}var _211=_210.split(";");var _212=[];var j=0;for(var i=(_211.length-1);i>=0;i--){if(!dojox.validate.isEmailAddress(_211[i])){_212[j]=_211[i];j++;}}if(i>j){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}for(var k=(_212.length-1);k>=0;k--){if(!dojox.validate.isEmailAddress(_212[k])){this.invalidMessage=m.getLocalization("invalidEmailAddressError");return false;}}return true;},validateNoOfEmails:function(){var _213=dj.byId("notify_beneficiary_email").get("value");var res=_213.split(";");if(res.length>10){var _214=m.getLocalization("checkEmailId");dj.byId("notify_beneficiary_email").set("state","Error");dj.hideTooltip(dj.byId("notify_beneficiary_email").domNode);dj.showTooltip(_214,dj.byId("notify_beneficiary_email").domNode,0);}},validateWebAddr:function(){var _215=this.get("value");if(_215===""){return true;}if(!dojox.validate.isUrl(_215)){this.invalidMessage=m.getLocalization("invalidWebAddressError");return false;}return true;},validatePassword:function(){return true;},validateMonthly:function(){if(!dj.byId("frequency_2").get("checked")){this.set("value","");}var _216=this.get("value");if(_216==="29"||_216==="30"||_216==="31"){this.invalidMessage=m.getLocalization("monthDayWarningMessage");return false;}return true;},validateRateFormat:function(){var _217=true;var rate=this.get("value");if(rate<0||rate===0){_217=false;return _217;}var _218=(rate+"");var _219=0;var _21a=0;var _21b=false;var _21c=false;d.forEach(_218,function(_21d){if(((_21d>="0"||_21d<="9")&&_21d!==m.getLocalization("g_strDecimalDelimiter"))){if(!_21b){_219=_219+1;}else{_21a=_21a+1;}}else{if(_21d===m.getLocalization("g_strDecimalDelimiter")){_21b=true;_21c=true;if(_219>m.getLocalization("g_numbersBeforeComma")){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeAndAfterComma",[m.getLocalization("g_numbersBeforeComma"),m.getLocalization("g_numbersAfterComma")]);_217=false;}}}});if(_21a>m.getLocalization("g_numbersAfterComma")){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeAndAfterComma",[m.getLocalization("g_numbersBeforeComma"),m.getLocalization("g_numbersAfterComma")]);_217=false;}var _21e=m.getLocalization("g_numbersBeforeComma");var _21f=parseInt(_21e,10);if(!_21c&&_218.length>_21f){this.invalidMessage=m.getLocalization("rateMessageNumbersBeforeComma",[m.getLocalization("g_numbersBeforeComma")]);_217=false;}return _217;},validateTermNumberField:function(_220){if(!(/Date/.test(this.get("declaredClass")))){return false;}if(!this.isCorrectlyFilled()){return true;}if(!this.isValidNumber()){this.get("_numberField").invalidMessage=m.getLocalization(_220);return false;}return true;},validateDateTermField:function(_221,_222,_223,_224,_225){if(!(/Date/.test(this.get("declaredClass")))){return false;}this.get("_calendarWidget").invalidMessage=this.get("_calendarWidget").messages.invalidMessage;if(!this.get("_calendarWidget").validator(this.get("_calendarWidget").textbox.value,this.get("_calendarWidget").constraints)){return false;}if(!this.isCorrectlyFilled()){return true;}var _226=true;if(!_224){_224=false;}var _227;if(this.isValidDate()){_227=this.getFormalValueDate();if(!_227){return true;}}else{_227=_22(this.get("id"));if(_227<0){return true;}}if(!_227){return true;}var _228;var _229=dj.byId(_222);if(!_222){_228=new Date();}else{if(!(/Date/.test(_229.get("declaredClass")))){_228=m.localizeDate(_229);if(!_228){return true;}}else{if(_229.isValidDate()){_228=_229.getFormalValueDate();if(!_228){return true;}}else{if(_225){_228=_22(_222,_227);}else{_228=_22(_222);}if(_228<0){return true;}}}}_227.setHours(0);_227.setMinutes(0);_227.setSeconds(0);_227.setMilliseconds(0);if(_228!==undefined){_228.setHours(0);_228.setMinutes(0);_228.setSeconds(0);_228.setMilliseconds(0);}if(_224){_226=d.date.compare(_227,_228)<=0?true:false;}else{_226=d.date.compare(_227,_228)>=0?true:false;}if(!_226){this.get("_calendarWidget").invalidMessage=m.getLocalization(_223,[d.date.locale.format(_227,{selector:"date"}),d.date.locale.format(_228,{selector:"date"})]);}return _226;},validateOrderType:function(){var _22a=dj.byId("order_list_by_default");if(_22a&&_22a.get("checked")){return this.get("displayedValue")!=="";}return true;},validateAxisScale:function(){var _22b=dj.byId("chart_axis_x");if((_22b&&_22b.get("value")&&arrColumn)&&(arrColumn[_22b][0]==="Date")){return this.get("displayedValue");}return true;},validateGroupingColumn:function(){var _22c=dj.byId("grouping_enable");if(this.get("value")==""&&this.get("displayedValue")!=""){return false;}if(_22c&&_22c.get("checked")){return this.get("displayedValue")!=="";}return true;},validateOutstandingAmount:function(){var _22d=d.query(".outstanding");if(_22d.length===1){var _22e=dj.byId(d.attr(_22d[0],"widgetid")).get("value")||0;if(_22e>0&&this.get("value")==="10"){this.invalidMessage=m.getLocalization("outstandingAmountShouldBeZero");return false;}}return true;},validatecourierPartnerField:function(){var _22f=dj.byId("courier_partner");var _230=dj.byId("courier_partner_waybill_no");if(_22f&&_230){if(_22f.get("value")!==""){m.toggleRequired("courier_partner_waybill_no",true);}else{m.toggleRequired("courier_partner_waybill_no",false);}}},validateShipmentDates:function(){var _231=dj.byId("last_ship_date"),_232=dj.byId("narrative_shipment_period");if(_231&&_232&&!_231.get("value")&&_232.get("value")===""){m._config.onSubmitErrorMsg=m.getLocalization("shipmentPeriodOrDateMissingError");return false;}return true;},validateHolidaysAndCutOffTime:function(_233,_234,mode,_235,_236,_237,_238,_239){var _23a=misys._config.productCode?misys._config.productCode:"";var _23b=dj.byId(_233)?dj.byId(_233).get("value"):"";var _23c=dj.byId(_234)?dj.byId(_234).get("value"):"";if(_23c==="IAFT"){if(mode==="UNSIGNED"){if(dj.byId(_238).get("value")===dj.byId("applicant_act_cur_code_unsigned").get("value")){_23c="IAFTS";}else{_23c="IAFTD";}}else{if(dj.byId(_238).get("value")===dj.byId("applicant_act_cur_code").get("value")){_23c="IAFTS";}else{_23c="IAFTD";}}}var _23d=dj.byId(_238)?dj.byId(_238).get("value"):"";var _23e=dj.byId(_239)?dj.byId(_239).get("value"):"";m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:true});var _23f=new Array();var _240=dj.byId(_237)?dj.byId(_237).get("value"):"";dojo.forEach(_236,function(node,_241){var date=_36(dj.byId(node));_23f.push(date);});return _7d(_23b,_23a,_23c,mode,_235,_23f,_240,_23d,_23e,null);},validateHolidaysAndCutOffTimeForMUPS:function(_242,_243,mode,_244,_245,_246,_247,_248,_249){var _24a=misys._config.productCode?misys._config.productCode:"";var _24b=dj.byId(_242)?dj.byId(_242).get("value"):"";var _24c=dj.byId(_243)?dj.byId(_243).get("value"):"";var _24d=dj.byId(_249)?dj.byId(_249).get("value"):"";if(_24c==="IAFT"){if(mode==="UNSIGNED"){if(dj.byId(_247).get("value")===dj.byId("applicant_act_cur_code_unsigned").get("value")){_24c="IAFTS";}else{_24c="IAFTD";}}else{if(dj.byId(_247).get("value")===dj.byId("applicant_act_cur_code").get("value")){_24c="IAFTS";}else{_24c="IAFTD";}}}var _24e=dj.byId(_247)?dj.byId(_247).get("value"):"";var _24f=dj.byId(_248)?dj.byId(_248).get("value"):"";m._config=m._config||{};dojo.mixin(m._config,{holidayCutOffEnabled:true});var _250=new Array();var _251=dj.byId(_246)?dj.byId(_246).get("value"):"";dojo.forEach(_245,function(node,_252){var date=_36(dj.byId(node));_250.push(date);});return _7d(_24b,_24a,_24c,mode,_244,_250,_251,_24e,_24f,_24d);},checkAccountStatus:function(_253){var _254=true;m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckAccountStatus"),handleAs:"json",sync:true,content:{accNo:_253},load:function(_255,args){_254=_255.isAccountActive;},error:function(_256,args){console.error("Checking Account status  error ",_256);}});return _254;},validateAlphaNumeric:function(){var _257=dijit.byId("userNameRegexValue").get("value");var _258=new RegExp(_257);var _259=_258.test(this.get("value"));if(!_259){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _259;},validateGroupId:function(){var _25a=dijit.byId("groupIdRegexValue").get("value");var _25b=new RegExp(_25a);var _25c=_25b.test(this.get("value"));if(!_25c){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _25c;},validateGroupName:function(){var _25d=dijit.byId("groupNameRegexValue").get("value");var _25e=new RegExp(_25d);var _25f=_25e.test(this.get("value"));if(!_25f){this.invalidMessage=m.getLocalization("userIdillegalCharError");}return _25f;},validateAlphaNumericRemarks:function(){if(!_d(this," 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")){var _260=m.getLocalization("illegalRemarksCharError",[this.get("value")]);_260=_260.replace(/>/g,"&gt;");_260=_260.replace(/</g,"&lt;");this.invalidMessage=_260;return false;}return true;},validateNumeric:function(){var _261="0123456789";var _262;var _263=d.every(this.get("value"),function(_264){_262=_264;return (_261.indexOf(_264)<0)?false:true;});if(!_263){this.invalidMessage=m.getLocalization("illegalCharError",[_262]);}return _263;},validatePhoneOrFax:function(){var _265="0123456789- ()";var _266;var _267=d.every(this.get("value"),function(_268,_269){if(_269===0&&_268==="+"){return true;}else{_266=_268;return (_265.indexOf(_268)<0)?false:true;}});if(!_267){if(_266==="+"){this.invalidMessage=m.getLocalization("invalidCharacterPosition",[_266]);}else{this.invalidMessage=m.getLocalization("illegalCharErrorContact");}}return _267;},validateFax:function(){var _26a="0123456789- ()";var _26b;var _26c=d.every(this.get("value"),function(_26d,_26e){if(_26e===0&&_26d==="+"){return true;}else{_26b=_26d;return (_26a.indexOf(_26d)<0)?false:true;}});if(!_26c){if(_26b==="+"){this.invalidMessage=m.getLocalization("invalidCharacterPosition",[_26b]);}else{this.invalidMessage=m.getLocalization("illegalCharErrorContactForFax");}}return _26c;},validateTelex:function(){var _26f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ";var _270;var _271=d.every(this.get("value"),function(_272,_273){return (_26f.indexOf(_272)<0)?false:true;});if(!_271){this.invalidMessage=m.getLocalization("illegalCharErrorContactForTelex");}return _271;},validateIPInvoiceDate:function(){if(!this.get("value")){return true;}var _274=dj.byId("due_date");if(!m.compareDateFields(this,_274)){this.invalidMessage=m.getLocalization("invoiceDateGreaterThanDueDateError",[_1a(this),_1a(_274)]);return false;}return true;},validateIPDueDate:function(){if(!this.get("value")){return true;}var _275=dj.byId("appl_date");if(!m.compareDateFields(_275,this)){this.invalidMessage=m.getLocalization("dueDateLessThanAppDateError",[_1a(this),_1a(_275)]);return false;}var _276=dj.byId("iss_date");if(!m.compareDateFields(_276,this)){this.invalidMessage=m.getLocalization("dueDateLessThanInvoiceDateError",[_1a(this),_1a(_276)]);return false;}return true;},validateRemittanceDate:function(){if(!this.get("value")){return true;}var _277=this.get("value");var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("remittanceDateGreaterThanSystemDateError",[_1a(this)]);return false;}return true;},clearPrincipalAndFeeAccount:function(){if(dj.byId("principal_act_name")){dj.byId("principal_act_name").set("value","");}if(dj.byId("fee_act_name")){dj.byId("fee_act_name").set("value","");}},validateAmount:function(_278){if(_278){var amt=_278.get("value");var _279,_27a;if(amt===0){_279=m.getLocalization("amountcannotzero");_278.set("state","Error");dj.hideTooltip(_278.domNode);dj.showTooltip(_279,_278.domNode,0);_278.focus();return false;}else{if((amt<0)||(amt===undefined)){_279=m.getLocalization("invalidMessage");_278.set("state","Error");dj.hideTooltip(_278.domNode);dj.showTooltip(_279,_278.domNode,0);_278.focus();return false;}else{return true;}}}return true;},validateFinalExpiryDate:function(){var _27b=true;var _27c=dj.byId("exp_date").get("value");var _27d=dj.byId("final_expiry_date").get("value");if(_27c==null||_27c==""){_27b=false;this.invalidMessage=m.getLocalization("expiryDateReqd");}else{if(_27d&&_27d!=""){if(_27d<_27c){dj.byId("final_expiry_date").set("value",null);_27b=false;this.invalidMessage=m.getLocalization("finalExpDateLessThanTransactionExpDtError",[dj.byId("final_expiry_date").get("displayedValue"),dj.byId("exp_date").get("displayedValue")]);}}}return _27b;},validateTradeFinalExpiryDate:function(){var _27e=true;var _27f=true;if(this.get("value")!=null){var _280=this.get("value");var _281=dj.byId("renew_on_code").get("value");var _282=dj.byId("renewal_calendar_date").get("value");var _283=dj.byId("renew_for_nb").get("value");var _284=dj.byId("renew_for_period").get("value");var _285=dj.byId("rolling_renewal_nb").get("value");var _286=dj.byId("rolling_renewal_nb").get("value");var _287=null;var _288=null;var _289=null;if(_281==="01"){_288=dj.byId("exp_date").get("value");_289=dj.byId("org_exp_date");if(!_288&&_289){_288=dojo.date.locale.parse(_289.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_288==null){_27f=false;this.invalidMessage=m.getLocalization("expiryDateReqdForFinExpiryDateError");}}else{if(_281==="02"){_288=_282;if(_288==null){_27f=false;this.invalidMessage=m.getLocalization("calendarDateReqdForFinExpiryDateError");}}else{_27f=false;this.invalidMessage=m.getLocalization("renewOnNotSelectedError");}}if(_285==null||isNaN(_285)){_27f=false;this.invalidMessage=m.getLocalization("nbofRenewalsNotSelectedError");}else{if(_281==="01"||_281==="02"){if(_283==null||_283===""||_284==null||_284===""){_27f=false;this.invalidMessage=m.getLocalization("renewForNotSelectedError");}}}if(_27f){switch(_284){case "D":_287=d.date.add(_288,"day",_286*_283);break;case "W":_287=d.date.add(_288,"week",_286*_283);break;case "M":_287=d.date.add(_288,"month",_286*_283);break;case "Y":_287=d.date.add(_288,"year",_286*_283);break;default:break;}var _28a;if(_287!=undefined){_28a=new Date(_287.getTime());}if(_28a!=undefined&&_280.getTime()<_28a.getTime()){_27e=false;var _28b=dojo.date.locale.format(_28a,{selector:"date",formatLength:"short",locale:dojo.config.locale});this.invalidMessage=m.getLocalization("finExpiryDateLessThanLastActiveDateError",[_1a(this),_28b]);}}else{_27e=false;}}return _27e;},validateValidFromDate:function(){if(!this.get("value")){return true;}if(dj.byId("reg_date")){var _28c=dj.byId("reg_date");if(!m.compareDateFields(_28c,this)){this.invalidMessage=m.getLocalization("validFromDateLessThanRegDateError",[_1a(this),_1a(_28c)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!==null){var _28d=dj.byId("iss_date");if(!m.compareDateFields(_28d,this)){this.invalidMessage=m.getLocalization("validFromDateLessThanIssDateError",[_1a(this),_1a(_28d)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!==null){var _28e=dj.byId("valid_to_date");if(!m.compareDateFields(this,_28e)){this.invalidMessage=m.getLocalization("validFromDateGreaterThanValidToDateError",[_1a(this),_1a(_28e)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!==null){var _28f=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_28f)){this.invalidMessage=m.getLocalization("validFromDateGreaterThanLatestPaymntDateError",[_1a(this),_1a(_28f)]);return false;}}return true;},validateValidToDate:function(){if(!this.get("value")){return true;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("validToDateLessThanTodayDateError",[_1a(this)]);return false;}if(dj.byId("appl_date")){var _290=dj.byId("appl_date");if(!m.compareDateFields(_290,this)){this.invalidMessage=m.getLocalization("validToDateLessThanAppDateError",[_1a(this),_1a(_290)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!=null){var _291=dj.byId("iss_date");if(!m.compareDateFields(_291,this)){this.invalidMessage=m.getLocalization("validToDateLessThanIssDateError",[_1a(this),_1a(_291)]);return false;}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!==null){var _292=dj.byId("valid_from_date");if(!m.compareDateFields(_292,this)){this.invalidMessage=m.getLocalization("validToDateLessThanValidFromDateError",[_1a(this),_1a(_292)]);return false;}}if(dj.byId("latest_payment_date")&&dj.byId("latest_payment_date").get("value")!==null){var _293=dj.byId("latest_payment_date");if(!m.compareDateFields(this,_293)){this.invalidMessage=m.getLocalization("validToDateGreaterThanLatestPaymntDateError",[_1a(this),_1a(_293)]);return false;}}return true;},validateLatestPaymentDate:function(){if(!this.get("value")){return true;}if(dj.byId("appl_date")){var _294=dj.byId("appl_date");if(!m.compareDateFields(_294,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanAppDateError",[_1a(this),_1a(_294)]);return false;}}if(dj.byId("iss_date")&&dj.byId("iss_date").get("value")!==null){var _295=dj.byId("iss_date");if(!m.compareDateFields(_295,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanIssDateError",[_1a(this),_1a(_295)]);return false;}}if(dj.byId("valid_from_date")&&dj.byId("valid_from_date").get("value")!==null){var _296=dj.byId("valid_from_date");if(!m.compareDateFields(_296,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanValidFromDateError",[_1a(this),_1a(_296)]);return false;}}if(dj.byId("valid_to_date")&&dj.byId("valid_to_date").get("value")!==null){var _297=dj.byId("valid_to_date");if(!m.compareDateFields(_297,this)){this.invalidMessage=m.getLocalization("latestPaymentDateLessThanValidToDateError",[_1a(this),_1a(_297)]);return false;}}return true;},validateRegDate:function(){if(!this.get("value")){return true;}if(dj.byId("iss_date")){var _298=dj.byId("iss_date");if(!m.compareDateFields(this,_298)){this.invalidMessage=m.getLocalization("regDateGreaterThanIssDateError",[_1a(this),_1a(_298)]);return false;}}var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("RegistrationDateGreaterThanApplicationDateError",[_1a(this)]);return false;}return true;},validateLicenseSettlementAmt:function(){if(dj.byId("ls_amt")){var _299=d.number.parse(dj.byId("ls_amt").get("value"));var _29a=d.number.parse(dj.byId("ls_settlement_amt").get("value"));_299=!isNaN(_299)?_299:0;_29a=!isNaN(_29a)?_29a:0;if(_29a>_299){m.showTooltip(m.getLocalization("lsSettlementAmtGreaterThanLSAmtError",[_29a,_299]),this.domNode,["after"]);this.state="Error";this._setStateClass();dj.setWaiState(this.focusNode,"invalid","true");return false;}}return true;},validateAddLicenseSettlementAmt:function(){if(dj.byId("additional_amt")){var _29b=d.number.parse(dj.byId("additional_amt").get("value"));var _29c=d.number.parse(dj.byId("add_settlement_amt").get("value"));_29b=!isNaN(_29b)?_29b:0;_29c=!isNaN(_29c)?_29c:0;if(_29c>_29b){m.showTooltip(m.getLocalization("addSettlementAmtGreaterThanAddAmtError",[_29c,_29b]),this.domNode,["after"]);this.state="Error";this._setStateClass();dj.setWaiState(this.focusNode,"invalid","true");return false;}}return true;},validateRenewalCalendarDate:function(){var _29d=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _29e=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _29f=new Date();var _2a0=true;if(_29e!=null&&_29e==="02"){var _2a1=dj.byId("exp_date").get("value");var _2a2=dj.byId("org_exp_date");if(!_2a1&&_2a2){_2a1=dojo.date.locale.parse(_2a2.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_2a1==null||_2a1===""){_2a0=false;this.invalidMessage=m.getLocalization("expiryDateReqd");}if(_29d!=null&&_2a1!=null&&((_29d<=_29f)||(_29d>_2a1))){_2a0=false;var _2a3=dojo.date.locale.format(_29f,{selector:"date",formatLength:"short",locale:dojo.config.locale});var _2a4=dojo.date.locale.format(_2a1,{selector:"date",formatLength:"short",locale:dojo.config.locale});this.invalidMessage=m.getLocalization("calendarDateLessThanSystemDate",[_2a3,_2a4]);}}return _2a0;},validateAmendBGRenewalCalendarDate:function(){var _2a5=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _2a6=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _2a7=new Date();if(_2a6!=null&&_2a6==="02"){var _2a8=dj.byId("exp_date").get("value");var _2a9=dj.byId("org_exp_date");var that=this;if(!_2a8&&_2a9){_2a8=dojo.date.locale.parse(_2a9.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_2a8==null||_2a8===""){m.dialog.show("ERROR",m.getLocalization("expiryDateReqd"),"",function(){that.focus();});this.reset();}if(_2a5!=null&&_2a8!=null&&((_2a5<=_2a7)||(_2a5>_2a8))){var _2aa=dojo.date.locale.format(_2a7,{selector:"date",formatLength:"short",locale:dojo.config.locale});var _2ab=dojo.date.locale.format(_2a8,{selector:"date",formatLength:"short",locale:dojo.config.locale});m.dialog.show("ERROR",m.getLocalization("calendarDateLessThanSystemDate",[_2aa,_2ab]),"",function(){that.focus();});this.reset();}}},validateTransportDocumentDate:function(){if(!this.get("value")){return true;}var _2ac=dj.byId("appl_date");if(d.date.compare(this.get("value"),m.localizeDate(_2ac))>=0){this.invalidMessage=m.getLocalization("TransDocDateGreaterThanApplDateError",[_1a(this),_1a(_2ac)]);return false;}return true;},validateFutureDate:function(){if(!this.get("value")){return true;}var _2ad=dj.byId("iss_date");if((_2ad&&_2ad.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_2ad))<=0)){this.invalidMessage=m.getLocalization("issDateSmallerThanFutureDate",[_1a(this),_1a(_2ad)]);return false;}var _2ae=dj.byId("appl_date");if((_2ae&&_2ae.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_2ae))<=0)){this.invalidMessage=m.getLocalization("futureDateSmallerThanAppDate",[_1a(this),_1a(_2ae)]);return false;}return true;},validateTnxAmount:function(){var _2af=dj.byId("tnx_amt");var _2b0=dj.byId("claim_amt");var _2b1=dojo.number.parse(dj.byId("tnx_amt").get("value"));var _2b2;if(dj.byId("lc_amt")){_2b2=dojo.number.parse(dj.byId("lc_amt").get("value"));}else{if(dj.byId("bg_amt")){_2b2=dojo.number.parse(dj.byId("bg_amt").get("value"));}}if(_2b0){var _2b3=dojo.number.parse(_2b0.get("value"));}if(_2b1<0){_2af.invalidMessage=m.getLocalization("totalamount");return false;}if(_2af&&_2b2&&_2b1>_2b2){_2af.invalidMessage=misys.getLocalization("settlementAmtGreaterThanOrigTnxAmtError",[_2b1.toFixed(2),_2b2.toFixed(2)]);return false;}else{if(_2af&&_2b0&&_2b1>_2b3){_2af.invalidMessage=misys.getLocalization("tnxAmtGreaterThanClaimAmtError",[_2b1.toFixed(2),_2b3.toFixed(2)]);return false;}else{if(_2af&&_2b1===0){_2af.invalidMessage=misys.getLocalization("tnxAmtZeroError");return false;}}}return true;},validateFinanceAmt:function(){var _2b4,_2b5;var _2b6=true;if(this.get("value")<=0){_2b6=false;this.invalidMessage=misys.getLocalization("financeRequestAmtError");}else{if(dj.byId("intent_to_pay_amt")){_2b4=Number(dj.byId("intent_to_pay_amt").get("value").replace(",",""));if(_2b4!=""&&this.get("value")>_2b4){_2b6=false;this.invalidMessage=misys.getLocalization("financeRequestAmtErrorForIntentPayAmt");}}else{if(dj.byId("total_net_amt")){_2b5=dj.byId("total_net_amt").get("value");if(_2b5!==""&&this.get("value")>_2b5){_2b6=false;this.invalidMessage=misys.getLocalization("financeRequestAmtErrorForTotalAmt");}}}}return _2b6;},validateParity:function(){var _2b7=this.get("value");var _2b8=true;if((_2b7===0)||(_2b7<0)){this.invalidMessage=m.getLocalization("parityError");_2b8=false;}return _2b8;},validateRemarks:function(){if(!_d(this," 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ#$^*_=`~{}|:./[]-")){var _2b9=m.getLocalization("illegalRemarksCharError",[this.get("value")]);_2b9=_2b9.replace(/>/g,"&gt;");_2b9=_2b9.replace(/</g,"&lt;");this.invalidMessage=_2b9;return false;}return true;},validateLoanIncreaseDate:function(){if(this.get("value")==null){return true;}var _2ba=dj.byId(this.id);var _2bb=new Date();_2bb.setHours(0,0,0,0);var _2bc=d.date.compare(m.localizeDate(this),_2bb)<0?false:true;if(!_2bc){this.invalidMessage=m.getLocalization("loanEffectiveIncreaseDateLessThanCurrentDate",[_1a(this)]);return false;}var _2bd=m.localizeDate(_2ba);var _2be=dj.byId("effective_date");if(_2be){var _2bf=m.localizeDate(_2be);if(d.date.compare(_2bf,_2bd)>0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanLoanEffectiveDateError",[_1a(this),_1a(_2be)]);return false;}}_2bd=m.localizeDate(_2ba);var flag=dj.byId("sub_product_code");var _2c0="SWG";if(flag.get("value")===_2c0){var _2c1=dj.byId("repricing_date");if(_2c1){var _2c2=m.localizeDate(_2c1);if(d.date.compare(_2c2,_2bd)<=0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanRepricingDateError",[_1a(this),_1a(_2c1)]);return false;}}}var _2c3=dj.byId("ln_maturity_date");if(_2c3&&_2c3.get("value")!==""){var _2c4=m.localizeDate(_2c3);if(d.date.compare(_2c4,_2bd)<=0){this.invalidMessage=m.getLocalization("loanAmendDateGreaterThanLoanMatDateError",[_1a(this),_1a(_2c3)]);return false;}}var _2c5=dijit.byId("facility_expiry_date");if(_2c5){var _2c6=m.localizeDate(_2c5);if(d.date.compare(_2c6,_2bd)<0){this.invalidMessage=m.getLocalization("loanAmendDateGreaterThanFacExpDateError",[_1a(this),_1a(_2c5)]);return false;}}var _2c7=dj.byId("appl_date");if(_2c7){var _2c8=m.localizeDate(_2c7);if(d.date.compare(_2c8,_2bd)>0){this.invalidMessage=m.getLocalization("loanAmendDateLesserThanLoanApplDateError",[_1a(this),_1a(_2c7)]);return false;}}return true;},validateBpoBICFormat:function(id){var bic=id.get("value"),_2c9=new RegExp("^[A-Z0-9]{4,4}[A-Z]{2,2}[A-Z0-9][A-Z2-9]([A-Z0-9]{3,3}){0,1}$","g");if(bic){if(!_2c9.test(bic)){var _2ca=m.getLocalization("invalidBICError",[bic]);id.set("value","");id.set("state","Error");m.dialog.show("ERROR",m.getLocalization("focusOnErrorAlert"),"",function(){id.focus();dj.hideTooltip(id.domNode);dj.showTooltip(_2ca,id.domNode,0);});}}},compareDateIsGreater:function(node,_2cb){var _2cc=dj.byId(node);var _2cd=null;if(!(_2cc&&_2cc.get("value"))){return true;}else{_2cd=_2cc.get("value");}var _2ce=new Date();_2ce.setHours(0,0,0,0);if(d.date.compare(m.localizeDate(_2cc),_2ce)<0){m._config.onSubmitErrorMsg=m.getLocalization("expDateSmallerThanCurrentDate",[_1a(_2cc)]);return false;}for(var i=0;i<_2cb.length;i++){var _2cf=dj.byId(_2cb[i]);if((_2cf&&_2cf.get("value"))&&(d.date.compare(_2cd,m.localizeDate(_2cf))<=0)){m._config.onSubmitErrorMsg=m.getLocalization("issDateSmallerThanFutureDate",[_1a(_2cc),_1a(_2cf)]);return false;}}return true;},validateDescriptionGoods:function(){var _2d0=this.get("value"),_2d1=true,that=this;if(_2d0.length>35){that.invalidMessage=m.getLocalization("invalidLSDescGoodsLength",[that.get("displayedValue")]);_2d1=false;return false;}return true;},setRenewalAmount:function(_2d2){var _2d3=_2d2.get("value");if(_2d3==="01"){dj.byId("renew_amt_code_1").set("checked",true);dj.byId("renew_amt_code_1").set("value","01");}else{if(_2d3==="02"){dj.byId("renew_amt_code_2").set("checked",true);dj.byId("renew_amt_code_2").set("value","02");}}},setRenewalAmountOnFormLoad:function(){if(dj.byId("renew_flag")&&dj.byId("renew_flag").get("checked")===true){var _2d4=dj.byId("renew_amount_code")?dj.byId("renew_amount_code").get("value"):"02";if(_2d4){if(_2d4==="01"){dj.byId("renew_amt_code_1").set("checked",true);}else{if(_2d4==="02"){dj.byId("renew_amt_code_2").set("checked",true);}}}}},validateRollingRenewalFrequency:function(node){var _2d5=dj.byId("renew_for_nb").get("value");var _2d6=dj.byId("rolling_renew_for_nb").get("value");if(_2d5!==""&&_2d6!==""&&_2d6>_2d5){node.set("value","");dj.showTooltip(m.getLocalization("rollingFrequencyCannotBeMoreThanRenewalPeriodError"),node.domNode,0);var _2d7=function(){dj.hideTooltip(node.domNode);};setTimeout(_2d7,1500);}},validateEnteredGreaterThanCurrentDate:function(){var _2d8=dj.byId("maturity_date");var _2d9=dj.byId("current_date");if(_2d9&&!m.compareDateFields(_2d9,_2d8)){m.dialog.show("ERROR",m.getLocalization("lessthanCurrentDate"));_2d8.set("value"," ");return false;}return true;},validateIntegerValue:function(node){if(!isNaN(node.get("value"))){var _2da=node.get("value")+"";var _2db=function(){dj.hideTooltip(node.domNode);};if(_2da.indexOf(".")!==-1){dj.showTooltip(m.getLocalization("valueShouldBeInteger"),node.domNode,0);setTimeout(_2db,1500);node.set("state","Error");}if(_2da<=0){dj.showTooltip(m.getLocalization("valueShouldBeGreaterThanZero"),node.domNode,0);setTimeout(_2db,1500);node.set("state","Error");}}},validateNextRevolveDate:function(){if(!this.get("value")){return true;}var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("nextRevolveDateSmallerThanSystemDate",[_1a(this)]);return false;}var _2dc=dj.byId("iss_date");if((_2dc)&&(!m.compareDateFields(_2dc,this))){this.invalidMessage=m.getLocalization("nextRevolveDateLessThenIssDateError",[_1a(this),_1a(_2dc)]);return false;}var _2dd=dj.byId("exp_date");var _2de=dj.byId("org_exp_date");if(_2dd&&!m.compareDateFields(this,_2dd)){this.invalidMessage=m.getLocalization("nextRevolveDateGreaterThanExpiryDateError",[_1a(this),_1a(_2dd)]);return false;}else{if(_2dd.get("value")==null&&_2de&&!m.compareDateFields(this,_2de)){this.invalidMessage=m.getLocalization("nextRevolveDateGreaterThanExpiryDateError",[_1a(this),_1a(_2de)]);return false;}}return true;},validateOpenAccountLastMatchDate:function(){var _2df=dj.byId("last_match_date");var _2e0=m.getMaxBPOExpiryDate();if(_2df&&_2df.get("value")!=null&&_2e0!==""){if(d.date.compare(_2df.get("value"),_2e0)>0){this.invalidMessage=m.getLocalization("lastMatchDateGreaterThanBpoExpiryDateError",[_1a(this),dojo.date.locale.format(_2e0,{locale:dojo.config.locale,formatLength:"short",selector:"date"})]);return false;}}var _2e1=dj.byId("exp_date");if(_2df&&_2df.get("value")!=null&&_2e1&&_2e1.get("value")!=null){if(d.date.compare(_2df.get("value"),_2e1.get("value"))>0){this.invalidMessage=m.getLocalization("lastMatchDateGreaterThanExpiryDateError",[_1a(this),_1a(_2e1)]);return false;}}var _2e2=dj.byId("iss_date");if(_2df&&_2df.get("value")!=null&&_2e2&&_2e2.get("value")!=null){if(d.date.compare(_2df.get("value"),_2e2.get("value"))<0){this.invalidMessage=m.getLocalization("lastMatchDateLessThanIssueDateError",[_1a(this),_1a(_2e2)]);return false;}}var _2e3=dj.byId("appl_date");if(_2df&&_2df.get("value")!=null&&_2e3&&_2e3.get("value")!=null){if(d.date.compare(_2df.get("value"),_2e3.get("value"))<0){this.invalidMessage=m.getLocalization("lastMatchDateLessThanApplicationDateError",[_1a(this),_1a(_2e3)]);return false;}}return true;},checkContractPercent:function(){if(!this.get("value")){return true;}var _2e4=this.get("value");var _2e5=_2e4.toString().indexOf(".");var _2e6=_2e4.toString().length;if(_2e4<=100&&_2e4>=0){if(_2e5===-1&&_2e6>12){this.invalidMessage=m.getLocalization("contractPercentMoreThan12DigitError");return false;}else{if(_2e4.toString().indexOf(".")>=0){var _2e7=(_2e6-_2e5-1);if(_2e7>2){this.invalidMessage=m.getLocalization("contractPercentMoreThan2DecilamError");return false;}}}return true;}else{this.invalidMessage=m.getLocalization("contractPercentMoreThan100Error");return false;}},validateEarliestShipDate:function(){if((dj.byId("tnxtype")&&(dj.byId("tnxtype").get("value")==="38"))||(dj.byId("close_tnx")&&(dj.byId("close_tnx").get("checked")===true))){return true;}if(!this.get("value")){return true;}var _2e8=dj.byId("iss_date");if((_2e8&&_2e8.get("value"))&&(d.date.compare(this.get("value"),m.localizeDate(_2e8))<0)){this.invalidMessage=m.getLocalization("issDateSmallerThanEarliestShipDate",[_1a(this),_1a(_2e8)]);return false;}var _2e9=dj.byId("appl_date");if((_2e9)&&(d.date.compare(this.get("value"),m.localizeDate(_2e9))<0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanAppDate",[_1a(this),_1a(_2e9)]);return false;}var _2ea=dj.byId("exp_date");var _2eb=m.getMaxBPOExpiryDate();if(this.get("value")!==""&&_2eb&&_2eb!==""){if(d.date.compare(this.get("value"),_2eb)>0){this.invalidMessage=m.getLocalization("BPOexpiryDateLessThanEarliestShipmentError",[_1a(this),dojo.date.locale.format(_2eb,{locale:dojo.config.locale,formatLength:"short",selector:"date"})]);return false;}}if(_2ea&&!m.compareDateFields(this,_2ea)){this.invalidMessage=m.getLocalization("expiryDateLessThanEarliestShipmentError",[_1a(this),_1a(_2ea)]);return false;}var _2ec=dj.byId("last_ship_date");if((_2ec&&_2ec.get("value")!=null)&&(d.date.compare(this.get("value"),m.localizeDate(_2ec))>0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2ec)]);return false;}var _2ed=dj.byId("line_item_last_ship_date");if((_2ed&&_2ed.get("value")!=null)&&(d.date.compare(this.get("value"),m.localizeDate(_2ed))>0)){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2ed)]);return false;}var _2ee=dj.byId("schedule_latest_ship_date");var _2ef=dj.byId("line_item_shipment_schedules");if(_2ef&&_2ef.store&&_2ef.store._arrayOfTopLevelItems.length>0&&_2ee&&_2ee.get("value")!=null){if(d.date.compare(this.get("value"),m.localizeDate(_2ee))>0){this.invalidMessage=m.getLocalization("earliestShipDateSmallerThanLastShipDate",[_1a(this),_1a(_2ee)]);return false;}}return true;},validateGroupCode:function(){var _2f0=reg_exp_validationCode.value,_2f1=dj.byId("group_code").get("value"),_2f2=new RegExp(_2f0);if(_2f1){if(!_2f2.test(_2f1)){dj.byId("group_code").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateCode"));return false;}}return true;},validateDescription:function(){var _2f3=reg_exp_validationDesc.value,_2f4=dj.byId("description").get("value"),_2f5=new RegExp(_2f3);if(_2f4){if(!_2f5.test(_2f4)){dj.byId("description").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateDesc"));return false;}}return true;},validateLCAvailablelAmount:function(_2f6){if(_2f6){var amt=_2f6.get("value");var _2f7,_2f8;if((amt<0)||(amt===undefined)){_2f7=m.getLocalization("invalidMessage");_2f6.set("state","Error");dj.hideTooltip(_2f6.domNode);dj.showTooltip(_2f7,_2f6.domNode,0);_2f6.focus();return false;}else{return true;}}return true;},validateSubGroupCode:function(){var _2f9=reg_exp_validationCode.value,_2fa=dj.byId("sub_group_code").get("value"),_2fb=new RegExp(_2f9);if(_2fa){if(!_2fb.test(_2fa)){dj.byId("sub_group_code").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateCode"));return false;}}return true;},validateHighTargetBalances:function(){if(dj.byId("subGrpType").get("value")&&dj.byId("subGrpType").get("value")==="1"){if(dj.byId("high_target")&&dj.byId("low_target")){var _2fc=dj.byId("high_target").get("value");var _2fd=dj.byId("low_target").get("value");if(_2fc<_2fd){var _2fe=misys.getLocalization("hightargetLesserThanhighTargetError");dj.byId("high_target").set("state","Error");dj.hideTooltip(dj.byId("high_target").domNode);dj.showTooltip(_2fe,dj.byId("high_target").domNode,0);return false;}}}return true;},validateLowTargetBalances:function(){if(dj.byId("subGrpType").get("value")&&dj.byId("subGrpType").get("value")==="1"){if(dj.byId("high_target")&&dj.byId("low_target")){var _2ff=dj.byId("high_target").get("value");var _300=dj.byId("low_target").get("value");if(_300>_2ff){var _301=misys.getLocalization("lowtargetGreaterThanhighTargetError");dj.byId("low_target").set("state","Error");dj.hideTooltip(dj.byId("low_target").domNode);dj.showTooltip(_301,dj.byId("low_target").domNode,0);return false;}}}return true;},validateSubGrpDescription:function(){var _302=reg_exp_validationDesc.value,_303=dj.byId("subgrp_description").get("value"),_304=new RegExp(_302);if(_303){if(!_304.test(_303)){dj.byId("subgrp_description").set("state","Error");misys.dialog.show("ERROR",misys.getLocalization("validateDesc"));return false;}}return true;},checkUploadTemplateNameExists:function(){var name,_305,_306,_307;var _308=false;if(dj.byId("name")){name=dj.byId("name").get("value");}if(dj.byId("product_code")){_305=dj.byId("product_code").get("value");}if(dj.byId("sub_product_code")){_306=dj.byId("sub_product_code").get("value");}if(dj.byId("upload_template_id")){_307=dj.byId("upload_template_id").get("value");}if(name!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/CheckFileUploadTemplateAction"),handleAs:"json",sync:true,content:{name:name,productCode:_305,subProdCode:_306,uploadTemplateId:_307},load:function(_309,args){_308=_309.items.valid;}});}return _308;},checkNumericOnlyValue:function(){var _30a=this.get("value");if(_30a!==""){if(_30a.match(/^[0-9]+$/)===null){this.invalidMessage=misys.getLocalization("valueShouldBeInteger");this.set("state","Error");dj.hideTooltip(this.domNode);dj.showTooltip(misys.getLocalization("valueShouldBeInteger"),this.domNode,0);return false;}}return true;},validatePeriodPresentationDays:function(){var _30b=dj.byId("period_presentation_days");var _30c=dj.byId("period_presentation_days").get("value");if(typeof _30c==="undefined"){this.invalidMessage=m.getLocalization("valueShouldBeInteger");return false;}else{if(_30c<=0){this.invalidMessage=m.getLocalization("valueShouldBeGreaterThanZero");return false;}}return true;},validateBeneficiaryStatus:function(){var _30d=dj.byId("beneficiary_name")?dj.byId("beneficiary_name").get("value"):"";var _30e=dj.byId("company_id")?dj.byId("company_id").get("value"):"";var _30f=true;if(_30d!==""&&_30e!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateBeneficiaryStatus"),handleAs:"json",sync:true,content:{beneficiary_name:_30d,company_id:_30e},load:function(_310,args){if(_310&&_310.items&&_310.items.active===false){_30f=false;}else{}},error:function(_311,args){_30f=false;console.error(" Validating beneficiary status error",_311);}});}return _30f;},validateLength:function(_312){var set=true;var _313=m._config.trade_total_combined_sizeallowed;d.forEach(_312,function(id){if(id){var _314=0;var _315=[id+"_name",id+"_address_line_1",id+"_address_line_2",id+"_dom",id+"_address_line_4"];d.forEach(_315,function(id){var _316=dj.byId(id);if(_316){_314=_314+(_316.get("value")).length;if(_314>_313){m._config.onSubmitErrorMsg=m.getLocalization("invalidBankFieldSizeErrorForTrade");set=false;}}});}});return set;},validateDiscountExpDate:function(){if(!this.get("value")){return true;}var _317=dj.byId("due_date");if(!m.compareDateFields(this,_317)){this.invalidMessage=m.getLocalization("expiryDateGraterThanDueDateError",[_1a(this),_1a(_317)]);return false;}return true;},validateEmailid:function(){var _318;if(dj.byId("email")){_318=dj.byId("email").get("value");}if(_318!==""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateEmailAddress"),handleAs:"json",sync:true,content:{email:_318},load:_1c});}},validateBaseDateWithCurrentSystemDate:function(){if(!this.get("value")){return true;}var _319=this.get("value");var days=_11(this);if(days>0){this.invalidMessage=m.getLocalization("baseDateGreaterThanSystemDateError",[_1a(this)]);return false;}return true;},validateMaturityDateWithSystemDate:function(){if(!this.get("value")){return true;}var _31a=this.get("value");var days=_11(this);if(days<0){this.invalidMessage=m.getLocalization("maturityDateLessThanSystemDateError",[_1a(this)]);return false;}return true;},validateOffset:function(_31b){if(_31b==Math.floor(_31b)){return true;}else{return false;}},bofunction:function(){var _31c=dj.byId("bo_comment");if(_31c.get("value").charAt(0)=="-"){this.invalidMessage=m.getLocalization("hyphenError");return false;}if(this.rowCount>=this.maxSize){this.invalidMessage=misys.getLocalization("textareaLinesError",[this.maxSize,this.rowCount+1]);return false;}return true;},getUnitMesureLocalization:function(_31d,item){var _31e="";if(item){var _31f=item.qty_unit_measr_label[0];_31e=_31f;}return _31e;},validateMandatoryRemarks:function(){var _320=dj.byId("issuing_bank_abbv_name"),_321=dj.byId("sub_product_code"),_322=dj.byId("ft_cur_code"),_323=dj.byId("applicant_act_cur_code");var _324=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateMandatoryRemarks"),handleAs:"json",sync:true,content:{bank_name:_320.get("value"),payment_type:_321.get("value"),credit_currency:_322.get("value"),debit_currency:_323.get("value")},load:function(_325,args){var a="";switch(_325.items.StatusCode){case "OK":var _326=_325.items.mandatoryIndicator;var _327=_325.items.credCur;var _328=_325.items.debCur;if(_326&&_327&&_328){if(_326==="Y"||_326==="y"){dj.byId("free_format_text").set("required",true);if(document.getElementById("mandatorySpan")==undefined){var _329=dojo.create("span",{"id":"mandatorySpan","class":"required-field-symbol","innerHTML":"*"});d.parser.parse(_329);dojo.place(_329,dojo.byId("free_format_text"),"before");_324=true;}else{a=document.getElementById("mandatorySpan");a.setAttribute("style","display:inline-block");}}}else{dj.byId("free_format_text").set("required",false);if(document.getElementById("mandatorySpan")){a=document.getElementById("mandatorySpan");a.setAttribute("style","display:none");}}break;default:break;}},error:function(_32a,args){console.error(_5);console.error(_32a);}});return _324;},MT103DetailsBeneficiary:function(){var _32b=dj.byId("issuing_bank_abbv_name"),_32c=dj.byId("sub_product_code"),_32d=dj.byId("ft_cur_code"),_32e=dj.byId("applicant_act_cur_code");var _32f=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateMandatoryRemarks"),handleAs:"json",sync:true,content:{bank_name:_32b.get("value"),payment_type:_32c.get("value"),credit_currency:_32d.get("value"),debit_currency:_32e.get("value")},load:function(_330,args){var a="";switch(_330.items.StatusCode){case "OK":var _331=_330.items.mandatoryIndicator;if(_331){if(_331==="Y"||_331==="y"){dj.byId("payment_details_to_beneficiary").set("required",true);m.toggleRequired("payment_details_to_beneficiary",true);}}else{dj.byId("payment_details_to_beneficiary").set("required",false);m.toggleRequired("payment_details_to_beneficiary",false);}break;default:break;}},error:function(_332,args){console.error(_5);console.error(_332);}});return _32f;},validateRemittanceReasonCode:function(){var _333=dj.byId("issuing_bank_abbv_name"),_334=dj.byId("ft_cur_code");var _335=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateRemittanceReasonCode"),handleAs:"json",sync:true,content:{bank_name:_333.get("value"),bene_currency:_334.get("value")},load:function(_336,args){switch(_336.items.StatusCode){case "OK":var _337=_336.items.mandatoryIndicator;_335=true;if(_337){if(_337==="Y"||_337==="y"){m.toggleRequired("remittance_description",true);}}else{m.toggleRequired("remittance_description",false);}break;default:break;}},error:function(_338,args){console.error(_5);console.error(_338);}});return _335;},MT103ValidCountryCode:function(){var _339=dj.byId("issuing_bank_abbv_name"),_33a=dj.byId("ft_cur_code"),_33b=dj.byId("cpty_bank_country");if(_33b.get("value")===""){return true;}var _33c=false;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/ValidateCountryCode"),handleAs:"json",sync:true,content:{bank_name:_339.get("value"),currency_code:_33a.get("value"),country_code:_33b.get("value")},load:function(_33d,args){var a="";switch(_33d.items.StatusCode){case "Mandatory":var _33e=_33d.items.mandatoryIndicator;var _33f=_33d.items.countryCode;_33c=true;if(_33e&&_33f){if(_33e==="Y"||_33e==="y"){m.toggleRequired("intermediary_bank_swift_bic_code",true);m.toggleRequired("intermediary_bank_name",true);m.toggleRequired("intermediary_bank_address_line_1",true);m.toggleRequired("intermediary_bank_country",true);}}else{m.toggleRequired("intermediary_bank_swift_bic_code",false);m.toggleRequired("intermediary_bank_name",false);m.toggleRequired("intermediary_bank_address_line_1",false);m.toggleRequired("intermediary_bank_country",false);}break;case "NotMandatory":m.toggleRequired("intermediary_bank_swift_bic_code",false);m.toggleRequired("intermediary_bank_name",false);m.toggleRequired("intermediary_bank_address_line_1",false);m.toggleRequired("intermediary_bank_country",false);break;default:break;}},error:function(_340,args){console.error(_5);console.error(_340);}});return _33c;},MT103Intermediarydetailvalidation:function(){if(!misys._config.mt103_intermediary_details){return true;}var _341=dj.byId("issuing_bank_abbv_name"),_342=dj.byId("ft_cur_code"),_343=dj.byId("intermediary_bank_country"),_344="";var _345=true;m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/IntermediaryDetailValidation"),handleAs:"json",sync:true,content:{bank_name:_341.get("value"),currency_code:_342.get("value"),country_code:_343.get("value")},load:function(_346,args){var a="";switch(_346.items.StatusCode){case "Mandatory":var _347=_346.items.mandatoryIndicator;var _348=_346.items.countryCode;_345=false;if(_347&&_348){if(_347==="Y"||_347==="y"){_344=_343.value+": is not valid Country Code";_343.set("state","Error");m.dialog.show("ERROR",_344);}}else{m.toggleRequired("intermediary_bank_country",false);_345=true;}break;case "NotMandatory":m.toggleRequired("intermediary_bank_country",false);_345=true;break;default:break;}},error:function(_349,args){console.error(_5);console.error(_349);}});return _345;},_validateCurrencyCode:function(_34a,_34b){var _34c=_34a?_34a.get("value"):"";var _34d=_34b?_34b.get("value"):"";var _34e="";var _34f=true;if(_34d!=""){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/ValidateCurrencyValid"),handleAs:"json",sync:true,content:{subproductcode:_34c,transferCurCode:_34d},load:function(_350,args){var _351=_350.isValid;if(!_351){_34e=m.getLocalization("invalidCurrencyConfigured",[_34b.get("value")]);_34b.set("state","Error");dj.showTooltip(_34e,_34b.domNode,0);_34f=false;return _34f;}}});}return _34f;},validateDocumentAmtAndLCAmt:function(){var _352=dj.byId("prod_stat_code")&&!(dj.byId("prod_stat_code").get("value")==="08"||dj.byId("prod_stat_code").get("value")==="31");if(_352){var _353=dojo.number.parse(dj.byId("org_lc_liab_amt").getValue());if(dj.byId("tnx_amt")){var _354=dj.byId("tnx_amt").getValue();if(isNaN(_354)){return true;}if((_354>0)&&(_354>_353)){if(dj.byId("prod_stat_code").get("value")=="12"){var _355=document.documentElement.getAttribute("lang");var _356=dojo.currency.format(parseFloat(_354));var _357=dojo.currency.format(parseFloat(_353));var _358=m.getLocalization("documentAmtGreaterthanLiabilityAmt",[dj.byId("lc_cur_code").getValue(),_356,_357]);if(_355==="ar"){m.showTooltip(_358,dj.byId("tnx_amt").domNode,["before"]);}else{m.showTooltip(_358,dj.byId("tnx_amt").domNode,["after"]);}return true;}else{var _359=m.getLocalization("documentAmtGreaterThanLCAmt",[dj.byId("lc_cur_code").getValue(),_354,_353]);dj.byId("tnx_amt").set("state","Error");dj.byId("tnx_amt").set("value","");dj.hideTooltip(dj.byId("tnx_amt").domNode);dj.showTooltip(_359,dj.byId("tnx_amt").domNode,100);dj.byId("tnx_amt").invalidMessage=_359;m._config.onSubmitErrorMsg=_359;return false;}}}}return true;}});})(dojo,dijit,misys);dojo.require("misys.client.validation.common_client");}
/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["misys.form.common"]){dojo._hasResource["misys.form.common"]=true;dojo.provide("misys.form.common");dojo.require("dojo.data.ItemFileWriteStore");dojo.require("misys.form.SortedFilteringSelect");(function(d,dj,m){var _1="tab title:";var _2="label[for=tenor_period_label]";var _3="Advising Bank";var _4="requested-conf-party-bank-details";var _5="view-narrative-swift";var _6="&productcode=";var _7="[misys.form.common] Opening a child dialog at URL";var _8="/screen/AjaxScreen/action/";var _9="AjaxScreen/action/GetStaticDataPopup";var _a="[misys.form.common] Retrieving grid content from URL";var _b="excluded-value";var _c="attachment-file";var _d="13",_e="40",_f="300",_10=0,_11=0,_12=0,_13=0,_14=true,_15=true;function _16(msg){var re=new RegExp(/^[a-zA-Z]{1}[).#+-]|^[1-9]{1,2}[).#+-]|^[\+#-]/);var _17=msg.split(/\n/);var _18="<pre style=\"background-color:#ffffff;border-width:0px; white-space: pre-wrap;\">";for(var i=0;i<_17.length;i++){_17[i]=_17[i]+"\n";var len=_17[i].length;var _19="";if(_17[i][len-1]==="\n"&&_17[i+1]!=undefined&&(re.test(_17[i+1].trim())||_17[i+1].trim()===""||_17[i+1].trim()==="\n")){_19=_17[i].replace(/\n/g,"");_19=_19+"<br/>";}else{_19=_17[i].replace(/\n/g," ");}_18+=_19;}_18+="</pre>";return _18;};function _1a(msg){var _1b=msg;_1b=_1b.replace(/&#xa;/g,"\n");_1b=_1b.replace(/&#xa;/g,"\t");_1b=_1b.replace(/&#x29;/g,")");_1b=_1b.replace(/&#x2b;/g,"+");_1b=_1b.replace(/&#x23;/g,"#");_1b=_1b.replace(/&#x2d;/g,"-");_1b=_1b.replace(/&#x3e;/g,">");_1b=_1b.replace(/&#x3c;/g,"<");_1b=_1b.replace(/&#x2f;/g,"/");_1b=_1b.replace(/&#x9;/g,"");_1b=_1b.replace(/&#x26;nbsp&#x3b;/g," ");_1b=_1b.replace(/&#x26;amp&#x3b;/g,"&");return _16(_1b);};function _1c(_1d){var _1e=m._config.productCode.toLowerCase(),_1f=dj.byId(_1e+"_amt"),_20=dj.byId("org_"+_1e+"_amt"),_21=d.number.parse(_20.get("displayedValue")),_22=d.number.parse(_1d.get("displayedValue"));_21=!isNaN(_21)?_21:0;_22=!isNaN(_22)?_22:null;if(_1d.id==="inc_amt"||_1d.id==="inc_amt_value"){_1f.set("value",_21+_22);m.setTnxAmt(_22);}else{if(_22<=_21){_1f.set("value",_21-_22);m.setTnxAmt(_22);}else{m.setFieldState(_1d,false);}}};function _23(_24){m.setTnxAmt("");var _25=_24.get("value");dj.byId("ft_cur_code").set("value",_25);dj.byId("counterparty_details_ft_cur_code_nosend").set("value",_25);m.setCurrency(_24,["ft_amt","counterparty_details_ft_amt_nosend"]);d.query(".widgetContainer #counterparty_fields "+"[id^='counterparty_details_document_id_']").forEach(function(_26){if(_26.id.indexOf("nosend")===-1){var w=dj.byId(_26.id);if(w){m.deleteTransactionAddon("counterparty",w.get("value"));}}});};function _27(_28,_29){var _2a=dj.byId("drawee_details_bank_name");var _2b=(dj.byId("tnxtype")&&dj.byId("tnxtype").get("value")==="03")||(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")==="03")||(dj.byId("prod_stat_code")&&(dj.byId("prod_stat_code").get("value")==="08"||dj.byId("prod_stat_code").get("value")==="31"));if(!(_2b)){switch(_29){case m._config.issuingBank:_2a.set("value",m._config.issuingBank);break;case m._config.advisingBank:if(_28!=="03"){_2a.set("value",m._config.advisingBank);}else{_2a.set("value",m._config.issuingBank);}break;case m._config.anyBank:_2a.set("value",m._config.issuingBank);break;default:if(_28==="01"||_28==="02"||_28==="04"||_28==="05"||_28==="03"){}else{_2a.set("value",m._config.issuingBank);}break;}}};function _2c(url,_2d){var _2e=[{field:"REFIDLINK",name:"ref_id",width:"100px",styles:"text-align: center;",formatter:m.grid.formatHTML},{field:"CURCODE",name:"cur_code",width:"auto"},{field:"TNXID",name:"tnx_id",width:"auto"},{field:"TYPE",name:"type",width:"auto",formatter:m.grid.formatHTML},{field:"STATUS",name:"status",width:"auto"},{field:"AMOUNT",name:"tnx_amt",width:"auto"}],_2f="items: ''",_30=new dojo.data.ItemFileReadStore({data:_2f}),_31=new dojox.grid.DataGrid({query:{id:"*"},id:"transaction_Grid",structure:_2e,height:"100px",noDataMessage:m.getLocalization("noTransactionsFound"),onSelected:function(_32){_33(_32);},selectionMode:"single"},document.createElement("div"));d.byId(_2d).appendChild(_31.domNode);_31.startup();_30.url=url;_31.setStore(_30);};function _33(_34){var _35=dj.byId("transaction_Grid").get("store")._arrayOfAllItems[_34];dj.byId("imp_bill_ref_id").set("value",_35.TNXID);d.byId("TransactionLink").innerHTML="<a id='javascriptLink' href='javascript:void(0)'>"+m.getLocalization("TransactionLink")+"</a>";d.attr("javascriptLink","onclick","misys.popup.showReporting('FULL','"+_35.PRODUCTCODE+"','"+_35.REFID+"','"+_35.TNXID+"');");dj.byId("linkedTransaction_dialog").hide();};function _36(){var _37=m._config.limitFieldIdCollection;d.forEach(_37,function(id,_38){var obj=dj.byId(id);if(obj){obj.set("displayedValue","");}});};function _39(_3a){m._config.limitFieldIdCollection=_3a.fields;m._config.limitCollection=_3a.items;m._config.limitStore=_3a.store;var _3b=dj.byId("limit_id");if(_3b){_3b.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:m._config.limitStore}});}};function _3c(_3d){var _3e;if(_3d.items!==""){_3e=_3d.items.widget;var _3f=dj.byId(_3e);var _40=_3f.get("value");if(_40===""){_3f.set("value",_40+_3d.items.text);}else{_3f.set("value",_40+"\n"+_3d.items.text);}}dj.byId("xhrDialog")?dj.byId("xhrDialog").hide():"";};function _41(_42){if(_42.message!==""){var _43=dj.byId("first_name"),_44=dj.byId("last_name"),_45=dj.byId("legal_country"),_46=dj.byId("legal_type"),_47=dj.byId("legal_no"),_48=dj.byId("address_line_1"),_49=dj.byId("address_line_2"),_4a=dj.byId("country_sub_div"),_4b=dj.byId("county"),_4c=dj.byId("country_name"),_4d=dj.byId("phone"),fax=dj.byId("fax"),_4e=dj.byId("email"),dom=dj.byId("dom"),_4f=dj.byId("time_zone"),_50=dj.byId("correspondence_language"),_51=dj.byId("actv_flag"),_52=dj.byId("base_cur_code"),_53=dj.byId("employee_department");var _54=_42.message.static_user.group_record.length;var _55;var _56;var _57=_42.message.static_user.first_name,_58=_42.message.static_user.last_name,_59=_42.message.static_user.address_line_1,_5a=_42.message.static_user.address_line_2,_5b=_42.message.static_user.country_sub_div,_5c=_42.message.static_user.county,_5d=_42.message.static_user.country_name,_5e=_42.message.static_user.phone,_5f=_42.message.static_user.fax,_60=_42.message.static_user.email,_61=_42.message.static_user.dom,_62=_42.message.static_user.time_zone,_63=_42.message.static_user.correspondence_language,_64=_42.message.static_user.cur_code;if(_42.message.static_user.company_type=="03"){_55=dojo.byId("company_role_list");_56=dojo.byId("company_avail_list_nosend");var _65=_42.message.static_user.pending_trans_notify,_66=_42.message.static_user.legal_country,_67=_42.message.static_user.legal_type,_68=_42.message.static_user.legal_no;_45.set("value",_66);_46.set("value",_67);_47.set("value",_68);if(_65=="Y"){dj.byId("pending_trans_notify").set("checked",true);dj.byId("email").set("required",true);}if(_42.message.static_user.group_record.length>0){for(var m=1;m<=_54-1;m++){dj.byId("company_auth_level_"+m).set("value","");dj.byId("company_limit_amt_"+m).set("value","");dj.byId("company_limit_cur_code_"+m).set("value","");if(_42.message.static_user.group_record[m-1].existing_roles){var _69=_42.message.static_user.group_record[m-1].existing_roles.role.name;var _6a=_42.message.static_user.group_record[m-1].existing_roles.role.limit_amt;var _6b=_42.message.static_user.group_record[m-1].existing_roles.role.limit_cur_code;dj.byId("company_auth_level_"+m).set("value",_69);dj.byId("company_limit_amt_"+m).set("value",_6a);dj.byId("company_limit_cur_code_"+m).set("value",_6b);misys.animate("wipeIn","grp_rec_"+_42.message.static_user.group_record[m-1].group_abbv_name);}}}}if(_42.message.static_user.company_type=="01"||_42.message.static_user.company_type=="02"){_55=dojo.byId("bank_role_list");_56=dojo.byId("bank_avail_list_nosend");var _6c;if(_42.message.static_user.group_record.existing_roles!=""){var _6d=null;if(_42.message.static_user.group_record.existing_roles.role.length>0){for(var x=0;x<_42.message.static_user.group_record.existing_roles.role.length;x++){if(_42.message.static_user.group_record.existing_roles.role[x].roletype=="02"){_6d=_42.message.static_user.group_record.existing_roles.role[x].role_description;_6c=document.createElement("OPTION");_6c.innerHTML=_6d;_6c.value=_42.message.static_user.group_record.existing_roles.role[x].name;dj.byId("bank_auth_level_1").set("item",_6c);}}}else{if(_42.message.static_user.group_record.existing_roles.role.roletype=="02"){_6d=_42.message.static_user.group_record.existing_roles.role.role_description;_6c=document.createElement("OPTION");_6c.innerHTML=_6d;_6c.value=_42.message.static_user.group_record.existing_roles.role[x].name;dj.byId("bank_auth_level_1").set("item",_6c);}}}var _6e=_42.message.static_user.employee_department;_53.set("value",_6e);}_43.set("value",_57);_44.set("value",_58);_48.set("value",_59);_49.set("value",_5a);_4a.set("value",_5b);_4b.set("value",_5c);_4c.set("value",_5d);_4d.set("value",_5e);fax.set("value",_5f);_4e.set("value",_60);dom.set("value",_61);_4f.set("value",_62);_50.set("value",_63);_52.set("value",_64);var _6f;var _70;if(_56){_56.innerHTML="";}if(_55){_55.innerHTML="";}if(_42.message.static_user.company_type=="03"&&_42.message.static_user.static_company.owner_id!="2"&&_42.message.static_user.group_record[1].group_abbv_name=="global"){if(_42.message.static_user.group_record[1].existing_roles){if(_42.message.static_user.group_record[1].existing_roles.role.length>0){for(var j=0;j<_42.message.static_user.group_record[1].existing_roles.role.length;j++){_6f=_42.message.static_user.group_record[1].existing_roles.role[j].role_description;_70=_42.message.static_user.group_record[1].existing_roles.role[j].name;dojo.create("option",{text:_6f,value:_70,innerHTML:_6f,textValue:_6f},_55);}}else{dojo.byId("company_role_list").add(dojo.create("option",{text:_42.message.static_user.group_record[1].existing_roles.role.role_description,innerHTML:_42.message.static_user.group_record[1].existing_roles.role.role_description,value:_42.message.static_user.group_record[1].existing_roles.role.name}));}}}var _71;var _72;if(_42.message.static_user.company_type=="01"||_42.message.static_user.company_type=="02"){if(_42.message.static_user.group_record.existing_roles){if(_42.message.static_user.group_record.existing_roles.role.length>0){for(var y=0;y<_42.message.static_user.group_record.existing_roles.role.length;y++){if(_42.message.static_user.group_record.existing_roles.role[y].roletype=="01"){_71=_42.message.static_user.group_record.existing_roles.role[y].role_description;_72=_42.message.static_user.group_record.existing_roles.role[y].name;dojo.create("option",{text:_71,value:_72,innerHTML:_71,textValue:_71},_55);}}}else{if(_42.message.static_user.group_record.existing_roles.role.roletype=="01"){dojo.byId("bank_role_list").add(dojo.create("option",{text:_42.message.static_user.group_record.existing_roles.role.role_description,innerHTML:_42.message.static_user.group_record.existing_roles.role.role_description,value:_42.message.static_user.group_record.existing_roles.role.name}));}}}}if(_42.message.static_user.company_type=="03"&&_42.message.static_user.static_company.owner_id=="2"){var len=_42.message.static_user.group_record.length;if(_42.message.static_user.group_record.length>0){if(_42.message.static_user.group_record[len-1].existing_roles){if(_42.message.static_user.group_record[len-1].existing_roles.role.length>0){for(var z=0;z<_42.message.static_user.group_record[len-1].existing_roles.role.length;z++){_6f=_42.message.static_user.group_record[len-1].existing_roles.role[z].role_description;_70=_42.message.static_user.group_record[len-1].existing_roles.role[z].name;dojo.create("option",{text:_6f,value:_70,innerHTML:_6f,textValue:_6f},_55);}}else{dojo.byId("company_role_list").add(dojo.create("option",{text:_42.message.static_user.group_record[len-1].existing_roles.role.role_description,innerHTML:_42.message.static_user.group_record.existing_roles.role.role_description,value:_42.message.static_user.group_record.existing_roles.role.name}));}}}else{if(_42.message.static_user.group_record.existing_roles){if(_42.message.static_user.group_record.existing_roles.role.length>0){for(var zn=0;zn<_42.message.static_user.group_record.existing_roles.role.length;zn++){_6f=_42.message.static_user.group_record.existing_roles.role[zn].role_description;_70=_42.message.static_user.group_record.existing_roles.role[zn].name;dojo.create("option",{text:_6f,value:_70,innerHTML:_6f,textValue:_6f},_55);}}else{dojo.byId("company_role_list").add(dojo.create("option",{text:_42.message.static_user.group_record.existing_roles.role.role_description,innerHTML:_42.message.static_user.group_record.existing_roles.role.role_description,value:_42.message.static_user.group_record.existing_roles.role.name}));}}}}var _73;var _74;if(_42.message.static_user.company_type=="03"&&_42.message.static_user.static_company.owner_id!="2"&&_42.message.static_user.group_record[1].group_abbv_name=="global"){if(_42.message.static_user.group_record[1].avail_roles!=""){if(_42.message.static_user.group_record[1].avail_roles.role.length>0){_42.message.static_user.group_record[1].avail_roles.role.sort(_75("role_description"));for(var k=0;k<_42.message.static_user.group_record[1].avail_roles.role.length;k++){if(_42.message.static_user.group_record[1].avail_roles.role[k].roledest=="03"&&_42.message.static_user.group_record[1].avail_roles.role[k].roletype=="01"){_73=_42.message.static_user.group_record[1].avail_roles.role[k].role_description;_74=_42.message.static_user.group_record[1].avail_roles.role[k].name;dojo.create("option",{text:_73,value:_74,innerHTML:_73,textValue:_73},_56);}}}else{if(_42.message.static_user.group_record[1].avail_roles.role.roledest=="03"&&_42.message.static_user.group_record[1].avail_roles.role.roletype=="01"){dojo.byId("company_avail_list_nosend").add(dojo.create("option",{text:_42.message.static_user.group_record[1].avail_roles.role.role_description,innerHTML:_42.message.static_user.group_record[1].avail_roles.role.role_description,value:_42.message.static_user.group_record[1].avail_roles.role.name}));}}}}if(_42.message.static_user.company_type=="03"&&_42.message.static_user.static_company.owner_id=="2"){var ln=_42.message.static_user.group_record.length;if(_42.message.static_user.group_record.length>0){if(_42.message.static_user.group_record[ln-1].avail_roles!=""){if(_42.message.static_user.group_record[ln-1].avail_roles.role.length>0){_42.message.static_user.group_record[ln-1].avail_roles.role.sort(_75("role_description"));for(var mor=0;mor<_42.message.static_user.group_record[ln-1].avail_roles.role.length;mor++){if(_42.message.static_user.group_record[ln-1].avail_roles.role[mor].roledest=="03"&&_42.message.static_user.group_record[ln-1].avail_roles.role[mor].roletype=="01"){_73=_42.message.static_user.group_record[ln-1].avail_roles.role[mor].role_description;_74=_42.message.static_user.group_record[ln-1].avail_roles.role[mor].name;dojo.create("option",{value:_74,innerHTML:_73},_56);}}}else{if(_42.message.static_user.group_record[ln-1].avail_roles.role.roledest=="03"&&_42.message.static_user.group_record[ln-1].avail_roles.role.roletype=="01"){dojo.byId("company_avail_list_nosend").add(dojo.create("option",{innerHTML:_42.message.static_user.group_record[ln-1].avail_roles.role.role_description,value:_42.message.static_user.group_record[ln-1].avail_roles.role.name}));}}}}else{if(_42.message.static_user.group_record.avail_roles!=""){if(_42.message.static_user.group_record.avail_roles.role.length>0){_42.message.static_user.group_record.avail_roles.role.sort(_75("role_description"));for(var mr=0;mr<_42.message.static_user.group_record.avail_roles.role.length;mr++){if(_42.message.static_user.group_record.avail_roles.role[mr].roledest=="03"&&_42.message.static_user.group_record.avail_roles.role[mr].roletype=="01"){_73=_42.message.static_user.group_record.avail_roles.role[mr].role_description;_74=_42.message.static_user.group_record.avail_roles.role[mr].name;dojo.create("option",{value:_74,innerHTML:_73},_56);}}}else{if(_42.message.static_user.group_record.avail_roles.role.roledest=="03"&&_42.message.static_user.group_record.avail_roles.role.roletype=="01"){dojo.byId("company_avail_list_nosend").add(dojo.create("option",{innerHTML:_42.message.static_user.group_record.avail_roles.role.role_description,value:_42.message.static_user.group_record.avail_roles.role.name}));}}}}}if(_42.message.static_user.company_type=="02"){if(_42.message.static_user.group_record.avail_roles){if(_42.message.static_user.group_record.avail_roles.role.length>0){_42.message.static_user.group_record.avail_roles.role.sort(_75("role_description"));for(var n=0;n<_42.message.static_user.group_record.avail_roles.role.length;n++){if(_42.message.static_user.group_record.avail_roles.role[n].roledest=="02"&&_42.message.static_user.group_record.avail_roles.role[n].roletype=="01"){_73=_42.message.static_user.group_record.avail_roles.role[n].role_description;_74=_42.message.static_user.group_record.avail_roles.role[n].name;dojo.create("option",{text:_73,value:_74,innerHTML:_73,textValue:_73},_56);}}}else{if(_42.message.static_user.group_record.avail_roles.role[n].roledest=="02"&&_42.message.static_user.group_record.avail_roles.role.roletype=="01"){dojo.byId("company_avail_list_nosend").add(dojo.create("option",{text:_42.message.static_user.group_record[i].avail_roles.role.role_description,innerHTML:_42.message.static_user.group_record.avail_roles.role.role_description,value:_42.message.static_user.group_record.avail_roles.role.name}));}}}}if(_42.message.static_user.company_type=="01"){if(_42.message.static_user.group_record.avail_roles){if(_42.message.static_user.group_record.avail_roles.role.length>0){_42.message.static_user.group_record.avail_roles.role.sort(_75("role_description"));for(var p=0;p<_42.message.static_user.group_record.avail_roles.role.length;p++){if(_42.message.static_user.group_record.avail_roles.role[p].roledest=="01"&&_42.message.static_user.group_record.avail_roles.role[p].roletype=="01"){_73=_42.message.static_user.group_record.avail_roles.role[p].role_description;_74=_42.message.static_user.group_record.avail_roles.role[p].name;dojo.create("option",{text:_73,value:_74,innerHTML:_73,textValue:_73},_56);}}}else{if(_42.message.static_user.group_record.avail_roles.role[p].roledest=="01"&&_42.message.static_user.group_record.avail_roles.role.roletype=="01"){dojo.byId("company_avail_list_nosend").add(dojo.create("option",{text:_42.message.static_user.group_record[i].avail_roles.role.role_description,innerHTML:_42.message.static_user.group_record.avail_roles.role.role_description,value:_42.message.static_user.group_record.avail_roles.role.name}));}}}}if(_42.message.static_user.company_type=="03"){if(_42.message.static_user.entity_record){var _76,_77,_78,_79,_7a,_7b,_7c=dj.byId("default_entity");var _7d=document.createElement("OPTION");_7d.innerHTML="";_7d.value="";if(_7c){_7c.set("item",_7d);}if(_42.message.static_user.entity_record.length>0){for(var x1 in _42.message.static_user.entity_record){if(_42.message.static_user.entity_record[x1].default_entity=="Y"){var _7e=_42.message.static_user.entity_record[x1].entity_name;var opt=document.createElement("OPTION");opt.innerHTML=_7e;opt.value=_7e;_7c.set("item",opt);break;}}for(var a=0;a<_42.message.static_user.entity_record.length;a++){_78=_42.message.static_user.entity_record[a].entity_id;_79=dijit.byId("entity_flag_nosend_"+_78);_7a=dojo.byId("entity_roles_exist_nosend_"+_78);_7a.innerHTML="";_7b=_42.message.static_user.entity_record[a].entity_flag;_79.set("value",_7b);if(_7b=="Y"){if(_42.message.static_user.entity_record[a].existing_roles){if(_42.message.static_user.entity_record[a].existing_roles.role.length>0){for(var q=0;q<_42.message.static_user.entity_record[a].existing_roles.role.length;q++){_76=_42.message.static_user.entity_record[a].existing_roles.role[q].role_description;_77=_42.message.static_user.entity_record[a].existing_roles.role[q].name;dojo.create("option",{text:_76,value:_77,innerHTML:_76,textValue:_76},_7a);}}else{dojo.byId("entity_roles_exist_nosend_"+_78).add(dojo.create("option",{text:_42.message.static_user.entity_record[a].existing_roles.role.role_description,innerHTML:_42.message.static_user.entity_record[a].existing_roles.role.role_description,value:_42.message.static_user.entity_record[a].existing_roles.role.name}));}dj.byId("entity_flag_nosend_"+_78).set("checked",true);misys.animate("wipeIn","entity_roles_div_"+_78);}}else{dj.byId("entity_flag_nosend_"+_78).set("checked",false);misys.animate("wipeOut","entity_roles_div_"+_78);}}}else{if(_42.message.static_user.entity_record.default_entity=="Y"){var _7f=_42.message.static_user.entity_record.entity_name;var _80=document.createElement("OPTION");_80.innerHTML=_7f;_80.value=_7f;_7c.set("item",_80);}_78=_42.message.static_user.entity_record.entity_id;_7a=dojo.byId("entity_roles_exist_nosend_"+_78);_7a.innerHTML="";_7b=_42.message.static_user.entity_record.entity_flag;if(_7b=="Y"){if(_42.message.static_user.entity_record.existing_roles){if(_42.message.static_user.entity_record.existing_roles.role.length>0){for(var r=0;r<_42.message.static_user.entity_record.existing_roles.role.length;r++){_76=_42.message.static_user.entity_record.existing_roles.role[r].role_description;_77=_42.message.static_user.entity_record.existing_roles.role[r].name;dojo.create("option",{text:_76,value:_77,innerHTML:_76,textValue:_76},_7a);}dj.byId("entity_flag_nosend_"+_78).set("checked",true);misys.animate("wipeIn","entity_roles_div_"+_78);}else{dojo.byId("entity_roles_exist_nosend_"+_78).add(dojo.create("option",{text:_42.message.static_user.entity_record.existing_roles.role.role_description,innerHTML:_42.message.static_user.entity_record.existing_roles.role.role_description,value:_42.message.static_user.entity_record.existing_roles.role.name}));}}}else{dj.byId("entity_flag_nosend_"+_78).set("checked",false);misys.animate("wipeOut","entity_roles_div_"+_78);}}var _81,_82,_83,_84,_85=dj.byId("default_entity");if(_42.message.static_user.entity_record.length>0){for(var b=0;b<_42.message.static_user.entity_record.length;b++){_78=_42.message.static_user.entity_record[b].entity_id;_79=dijit.byId("entity_flag_nosend_"+_78);_83=dojo.byId("entity_roles_avail_nosend_"+_78);_84=_42.message.static_user.entity_record[b].entity_flag;_79.set("value",_84);if(_84=="Y"){_83.innerHTML="";if(_42.message.static_user.entity_record[b].avail_roles){if(_42.message.static_user.entity_record[b].avail_roles.role.length>0){_42.message.static_user.entity_record[b].avail_roles.role.sort(_75("role_description"));for(var s=0;s<_42.message.static_user.entity_record[b].avail_roles.role.length;s++){_81=_42.message.static_user.entity_record[b].avail_roles.role[s].role_description;_82=_42.message.static_user.entity_record[b].avail_roles.role[s].name;dojo.create("option",{text:_81,value:_82,innerHTML:_81,textValue:_81},_83);}}else{dojo.byId("entity_roles_avail_nosend_"+_78).add(dojo.create("option",{text:_42.message.static_user.entity_record[b].avail_roles.role.role_description,innerHTML:_42.message.static_user.entity_record[b].avail_roles.role.role_description,value:_42.message.static_user.entity_record[b].avail_roles.role.name}));}dj.byId("entity_flag_nosend_"+_78).set("checked",true);misys.animate("wipeIn","entity_roles_div_"+_78);}}else{dj.byId("entity_flag_nosend_"+_78).set("checked",false);misys.animate("wipeOut","entity_roles_div_"+_78);}}}else{if(_42.message.static_user.entity_record.default_entity=="Y"){var tmp=_42.message.static_user.entity_record.entity_name;var op=document.createElement("OPTION");op.innerHTML=tmp;op.value=tmp;_85.set("item",op);}_78=_42.message.static_user.entity_record.entity_id;_83=dojo.byId("entity_roles_avail_nosend_"+_78);_84=_42.message.static_user.entity_record.entity_flag;if(_84=="Y"){_83.innerHTML="";if(_42.message.static_user.entity_record.avail_roles){if(_42.message.static_user.entity_record.avail_roles.role.length>0){_42.message.static_user.entity_record.avail_roles.role.sort(_75("role_description"));for(var t=0;t<_42.message.static_user.entity_record.avail_roles.role.length;t++){_81=_42.message.static_user.entity_record.avail_roles.role[t].role_description;_82=_42.message.static_user.entity_record.avail_roles.role[t].name;dojo.create("option",{text:_81,value:_82,innerHTML:_81,textValue:_81},_83);}dj.byId("entity_flag_nosend_"+_78).set("checked",true);}else{dojo.byId("entity_roles_avail_nosend_"+_78).add(dojo.create("option",{text:_42.message.static_user.entity_record.avail_roles.role.role_description,innerHTML:_42.message.static_user.entity_record.avail_roles.role.role_description,value:_42.message.static_user.entity_record.avail_roles.role.name}));}}}else{dj.byId("entity_flag_nosend_"+_78).set("checked",false);misys.animate("wipeOut","entity_roles_div_"+_78);}}}}if(_42.message.static_user.company_type=="03"){if(_42.message.static_user.entitlement_record){var _86;var _87=false;for(var t2=0;t2<_42.message.static_user.entitlement_record.length;t2++){_86=_42.message.static_user.entitlement_record[t2].entitlement_id;if(_42.message.static_user.entitlement_code!==null&&_42.message.static_user.entitlement_code!==undefined&&_42.message.static_user.entitlement_code===_42.message.static_user.entitlement_record[t2].entitlement_code&&dj.byId("entitlement_flag_nosend_"+_86)!==null&&dj.byId("entitlement_flag_nosend_"+_86)!==undefined){_87=true;}}for(var t1=0;t1<_42.message.static_user.entitlement_record.length;t1++){_86=_42.message.static_user.entitlement_record[t1].entitlement_id;var _88;var _89=_42.message.static_user.entitlement_record[t1].entitlement_code;var _8a=_42.message.static_user.entitlement_record[t1].default_subsidiary;var _8b=_42.message.static_user.entitlement_record[t1].subsidiary_List;if(_8b!==undefined&&_8b.length>0){_88=_8b.substring(1,_8b.length-1);}if(_42.message.static_user.entitlement_code!==null&&_42.message.static_user.entitlement_code!==undefined&&_42.message.static_user.entitlement_code===_42.message.static_user.entitlement_record[t1].entitlement_code&&dj.byId("entitlement_flag_nosend_"+_86)!==null&&dj.byId("entitlement_flag_nosend_"+_86)!==undefined){dj.byId("entitlement_flag_nosend_"+_86).set("checked",true);misys.animate("wipeIn","userSubsidiaryTable_"+_86);if(_88!==""&&_88!==undefined){if(dijit.byId("subsidiary_flag_nosend_".concat(_88))){dijit.byId("subsidiary_flag_nosend_".concat(_88)).set("checked",true);dijit.byId("subsidiary_radio_flag_nosend_".concat(_88)).set("checked",true);dijit.byId("default_subsidiary").set("value",_8a);}dijit.byId("entitlement_code").set("value",_89);}}else{if(_42.message.static_user.entitlement_code===""){dj.byId("entitlement_flag_nosend_"+_86).set("checked",false);dj.byId("entitlement_flag_nosend_"+_86).set("disabled",false);misys.animate("wipeOut","userSubsidiaryTable_"+_86);if(_88!==""&&_88!==undefined){dijit.byId("subsidiary_flag_nosend_".concat(_88)).set("checked",false);dijit.byId("subsidiary_radio_flag_nosend_".concat(_88)).set("checked",false);}}else{if(_42.message.static_user.entitlement_code!==_42.message.static_user.entitlement_record[t1].entitlement_code&&!_87){dj.byId("entitlement_flag_nosend_"+_86).set("disabled",false);}else{if(dj.byId("entitlement_flag_nosend_"+_86)!==null&&dj.byId("entitlement_flag_nosend_"+_86)){dj.byId("entitlement_flag_nosend_"+_86).set("disabled",true);}}}}}}}if(d.byId("clone_user")){d.byId("clone_user").checked=true;}}dj.byId("xhrDialog")?dj.byId("xhrDialog").hide():"";};function _75(_8c){return function(a,b){if(a[_8c]>b[_8c]){return 1;}else{if(a[_8c]<b[_8c]){return -1;}}return 0;};};function _8d(_8e){if(_8e&&_8e.items!==""){var _8f=_8e.store_id;var _90=dj.byId(_8f);if(_90&&_90.store){var _91=new dojo.data.ItemFileWriteStore({data:{"identifier":"id","items":[]}});var ctr=0;dojo.forEach(_8e.items,function(_92){var _93=_92;_93.id=ctr++;_91.newItem(_93);});_90.setStore(_91);_90.resize();}}};d.mixin(m,{selectEntityBeforeBank:function(){if(dj.byId("entity")&&dj.byId("entity").get("value")==""&&Object.keys(misys._config.entityBankMap).length>1){var id=this.id;var _94=function(){dj.byId(id).set("value","");dojox.fx.smoothScroll({node:document.getElementById("entity"),win:window}).play();};m.dialog.show("ERROR",m.getLocalization("selectEntityBeforeBank"),"",_94);}},populateBankAsPerEntity:function(_95){var _96=dj.byId(_95);var _97=Object.keys(misys._config.entityBankMap).map(function(itm){return misys._config.entityBankMap[itm];});var _98={"identifier":"value","items":[]},_99=new d.data.ItemFileWriteStore({data:_98});if(_96){_96.store=null;for(var i=0;i<_97.length;i++){if(dj.byId("entity")&&_97[i].indexOf(dj.byId("entity").get("value"))>-1){_99.newItem({"value":Object.keys(misys._config.entityBankMap).map(function(itm){return misys._config.entityBankMap[itm];})[i][0],"name":Object.keys(misys._config.entityBankMap)[i]});}}}_96.store=_99;var _9a=dj.byId(_95)?dj.byId(_95).get("value"):"";var _9b=_96.store._arrayOfAllItems;var _9c=false;for(i=0;i<_9b.length;i++){if(_9b[i]&&_9b[i].value!=""&&_9b[i].value==_9a){_9c=true;break;}}if(!_9c){dj.byId(_95).set("value","");}},populateReferences:function(){var _9d=this.get("displayedValue"),_9e="_",_9f=this.id.split(_9e),_a0=_9f[0]+_9e+_9f[1],_a1=dj.byId(_a0+"_customer_reference"),_a2=dj.byId("applicant_reference")||dj.byId("applicant_reference_hidden")||dj.byId("seller_reference")||dj.byId("drawer_reference")||dj.byId("buyer_reference"),_a3=dj.byId("entity")?dj.byId("entity").get("value"):"",_a4=this.get("value")+"_"+_a3,_a5=(m._config.customerReferences&&m._config.customerReferences[_a4])?m._config.customerReferences[_a4]:"",_a6={"identifier":"id","items":[]},_a7=new d.data.ItemFileWriteStore({data:_a6});if(dj.byId(_a0+"_name")){dj.byId(_a0+"_name").set("value",_9d);}if(_a1){_a1.store=null;if(_a5&&_a5.length!==0){for(var i=0,_10=(_a5.length)/2;i<_10;i++){_a7.newItem({"id":_a5[2*i+1],"name":_a5[2*i]});}}_a1.store=_a7;if(_a7._arrayOfAllItems.length===1){_a1.set("displayedValue",_a7._arrayOfAllItems[0].name[0]);}else{if(_a2){if(_a2.get("value")!==""&&_a5.indexOf(_a2.get("value"))!==-1){_a1.set("value",_a2.get("value"));}else{_a1.item=null;_a2.set("value","");_a1.set("displayedValue","");}}}}if(dj.byId("product_code")&&dj.byId("product_code").get("value")==="IO"&&dj.byId("buyer_bank_bic")){dj.byId("buyer_bank_bic").set("value",m._config.isoCodes[this.get("value")]);}if(dj.byId("product_code")&&dj.byId("product_code").get("value")==="EA"&&dj.byId("seller_bank_bic")){dj.byId("seller_bank_bic").set("value",m._config.isoCodes[this.get("value")]);}},updateBusinessDate:function(){var _a8=m._config.bankBusinessDate;var _a9;var _aa;if(this.get("value")!=""){var _ab=parseInt(misys._config.businessDateForBank[this.get("value")][0].value.substring(0,4),10);var _ac=parseInt(misys._config.businessDateForBank[this.get("value")][0].value.substring(5,7),10);var _ad=parseInt(misys._config.businessDateForBank[this.get("value")][0].value.substring(8,10),10);_aa=new Date(_ab,_ac-1,_ad);_a9=d.date.locale.format((_aa),{selector:"date"});m._config.bankBusinessDate=misys._config.businessDateForBank[this.get("value")][0].name;if(m._config.bankBusinessDate!=_a8){m.dialog.show("CUSTOM-NO-CANCEL",m.getLocalization("changeInBusinessDates"),"Warning",function(){});if(dj.byId("appl_date")){dj.byId("appl_date").set("value",_a9);dojo.byId("appl_date_view_row").childNodes[1].innerHTML=dj.byId("appl_date").get("value");}}}},checkBeneficiaryNicknameDiv:function(){if(misys._config.beneficiarynickname==="true"){if(dj.byId("beneficiary_nickname")&&dj.byId("beneficiary_nickname").get("value")!==""&&d.byId("beneficiarynickname")&&d.byId("beneficiary_nickname_row")){d.style("ben_label","display","inline-block");d.byId("beneficiarynickname").innerHTML=dj.byId("beneficiary_nickname").get("value");d.byId("beneficiarynickname").value=dj.byId("beneficiary_nickname").get("value");d.style("beneficiarynickname","display","inline");m.animate("fadeIn",d.byId("beneficiary_nickname_row"));}else{if(d.byId("beneficiarynickname")){d.style("beneficiarynickname","display","none");m.animate("fadeOut",d.byId("beneficiary_nickname_row"));}}}},checkBeneficiaryNicknameOnFormLoad:function(){if(misys._config.beneficiarynickname==="true"&&dj.byId("beneficiary_nickname")&&dj.byId("beneficiary_nickname").get("value")!==""&&dj.byId("beneficiary_nickname").get("value")!=="null"&&d.byId("beneficiarynickname")){m.animate("fadeIn",d.byId("beneficiarynickname"));d.style("beneficiarynickname","display","inline");d.byId("beneficiarynickname").innerHTML=dj.byId("beneficiary_nickname").get("value");}else{m.animate("wipeOut",d.byId("beneficiary_nickname_row"));}},setCurrency:function(_ae,arr,_af){var _b0=dj.byId(_ae),_b1=d.isArray(arr)?arr:[arr],_b2,_b3,_b4;if(_b0&&_b0.get("value")!==""&&_b0.state!=="Error"){_b2=_b0.get("value");d.forEach(_b1,function(id){_b3=dj.byId(id);if(_b3){_b4=d.cldr.monetary.getData(_b2);if(dj.byId("product_code")&&((dj.byId("product_code").get("value")==="IP")||(dj.byId("product_code").get("value")==="IN")||(dj.byId("product_code").get("value")==="PO")||(dj.byId("product_code").get("value")==="SO"))){_b0.set("readOnly",true);}var _b5={round:_b4.round,places:_b4.places,max:999999999999.99,min:0.01};if(_b4.places===2){_b5={round:_b4.round,places:_b4.places,min:0,max:999999999999.99};}else{if(_b4.places===3){_b5={round:_b4.round,places:_b4.places,min:0,max:99999999999.999};}else{if(_b4.places===0){_b5={round:_b4.round,places:_b4.places,min:0,max:999999999999};}}}d.mixin(_b5,_af);_b3.set("constraints",_b5);_b3.set("value",_b3.get("value"));}});}},setTnxAmt:function(amt){var _b6=dj.byId("tnx_amt");if(_b6){_b6.set("value",amt);}},setTnxCurCode:function(_b7){var _b8=dj.byId("tnx_cur_code");if(_b8){_b8.set("value",_b7);}},amendTransaction:function(){var _b9=("inc_amt"===this.get("id"))?dj.byId("dec_amt"):dj.byId("inc_amt");if(!isNaN(this.get("value"))){_b9.set("disabled",true);}else{this.set("disabled",false);_b9.set("disabled",false);}_1c(this);},amendTransactionBank:function(){var _ba=("inc_amt_value"===this.get("id"))?dj.byId("dec_amt_value"):dj.byId("inc_amt_value");if(!isNaN(this.get("value"))){_ba.set("disabled",true);}else{this.set("disabled",false);_ba.set("disabled",false);}_1c(this);},amendTransactionLiabAmt:function(){dj.byId("lc_liab_amt").set("value",dj.byId("org_lc_cur_code_liab_amt").value);},setPaymentDescriptionForCAD:function(){if(dojo.byId("date-value_description").innerHTML!==""&&dojo.byId("request_value_code").value==="SPOT"&&dojo.byId("payment_cur_code").value==="CAD"&&dojo.byId("applicant_cur_code").value==="USD"){dojo.byId("date-value_description").innerText=m.getLocalization("valueOneBusinessDayCADdeal");}else{if(dojo.byId("date-value_description").innerHTML!==""&&dojo.byId("request_value_code").value==="SPOT"&&(dojo.byId("payment_cur_code").value!=="CAD"||dojo.byId("applicant_cur_code").value!=="USD")){dojo.byId("date-value_description").innerText=m.getLocalization("valueTwoBusinessDay");}}},toggleAmendmentFields:function(){var _bb=dj.byId("inc_amt"),_bc=dj.byId("dec_amt");if(this.get("checked")){_bb.set("value","");_bb.set("disabled",true);_bc.set("disabled",false);_1c(_bc);}else{_bb.onBlur();_bc.onBlur();}},updateSubTnxTypeCode:function(){var _bd=misys._config.productCode.toLowerCase(),_be=dj.byId("inc_amt"),_bf=dj.byId("dec_amt"),_c0=dj.byId(_bd+"_release_flag"),_c1=dj.byId("sub_tnx_type_code"),_c2="03",_c3=_be?dojo.number.parse(_be.get("value")):"",_c4=_bf?dojo.number.parse(_bf.get("value")):"";if(_c0&&_c0.get("checked")){_c2="05";}else{if(_be&&!isNaN(_c3)&&_c3!==""){_c2="01";}else{if(_bf&&!isNaN(_c4)&&_c4!==""){_c2="02";}}}if(_c1){_c1.set("value",_c2);}},enableBeneficiaryFields:function(){var ids=["beneficiary_address_line_1","beneficiary_address_line_2","beneficiary_dom","beneficiary_address_line_4"];d.forEach(ids,function(id){var _c5=dj.byId(id);if(_c5){_c5.set("disabled",false);_c5.set("readOnly",false);}});},toggleProdStatCodeFields:function(){var _c6=dj.byId("prod_stat_code").get("value"),_c7=dj.byId("action_req_code"),_c8=["tnx_amt"],_c9=["tnx_amt","latest_answer_date"];if(_c7){if(_c6==="01"||_c6==="18"){_c7.set("readOnly",true);_c7.reset();}else{if(_c6==="12"){_c7.set("value","12");_c7.set("readOnly",true);m.toggleFields(false,["latest_answer_date"],_c8,true);_c8=["tnx_amt"];}else{if(_c6==="26"){_c7.set("value","26");_c7.set("readOnly",true);m.toggleFields(false,["latest_answer_date"],_c8,true);_c8=["tnx_amt"];}else{if(_c6==="78"||_c6==="79"||(_c6==="98"&&dj.byId("product_code")&&dj.byId("product_code").get("value")==="TF")){_c7.set("value","07");_c7.set("readOnly",true);}else{if(_c6==="A9"){_c7.reset();_c7.set("readOnly",false);_c9=["tnx_amt"];_c8=[];}else{if(_c6==="31"){var _ca=dj.byId("product_code").get("value");if(dj.byId("product_code")&&(_ca==="LC"||_ca==="SI"||_ca==="BG"||_ca==="SG")){_c7.set("value","");_c7.set("readOnly",true);}else{_c7.set("value","03");_c7.set("readOnly",true);}}else{if(_c6==="81"){_c7.set("value","05");_c7.set("readOnly",true);}else{_c7.set("readOnly",false);_c9=["latest_answer_date"];}}}}}}}}var _cb=(_c6==="08"&&dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")==="03")?true:!(_c6!=="01"&&_c6!=="07"&&_c6!=="04"&&_c6!=="05"&&_c6!=="12"&&_c6!=="26"&&_c6!=="13"&&_c6!=="14"&&_c6!=="15"&&_c6!=="A9");m.toggleFields(_cb,_c9,_c8);},toggleGuaranteeText:function(){var _cc=this.get("value"),_cd=d.byId("document-editor"),_ce=dj.byId("bg_document");m.toggleFields(_cc==="03",null,["bg_text_type_details"]);if(_cc==="04"){m.animate("fadeIn",_cd,function(){if(!_ce){var _cf=d.byId("bg_document");_ce=new dj.Editor({id:"bg_document",name:"bg_document",rows:_d,cols:_e,maxSize:_f,plugins:["undo","redo","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","|","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","||",{name:"dijit._editor.plugins.FontChoice",command:"fontName"},{name:"m.editor.plugins.ProductFieldChoice",command:"misysEditorPluginsProductFieldChoice",product:"BG"}]},_cf);var _d0=d.byId("rteContent");var _d1=_d0.innerHTML;_d1.replaceAll("&lt;","<");_d1.replaceAll("&gt;",">");_d1.replaceAll("&amp;","&");_ce.set("value",(_d1||""));}});}else{m.animate("fadeOut",_cd,function(){if(_ce){_ce.set("value","");}});}},setBuyerReference:function(){var _d2=dj.byId("buyer_reference")||dj.byId("buyer_reference_hidden");if(_d2){_d2.set("value",this.get("value"));}},setSellerReference:function(){var _d3=dj.byId("seller_reference")||dj.byId("seller_reference_hidden");if(_d3){_d3.set("value",this.get("value"));}},setApplicantReference:function(){var _d4=dj.byId("applicant_reference")||dj.byId("applicant_reference_hidden");if(_d4){_d4.set("value",this.get("value"));}},getMaturityDate:function(){var _d5=dj.byId("tenor"),_d6=_d5.get("value"),_d7=dj.byId("iss_date").get("value"),_d8=dj.byId("maturity_date"),_d9="";if(this.id==="maturity_date"){_d9=_d7?d.date.difference(_d7,this.get("value"),"day"):_d6;_d5.set("value",_d9);}else{if(_d6!==""&&_d7){_d8.set("value",d.date.add(_d7,"day",_d6));}}},initFTCounterparties:function(){var _da=this.get("value"),_db;if(_da!==dj.byId("ft_cur_code").get("value")){if(d.query(".widgetContainer *[id^='counterparty_details_document_id_']").length>0){_db=this;m.dialog.show("CONFIRMATION",m.getLocalization("modifyFundTransferCurrencyConfirmation"),"",function(){_23(_db);});}else{_23(this);}}},disableNonAcceptanceFields:function(){if(dj.byId("term_code").get("value")==="01"){this.set("checked",false);}},setCreditAvailBy:function(){var _dc=this.get("value"),_dd=dj.byId("credit_available_with_bank_name"),_de=dj.byId("fakeform1").get("value").cr_avl_by_code,_df,_e0,_e1=dj.byId("credit_available_with_bank_address_line_1");m.toggleFields(_dc===m._config.other,["credit_available_with_bank_address_line_1","credit_available_with_bank_address_line_2","credit_available_with_bank_dom","credit_available_with_bank_address_line_4"]);_df=_dd.get("value");_e0=_e1.get("value");if((!(_df!=""&&_e0!="")&&(dj.byId("formLoad")&&dj.byId("formLoad").get("value")==="false")||!dj.byId("formLoad"))||(dj.byId("template_id")&&dj.byId("template_id").getValue()!=="")){_dd.set("value",this.get("displayedValue"));}var _e2=(!_df&&!dj.byId("tenor_maturity_date").get("value")&&!dj.byId("tenor_days").get("value")&&!dj.byId("tenor_period").get("value")&&!dj.byId("tenor_from_after").get("value")&&!dj.byId("tenor_days_type").get("value")&&!m._config.firstPageLoad);if(_e2){if(_de){_27(_de,_dc);}}},getSwiftBankDetails:function(_e3,_e4,_e5,_e6,_e7,_e8,_e9,_ea,_eb,_ec){var _ed=false;if(!_ec){_ec="";}if(!_e6){_e6=[_e8+"name",_e8+"address_line_1",_e8+"address_line_2",_e8+"dom",_e8+"contact_name",_e8+"phone",_e8+"country"];}if(!_e7){_e7=[_e8+"name",_e8+"address_line_1",_e8+"country"];}var _ee=dj.byId(_e4);var _ef=dj.byId(_e5);if(_ee&&(_ee.get("value")!=="")){d.forEach(_e6,function(_f0){if(dj.byId(_f0)){if(_e9){dj.byId(_f0).set("value","",false);}if(_eb){dj.byId(_f0).set("readOnly",true);}}});if(_ea){d.forEach(_e7,function(_f1){if(dj.byId(_f1)){m.toggleRequired(_f1,true);}});}if(_e9&&(_ee.validate())){var _f2="";var _f3="";if(_ee.get("value")){_f2=_ee.get("value");}if(_ef&&(_ef.get("value"))){_f3=_ef.get("value");}m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/GetSwiftBankDetails"),content:{bicCode:_f2,brchCode:_f3,country:_ec,customerBanks:_e3},sync:true,handleAs:"json",load:function(_f4,_f5){var _f6=_f4;_ed=_f4.valid;if(_ed){var _f7=[_f6.bankName,_f6.bankAddressLine1,_f6.bankAddressLine2,_f6.bankDom,_f6.bankContactName,_f6.bankPhone,_f6.bankCountry];d.forEach(_e6,function(_f8,i){if(dj.byId(_f8)){if(i<7){dj.byId(_f8).set("value",_f7[i],false);}}});}else{var _f9="";if((_ee&&(_ee.get("value")!==""))){_ee.focus();_f9=m.getLocalization("swiftValidationFailed",[_ee.get("value")]);_ee.set("value","");_ee.set("state","Error");dijit.hideTooltip(_ee.domNode);dijit.showTooltip(_f9,_ee.domNode,0);}}},customError:function(_fa,_fb){console.warn("getSwiftBankDetails error");}});}else{if(dijit.byId("bank_iso_code")){setTimeout(function(){dijit.byId("bank_iso_code").set("readOnly",false);},600);}}}else{d.forEach(_e6,function(_fc){if(dj.byId(_fc)){if(_eb){dj.byId(_fc).set("readOnly",false);}}});if(_ea){d.forEach(_e7,function(_fd){if(dj.byId(_fd)){m.toggleRequired(_fd,false);}});}if(d.byId(_e8+"iso_code_row")&&d.byId(_e8+"iso_code_row").parentNode&&d.byId(_e8+"iso_code_row").parentNode.id){var _fe=d.byId(_e8+"iso_code_row").parentNode.id;if(dj.byId(_fe)){var _ff=dj.byId(_fe).get("title");if(_ff.indexOf("*")!==-1){_ff=_ff.substring(_ff.indexOf(">")+1,_ff.lastIndexOf("<"));if(_ff.indexOf("*")!==-1){_ff=_ff.substring(_ff.indexOf("*")+1);dj.byId(_fe).set("title",_ff);}else{dj.byId(_fe).set("title",_ff);}}}}}},getIFSCCodeDetails:function(_100,_101,_102,_103,_104,_105,_106){var _107=false;if(!_101){_101=[_103+"ifsc_name",_103+"ifsc_address_line_1",_103+"ifsc_address_line_2",_103+"ifsc_city"];}if(!_102){_102=[_103+"ifsc_code",_103+"ifsc_name"];}var _108=dj.byId(_100);if(_108&&(_108.get("value")!=="")){d.forEach(_101,function(node){if(dj.byId(node)){if(_104){dj.byId(node).set("value","",false);}if(_106){dj.byId(node).set("readOnly",true);}}});if(_105){d.forEach(_102,function(node){if(dj.byId(node)){m.toggleRequired(node,true);}});}if(_104&&(_108.validate())){var _109="";if(_108.get("value")){_109=_108.get("value");}m.xhrPost({url:misys.getServletURL("/screen/AjaxScreen/action/GetIFSCCodeDetails"),content:{ifscCode:_109,paramId:"P701"},sync:true,handleAs:"json",load:function(_10a,args){var _10b=_10a;_107=_10a.valid;if(_107){var _10c=[_10b.bankName,_10b.bankAddressLine1,_10b.bankAddressLine2,_10b.city];d.forEach(_101,function(node,i){if(dj.byId(node)){if(i<7){dj.byId(node).set("value",_10c[i],false);}}});_108.set("value",_10b.bankIFSCCode);}else{var _10d="";if((_108&&(_108.get("value")!==""))){_108.focus();_10d=m.getLocalization("ifscCodeValidationFailed",[_108.get("value")]);_108.set("value","");_108.set("state","Error");dijit.hideTooltip(_108.domNode);dijit.showTooltip(_10d,_108.domNode,0);}}},customError:function(_10e,args){console.warn("getSwiftBankDetails error");}});}else{setTimeout(function(){dijit.byId("bank_iso_code").set("readOnly",false);},600);}}else{d.forEach(_101,function(node){if(dj.byId(node)){if(_106){dj.byId(node).set("readOnly",false);}}});if(_105){d.forEach(_102,function(node){if(dj.byId(node)){m.toggleRequired(node,false);}});}if(d.byId(_103+"ifsc_code_row")&&d.byId(_103+"ifsc_code_row").parentNode&&d.byId(_103+"ifsc_code_row").parentNode.id){var _10f=d.byId(_103+"ifsc_code_row").parentNode.id;if(dj.byId(_10f)){var _110=dj.byId(_10f).get("title");if(_110.indexOf("*")!==-1){_110=_110.substring(_110.indexOf(">")+1,_110.lastIndexOf("<"));if(_110.indexOf("*")!==-1){_110=_110.substring(_110.indexOf("*")+1);dj.byId(_10f).set("title",_110);}else{dj.byId(_10f).set("title",_110);}}}}}},setSwiftBankDetailsForOnBlurEvent:function(_111,_112,_113,_114,_115,_116,_117,_118,_119,_11a){if(m._config.isBankDetailsPopulated){m.getSwiftBankDetails(_111,_112,_113,_114,_115,_116,false,_118,_119,_11a);}else{m.getSwiftBankDetails(_111,_112,_113,_114,_115,_116,_117,_118,_119,_11a);}m._config.isBankDetailsPopulated=false;},setIFSCCodeDetailsForOnBlurEvent:function(_11b,_11c,_11d,_11e,_11f,_120,_121){m.getIFSCCodeDetails(_11b,_11c,_11d,_11e,_11f,_120,_121);},toggleDraftTerm:function(_122){var _123=(!dj.byId("tenor_maturity_date").get("value")&&!dj.byId("tenor_days").get("value")&&!dj.byId("tenor_period").get("value")&&!dj.byId("tenor_from_after").get("value")&&!dj.byId("tenor_days_type").get("value")&&!m._config.firstPageLoad);if(!d.isString(_122)){_122=this.get("value");}m.toggleFields(_122==="02",null,["tenor_maturity_date"],_123);m.toggleFields(_122==="03",null,["tenor_days","tenor_period","tenor_from_after","tenor_days_type"],_123);m.toggleFields(_122==="05",null,["draft_term"],_123);if(dj.byId("tenor_days_type").get("value")!=="99"){dj.byId("tenor_type_details").set("value","");}if(dj.byId("tenor_days_type")){var _124=dj.byId("tenor_days_type").get("value")==="99";m.toggleFields((_124),null,["tenor_type_details"]);}},initDraweeFields:function(){var _125=false;if(dj.byId("cr_avl_by_code_2")){_125=dj.byId("cr_avl_by_code_2").get("checked");}var _126=false;if(dj.byId("cr_avl_by_code_3")){_126=dj.byId("cr_avl_by_code_3").get("checked");}if(!_125&&!_126){dj.byId("drawee_details_bank_name").set("value","");if(dj.byId("drawee_details_bank_iso_code")){dj.byId("drawee_details_bank_iso_code").set("value","");}if(dj.byId("drawee_details_bank_address_line_1")){dj.byId("drawee_details_bank_address_line_1").set("value","");dj.byId("drawee_details_bank_address_line_2").set("value","");dj.byId("drawee_details_bank_dom").set("value","");dj.byId("drawee_details_bank_address_line_4").set("value","");}if(d.byId("drawee_details_bank_img")){m.animate("fadeOut","drawee_details_bank_img");}}else{if(d.byId("drawee_details_bank_img")){m.animate("fadeIn","drawee_details_bank_img");}}m.toggleFields(_125||_126,["drawee_details_bank_address_line_2","drawee_details_bank_dom","drawee_details_bank_address_line_4"],["drawee_details_bank_name","drawee_details_bank_address_line_1","drawee_details_bank_iso_code"],true);if(dj.byId("mode")&&dj.byId("mode").get("value")==="RELEASE"){m.toggleRequired("drawee_details_bank_address_line_1",false);}var _127=dj.byId("product_code").get("value");var _128=!JSON.parse(misys._config.drawee_details_nonmandatory);if(dj.byId("product_code")&&(_127==="LC"||_127==="SI")&&(_125||_126)){if(dj.byId("drawee_details_bank_iso_code")&&dj.byId("drawee_details_bank_name")&&dj.byId("drawee_details_bank_address_line_1")){m.toggleRequired("drawee_details_bank_iso_code",_128);m.toggleRequired("drawee_details_bank_name",false);m.toggleRequired("drawee_details_bank_address_line_1",_128);}}},togglePaymentDraftAt:function(){var _129=dj.byId("tenor_type_1"),_12a=dj.byId("tenor_type_2"),_12b=dj.byId("tenor_type_3"),_12c=dj.byId("draft_term"),_12d=this.get("value"),_12e=d.byId("payment-draft"),_12f=d.byId("draft-term"),_130=dj.byId("credit_available_with_bank_type");if(!_129||!_12a||!_12b){return;}_129.set("disabled",true);_12a.set("disabled",true);_12b.set("disabled",true);if(m._config.firstPageLoad&&_12d!=="05"){_12c.set("value","");}if(_12d!=="05"&&d.style(_12e,"opacity")!==1){m.animate("fadeOut",_12f);m.animate("fadeIn",_12e);}switch(_12d){case "01":_129.set("disabled",false);_129.set("checked",true);m.toggleDraftTerm("01");break;case "02":_12a.set("disabled",false);_12b.set("disabled",false);if(dj.byId("tenor_maturity_date").get("displayedValue")!==""){_12a.set("checked",true);m.toggleDraftTerm("02");_12c.set("value",dj.byId("tenor_maturity_date").get("displayedValue"));break;}else{_12b.set("checked",true);m.toggleDraftTerm("03");break;}break;case "03":_129.set("disabled",false);_12a.set("disabled",false);_12b.set("disabled",false);if(_129.get("checked")){_129.set("checked",true);m.toggleDraftTerm("01");break;}else{if(dj.byId("tenor_maturity_date").get("displayedValue")!==""){_12a.set("checked",true);m.toggleDraftTerm("02");break;}else{_12b.set("checked",true);m.toggleDraftTerm("03");break;}}break;case "06":_129.set("disabled",true);_12a.set("disabled",true);_12b.set("disabled",true);m.toggleDraftTerm("01");break;case "04":_12a.set("disabled",false);_12b.set("disabled",false);if(dj.byId("tenor_maturity_date").get("displayedValue")!==""){_12a.set("checked",true);m.toggleDraftTerm("02");break;}else{_12b.set("checked",true);m.toggleDraftTerm("03");break;}break;case "05":m.animate("fadeOut",_12e);m.animate("fadeIn",_12f);_129.set("checked",false);_12a.set("checked",false);_12b.set("checked",false);m.toggleDraftTerm("05");break;default:break;}var _131="01";if(dj.byId("tnx_type_code")){_131=dj.byId("tnx_type_code").get("value");}if(_130&&!(_131==="03")){_27(_12d,_130.get("value"));}m.initDraweeFields();},calcMaturityDate:function(){if(dj.byId("tenor_days").get("value")!==""&&!isNaN(dj.byId("tenor_days").get("value"))&&dj.byId("tenor_period").get("value")!==""&&dj.byId("tenor_from_after").get("value")!==""){var _132=dj.byId("tenor_base_date").get("value");var _133=dj.byId("tenor_days").get("value");var _134=dj.byId("tenor_period").get("value");var _135,_136=null;var _137;switch(_134){case "D":_135="day";break;case "W":_135="week";break;case "M":_135="month";break;case "Y":_135="year";break;default:break;}var _138=dj.byId("tenor_from_after").get("value");if(dj.byId("tenor_base_date").get("displayedValue")!==""){_136=d.date.add(_132,_135,_133);if(_138==="F"){_136=d.date.add(_136,"day",-1);}_137=new Date(_136.getTime());_137=d.date.locale.format(_137,{selector:"date"});dj.byId("tenor_maturity_date").set("displayedValue",_137);dj.byId("tenor_maturity_date").set("disabled",true);}else{dj.byId("tenor_maturity_date").set("displayedValue","");}}},toggleAllTenorFields:function(){var _139=["tenor_days","tenor_period","tenor_from_after","tenor_base_date","tenor_maturity_date","tenor_days_type"];if(m._config.isBank){_139=["tenor_days","tenor_period","tenor_from_after","tenor_base_date","tenor_maturity_date","tenor_days_type"];}var _13a=dj.byId("tenor_type_2").get("checked");var _13b;if(dj.byId("tenor_type_3")){_13b=dj.byId("tenor_type_3").get("checked");}var _13c=dj.byId("term_code")?dj.byId("term_code").get("value"):"";if(_13a){m.toggleFields(_13a,["tenor_days_type"],_139,_13a,_13a);if(dojo.query(_2)[0].innerHTML.indexOf("*")===-1){dojo.query(_2)[0].innerHTML="<span class='required-field-symbol'>*</span>"+dojo.query(_2)[0].innerHTML;}m.toggleRequired("tenor_days_type",true);m.toggleRequired("tenor_days",true);m.toggleRequired("tenor_period",true);m.toggleRequired("tenor_from_after",true);m.toggleRequired("tenor_maturity_date",true);m.toggleRequired("tenor_maturity_date",false);m.toggleRequired("tenor_base_date",false);if(_13c==="03"||(_13c==="02"&&!dj.byId("tenor_type_3"))){m.animate("fadeIn",d.byId("boe"));}}else{if(_13b){m.toggleFields(_13b,["tenor_days_type"],_139,_13b,_13b);if(dojo.query(_2)[0].innerHTML.indexOf("*")===-1){dojo.query(_2)[0].innerHTML="<span class='required-field-symbol'>*</span>"+dojo.query(_2)[0].innerHTML;}m.toggleRequired("tenor_days_type",true);m.toggleRequired("tenor_days",true);m.toggleRequired("tenor_period",true);m.toggleRequired("tenor_from_after",true);if(dj.byId("tenor_type_2").get("checked")){m.toggleRequired("tenor_base_date",false);m.toggleRequired("tenor_maturity_date",false);}else{m.toggleRequired("tenor_base_date",true);m.toggleRequired("tenor_maturity_date",true);}if(_13c==="03"||(_13c==="02"&&!dj.byId("tenor_type_3"))){m.animate("fadeIn",d.byId("boe"));}}else{dojo.query(_2)[0].innerHTML=m.getLocalization("tenorPeriod");m.toggleRequired("tenor_days_type",false);m.toggleRequired("tenor_days",false);m.toggleRequired("tenor_period",false);m.toggleRequired("tenor_from_after",false);m.toggleRequired("tenor_maturity_date",false);dj.byId("tenor_type_details").set("displayedValue","");dj.byId("tenor_type_details").set("disabled",true);dj.byId("tenor_maturity_date").set("displayedValue","");dj.byId("tenor_days").set("displayedValue","");dj.byId("tenor_days").set("disabled",true);dj.byId("tenor_period").set("displayedValue","");dj.byId("tenor_period").set("disabled",true);dj.byId("tenor_from_after").set("displayedValue","");dj.byId("tenor_from_after").set("disabled",true);dj.byId("tenor_days_type").set("displayedValue","");dj.byId("tenor_days_type").set("disabled",true);dj.byId("tenor_base_date").set("displayedValue","");dj.byId("tenor_base_date").set("disabled",true);if(_13c==="03"||(_13c==="02"&&!dj.byId("tenor_type_3"))){m.animate("fadeOut",d.byId("boe"));if(dj.byId("boe_flag")){dj.byId("boe_flag").set("checked",false);}}}}},toggleBankPaymentDraftAt:function(){var _13d,_13e=["draft_term","drawee_details_bank_name","drawee_details_bank_address_line_1","drawee_details_bank_address_line_2","drawee_details_bank_dom","drawee_details_bank_address_line_4","drawee_details_bank_iso_code","drawee_details_bank_reference"];d.forEach(_13e,function(id){_13d=dj.byId(id);if(_13d){_13d.reset();}});},setDraftTerm:function(){var _13f=dj.byId("draft_term"),_140=misys._config.tenorPeriodLabels,_141=misys._config.tenorFromAfterLabels,_142=misys._config.tenorDaysTypeLabels,_143,_144,days,_145;if(_13f){if(!(dj.byId("cr_avl_by_code_5")&&dj.byId("cr_avl_by_code_5").get("checked"))){_13f.set("value","");}if(dj.byId("tenor_type_1")&&dj.byId("tenor_type_1").get("checked")){_13f.set("value",m.getLocalization("tenorSight"));}else{if((dj.byId("tenor_type_2")&&dj.byId("tenor_type_2").get("checked"))&&dj.byId("tenor_maturity_date").get("displayedValue")!==""){_13f.set("value",dj.byId("tenor_maturity_date").get("displayedValue"));}else{_143=dj.byId("tenor_period").get("value");_144=dj.byId("tenor_from_after").get("value");days=dj.byId("tenor_days").get("value");_145=dj.byId("tenor_days_type").get("value");if(!isNaN(days)&&days!==0||(days===0&&_145==="07")){if(_145!=="99"){_13f.set("value",days+" "+_140[_143]+" "+_141[_144]+" "+_142[_145]);}else{_13f.set("value",days+" "+_140[_143]+" "+_141[_144]+" "+dj.byId("tenor_type_details").get("value"));}}}}}},setDraftDaysReadOnly:function(){this.set("readOnly",!dj.byId("tenor_type_3").get("checked"));},checkIrrevocableFlag:function(){var _146=dj.byId("ntrf_flag"),_147=dj.byId("stnd_by_lc_flag");if(!this.get("checked")&&_146&&_147&&!_146.get("checked")&&_147.get("checked")){this.set("checked",true);m.showTooltip(m.getLocalization("irrevocableStandByError"),this.domNode,["before"]);}},checkNonTransferableFlag:function(){var _148=dj.byId("irv_flag"),_149=dj.byId("stnd_by_lc_flag");if(!this.get("checked")&&_148&&_149&&!_148.get("checked")&&_149.get("checked")){this.set("checked",false);_148.set("checked",true);m.showTooltip(m.getLocalization("irrevocableStandByError"),_148.domNode,["before"]);}},checkStandByFlag:function(){var _14a=dj.byId("irv_flag"),_14b=dj.byId("ntrf_flag");if(this.get("checked")&&_14b&&_14a&&!_14b.get("checked")&&!_14a.get("checked")){_14a.set("checked",true);m.showTooltip(m.getLocalization("irrevocableStandByError"),_14a.domNode,["before"]);}},resetConfirmationCharges:function(){if(m._config.charge_splitting_lc){if(dj.byId("open_chrg_brn_by_code_3")){if(!dj.byId("cfm_chrg_brn_by_code_3").get("checked")){dj.byId("cfm_chrg_brn_by_code_1").set("checked",false);dj.byId("cfm_chrg_brn_by_code_2").set("checked",this.get("value")!=="03");dj.byId("cfm_chrg_brn_by_code_3").set("checked",false);}if(dj.byId("cfm_inst_code_3").get("checked")){dj.byId("cfm_chrg_brn_by_code_1").set("checked",false);dj.byId("cfm_chrg_brn_by_code_2").set("checked",this.get("value")!=="03");dj.byId("cfm_chrg_brn_by_code_3").set("checked",false);dj.byId("cfm_chrg_applicant").set("disabled",true).set("value","").set("required",false);dj.byId("cfm_chrg_beneficiary").set("disabled",true).set("value","").set("required",false);}}}else{if(dj.byId("cfm_chrg_brn_by_code_1")){dj.byId("cfm_chrg_brn_by_code_1").set("checked",false);}if(dj.byId("cfm_chrg_brn_by_code_2")){dj.byId("cfm_chrg_brn_by_code_2").set("checked",this.get("value")!=="03");}}var _14c=(this.get("value")==="01"||this.get("value")==="02")?"fadeIn":"fadeOut";m.animate(_14c,d.byId("cfm_chrg_brn_by_code_div"));if(m._config.swift2018Enabled){if(this.get("value")==="01"||this.get("value")==="02"){m.animate("fadeIn",d.byId("requested-conf-party"));m.toggleFields(true,["req_conf_party_flag"],null,null,true);dj.byId("req_conf_party_flag").set("value",_3);}else{m.animate("fadeOut",d.byId("requested-conf-party"));m.toggleFields(false,["req_conf_party_flag","requested_confirmation_party_name","requested_confirmation_party_address_line_1","requested_confirmation_party_address_line_2","requested_confirmation_party_dom","requested_confirmation_party_address_line_4","requested_confirmation_party_iso_code"],null,null,false);}}},resetConfirmationChargesLC:function(){var _14d;var _14e;if(document.getElementById("_userType")){_14d=document.getElementById("_userType").getAttribute("value");}var _14f=(_14d!=="03"&&_14d!=="06")?"bank":"customer";if(dj.byId("cfm_chrg_brn_by_code_1")){dj.byId("cfm_chrg_brn_by_code_1").set("checked",false);}if(dj.byId("cfm_chrg_brn_by_code_2")){dj.byId("cfm_chrg_brn_by_code_2").set("checked",this.get("value")!=="03");}var _150=(this.get("value")==="01"||this.get("value")==="02")?"fadeIn":"fadeOut";m.animate(_150,d.byId("cfm_chrg_brn_by_code_div"));var _151=dj.byId("req_conf_party_flag");var _152=dj.byId("req_conf_party_flag_filtered");var _153="01";if(dj.byId("tnx_type_code")){_153=dj.byId("tnx_type_code").get("value");}var _154="01";if(dj.byId("prod_stat_code")){_154=dj.byId("prod_stat_code").get("value");}if(_152&&((_153==="15"&&_154==="08")||_153==="03")){_151=_152;}if(this.get("value")==="01"||this.get("value")==="02"){_151.set("disabled",false);_151.set("value","");}else{if(_14f==="bank"){m.toggleRequired(_151,false);if((_153==="15"&&_154==="08")||_153==="03"){var _155=dj.byId("req_conf_party_flag");m.toggleRequired(_155,false);}_14e=dj.byId("req_conf_party_flag").parentTab;m.resetTabState(dijit.byId(_14e));}_151.set("disabled",true);_151.set("value","");d.byId(_4).style.display="none";}},validateBankEntry:function(_156){var _157=dj.byId(_156+"_name");var _158=dj.byId(_156+"_address_line_1");var _159=dj.byId(_156+"_iso_code");if(_157.get("value")==""&&_159.get("value")==""&&_158.get("value")==""){m.setRequiredFields([_157,_158],true);_157.focus();_158.focus();return false;}else{if(_159.get("value")==""&&(_157.get("value")==""||_158.get("value")=="")){var _15a=_157.get("value")==""?_157:_158;m.setRequiredFields([_15a],true);_15a.focus();return false;}else{return true;}}},resetBankRequiredFields:function(){var _15b=this.get("value");var _15c;var _15d;if(_15b==="Other"){_15c=dj.byId("advising_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));_15c=dj.byId("advise_thru_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));m.setRequiredFields(["advising_bank_name","advising_bank_address_line_1","advise_thru_bank_name","advise_thru_bank_address_line_1"],false);d.byId(_4).style.display="block";m.toggleFields(true,["requested_confirmation_party_name","requested_confirmation_party_address_line_1","requested_confirmation_party_address_line_2","requested_confirmation_party_dom","requested_confirmation_party_address_line_4","requested_confirmation_party_iso_code"],null,null,true);}else{if(_15b===_3){_15d=dj.byId("advising_bank_iso_code").get("value");_15c=dj.byId("advise_thru_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));if(_15d!=="null"&&_15d.length>0){m.setRequiredFields(["advising_bank_name","advising_bank_address_line_1"],false);}else{m.setRequiredFields(["advising_bank_name","advising_bank_address_line_1"],true);}m.setRequiredFields(["advise_thru_bank_name","advise_thru_bank_address_line_1"],false);d.byId(_4).style.display="none";m.toggleFields(false,["requested_confirmation_party_name","requested_confirmation_party_address_line_1","requested_confirmation_party_address_line_2","requested_confirmation_party_dom","requested_confirmation_party_address_line_4","requested_confirmation_party_iso_code"],null,null,false);}else{if(_15b==="Advise Thru Bank"){_15d=dj.byId("advise_thru_bank_iso_code").get("value");_15c=dj.byId("advising_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));if(_15d!=="null"&&_15d.length>0){m.setRequiredFields(["advise_thru_bank_name","advise_thru_bank_address_line_1"],false);}else{m.setRequiredFields(["advise_thru_bank_name","advise_thru_bank_address_line_1"],true);}m.setRequiredFields(["advising_bank_name","advising_bank_address_line_1"],false);d.byId(_4).style.display="none";m.toggleFields(false,["requested_confirmation_party_name","requested_confirmation_party_address_line_1","requested_confirmation_party_address_line_2","requested_confirmation_party_dom","requested_confirmation_party_address_line_4","requested_confirmation_party_iso_code"],null,null,false);}else{_15c=dj.byId("advising_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));_15c=dj.byId("advise_thru_bank_name").parentTab;m.resetTabState(dijit.byId(_15c));m.setRequiredFields(["advising_bank_name","advising_bank_address_line_1","advise_thru_bank_name","advise_thru_bank_address_line_1"],false);d.byId(_4).style.display="none";m.toggleFields(false,["requested_confirmation_party_name","requested_confirmation_party_address_line_1","requested_confirmation_party_address_line_2","requested_confirmation_party_dom","requested_confirmation_party_address_line_4","requested_confirmation_party_iso_code"],null,null,false);}}}},resetTabState:function(tab){if(tab){var _15e=tab.get("title");if(_15e.indexOf("<img")!==-1&&_15e.indexOf("*")!==-1){_15e=_15e.replace("*","");_15e=_15e.substring(0,_15e.indexOf("<img"));}else{if(_15e.indexOf("*")!==-1){_15e=_15e.replace("*","");}}tab.set("title",_15e);}},resetRequestedConfirmationParty:function(){var _15f;var _160;if(document.getElementById("_userType")){_15f=document.getElementById("_userType").getAttribute("value");}var _161=(_15f!=="03"&&_15f!=="06")?"bank":"customer";if(dijit.byId("cfm_inst_code_1")&&!dijit.byId("cfm_inst_code_1").get("value")&&!dijit.byId("cfm_inst_code_2").get("value")){if(dj.byId("req_conf_party_flag")){dj.byId("req_conf_party_flag").set("disabled",true);}if(dj.byId("req_conf_party_flag_filtered")){dj.byId("req_conf_party_flag_filtered").set("disabled",true);m.toggleRequired(dj.byId("req_conf_party_flag_filtered"),false);_160=dj.byId("req_conf_party_flag_filtered").parentTab;m.resetTabState(dijit.byId(_160));}if(_161==="bank"&&dj.byId("req_conf_party_flag")){m.toggleRequired(dj.byId("req_conf_party_flag"),false);_160=dj.byId("req_conf_party_flag").parentTab;m.resetTabState(dijit.byId(_160));}}else{if(dj.byId("req_conf_party_flag")){dj.byId("req_conf_party_flag").set("disabled",false);}if(dj.byId("req_conf_party_flag_filtered")){dj.byId("req_conf_party_flag_filtered").set("disabled",false);}}var _162=(dijit.byId("cfm_inst_code_1").get("value")||dijit.byId("cfm_inst_code_2").get("value"))?"fadeIn":"fadeOut";m.animate(_162,d.byId("cfm_chrg_brn_by_code_div"));},refreshUIforBGAmendment:function(){var _163=dj.byId("prod_stat_code").get("value");var _164=dj.byId("tnx_type_code").get("value");if((_164==="15"&&_163==="08")||(_164==="15"&&_163==="31")||_164==="03"){if(_164==="03"){if(d.byId("amd_no_date_display_div")){d.byId("amd_no_date_display_div").style.display="none";dj.byId("amd_date").set("disabled",false);}}if((_164==="15"&&_163==="08")||(_164==="15"&&_163==="31")||(_164==="03"&&_163==="08")){if(d.byId("amd_no_date_display_div")){d.byId("amd_no_date_display_div").style.display="block";dj.byId("amd_date").set("disabled",false);}if(d.byId("amd_no_date_bg_display_div")){d.byId("amd_no_date_bg_display_div").style.display="block";dj.byId("amd_date").set("disabled",false);}}}else{if(d.byId("amd_no_date_bg_display_div")){d.byId("amd_no_date_bg_display_div").style.display="none";dj.byId("amd_date").set("disabled",false);}}},refreshUIforAmendment:function(){var _165=dj.byId("prod_stat_code").get("value");var _166=dj.byId("tnx_type_code").get("value");var _167=dj.byId("sub_tnx_type_code")?dj.byId("sub_tnx_type_code").get("value"):"";if((_166==="15"&&_165==="08")||(_166==="15"&&_165==="31")){if(d.byId("amd_chrg_brn_by_code_div")){d.byId("amd_chrg_brn_by_code_div").style.display="block";}if(d.byId("cfm_chrg_brn_by_code_div")){d.byId("cfm_chrg_brn_by_code_div").style.display="block";}if(_166==="03"){if(d.byId("amd_no_date_display_div")){d.byId("amd_no_date_display_div").style.display="none";dj.byId("amd_date").set("disabled",false);}}if((_166==="15"&&_165==="08")||(_166==="15"&&_165==="31")||(_166==="03"&&_165==="08")){if(d.byId("amd_no_date_display_div")){d.byId("amd_no_date_display_div").style.display="block";dj.byId("amd_date").set("disabled",false);}}m.toggleFields(false,["advising_bank_name","advising_bank_address_line_1","advising_bank_address_line_2","advising_bank_dom","advising_bank_address_line_4","advising_bank_iso_code","advising_bank_reference"],null,true,null);m.toggleFields(false,["advise_thru_bank_name","advise_thru_bank_address_line_1","advise_thru_bank_address_line_2","advise_thru_bank_dom","advise_thru_bank_address_line_4","advise_thru_bank_iso_code","advise_thru_bank_reference"],null,true,null);if(d.byId("req_conf_party_flag_filtered_div")){d.byId("req_conf_party_flag_filtered_div").style.display="block";}if(dj.byId("req_conf_party_flag_filtered")){dj.byId("req_conf_party_flag_filtered").set("value",dj.byId("req_conf_party_flag").getValue());}if(d.byId("req_conf_party_flag_div")){d.byId("req_conf_party_flag_div").style.display="none";}m.resetRequestedConfirmationParty();if(dj.byId("req_conf_party_flag_filtered")){m.setRequiredFields(["req_conf_party_flag_filtered"],true);}if(dj.byId("amd_chrg_brn_by_code_1")&&!dj.byId("amd_chrg_brn_by_code_1").get("value")&&!dj.byId("amd_chrg_brn_by_code_2").get("value")&&!dj.byId("amd_chrg_brn_by_code_4").get("value")&&(dj.byId("amd_chrg_brn_by_code_5")&&!dj.byId("amd_chrg_brn_by_code_5").get("value"))&&!dj.byId("amd_chrg_brn_by_code_9").get("value")){dj.byId("amd_chrg_brn_by_code_2").set("checked",true);}if(d.byId("advising_bank_name_img")){m.animate("wipeOut",d.byId("advising_bank_name_img"));}if(d.byId("advise_thru_bank_name_img")){m.animate("wipeOut",d.byId("advise_thru_bank_name_img"));}m.resetFormFields(["advising_bank_name","advising_bank_address_line_1","advising_bank_address_line_2","advising_bank_dom","advising_bank_address_line_4","advising_bank_iso_code","advising_bank_reference"]);m.resetFormFields(["advise_thru_bank_name","advise_thru_bank_address_line_1","advise_thru_bank_address_line_2","advise_thru_bank_dom","advise_thru_bank_address_line_4","advise_thru_bank_iso_code","advise_thru_bank_reference"]);if(m._config.narrativeDescGoodsDataStore||m._config.narrativeDocsReqDataStore||m._config.narrativeAddInstrDataStore||m._config.narrativeSpBeneDataStore||m._config.narrativeSpRecvbankDataStore){m._config.currentNarrativeDescGoodsDataStore=m._config.narrativeDescGoodsDataStore;m._config.currentNarrativeDocsReqDataStore=m._config.narrativeDocsReqDataStore;m._config.currentNarrativeAddInstrDataStore=m._config.narrativeAddInstrDataStore;m._config.currentNarrativeSpBeneDataStore=m._config.narrativeSpBeneDataStore;m._config.currentNarrativeSpRecvbankDataStore=m._config.narrativeSpRecvbankDataStore;}if(d.byId("amend_narratives_display")){d.byId("amend_narratives_display").style.display="block";}if(d.byId(_5)){d.byId(_5).style.display="none";}}else{if(_166==="15"){if(d.byId("amd_chrg_brn_by_code_div")){d.byId("amd_chrg_brn_by_code_div").style.display="none";}if(d.byId("cfm_chrg_brn_by_code_div")){d.byId("cfm_chrg_brn_by_code_div").style.display="none";}if(d.byId("amd_no_date_display_div")){dj.byId("amd_date").set("disabled",true);d.byId("amd_no_date_display_div").style.display="none";}m.toggleFields(true,["advising_bank_name","advising_bank_address_line_1","advising_bank_address_line_2","advising_bank_dom","advising_bank_address_line_4","advising_bank_iso_code","advising_bank_reference"],null,true,null);m.toggleFields(true,["advise_thru_bank_name","advise_thru_bank_address_line_1","advise_thru_bank_address_line_2","advise_thru_bank_dom","advise_thru_bank_address_line_4","advise_thru_bank_iso_code","advise_thru_bank_reference"],null,true,null);if(d.byId("req_conf_party_flag_filtered_div")){d.byId("req_conf_party_flag_filtered_div").style.display="none";}if(d.byId("req_conf_party_flag_div")){d.byId("req_conf_party_flag_div").style.display="block";}if(d.byId("advising_bank_name_img")){m.animate("wipeIn",d.byId("advising_bank_name_img"));}if(d.byId("advise_thru_bank_name_img")){m.animate("wipeIn",d.byId("advise_thru_bank_name_img"));}m.resetRequestedConfirmationParty();if(dj.byId("req_conf_party_flag_filtered")){m.setRequiredFields(["req_conf_party_flag_filtered"],false);}if(d.byId("amend_narratives_display")){d.byId("amend_narratives_display").style.display="none";}if(d.byId(_5)){d.byId(_5).style.display="block";}if(m._config.currentNarrativeDescGoodsDataStore){m._config.narrativeDescGoodsDataStore=m._config.currentNarrativeDescGoodsDataStore;m._config.narrativeDocsReqDataStore=m._config.currentNarrativeDocsReqDataStore;m._config.narrativeAddInstrDataStore=m._config.currentNarrativeAddInstrDataStore;m._config.narrativeSpBeneDataStore=m._config.currentNarrativeSpBeneDataStore;m._config.narrativeSpRecvbankDataStore=m._config.currentNarrativeSpRecvbankDataStore;}else{m._config.narrativeDescGoodsDataStore="";m._config.narrativeDocsReqDataStore="";m._config.narrativeAddInstrDataStore="";m._config.narrativeSpBeneDataStore="";m._config.narrativeSpRecvbankDataStore="";if(document.getElementById("narrativeDescriptionGoods")){document.getElementById("narrativeDescriptionGoods").innerHTML="";}if(document.getElementById("narrativeDocumentsRequired")){document.getElementById("narrativeDocumentsRequired").innerHTML="";}if(document.getElementById("narrativeAdditionalInstructions")){document.getElementById("narrativeAdditionalInstructions").innerHTML="";}if(document.getElementById("narrativeSpecialBeneficiary")){document.getElementById("narrativeSpecialBeneficiary").innerHTML="";}if(document.getElementById("narrativeSpecialReceivingBank")){document.getElementById("narrativeSpecialReceivingBank").innerHTML="";}}}else{if((_166==="13"&&!(_167==="12"||_167==="19"))||_166!=="13"){if(d.byId("amend_narratives_display")){d.byId("amend_narratives_display").style.display="none";}if(d.byId(_5)){d.byId(_5).style.display="block";}}}}},refreshUIforAmendmentMO:function(){var _168=dj.byId("prod_stat_code")?dj.byId("prod_stat_code").get("value"):null;var _169=dj.byId("tnx_type_code")?dj.byId("tnx_type_code").get("value"):null;if((_169==="15"&&_168==="08")||(_169==="15"&&_168==="31")||_169==="03"){if(d.byId("amd_chrg_brn_by_code_div")){d.byId("amd_chrg_brn_by_code_div").style.display="block";}if(d.byId("cfm_chrg_brn_by_code_div")){d.byId("cfm_chrg_brn_by_code_div").style.display="block";}if(d.byId("amd_no_date_display_mo_div")){d.byId("amd_no_date_display_mo_div").style.display="block";}if(d.byId("amd_date_display_mo_div")){d.byId("amd_date_display_mo_div").style.display="block";}if(dj.byId("amd_chrg_brn_by_code_1")&&!dj.byId("amd_chrg_brn_by_code_1").get("value")&&!dj.byId("amd_chrg_brn_by_code_2").get("value")&&!dj.byId("amd_chrg_brn_by_code_4").get("value")&&(dj.byId("amd_chrg_brn_by_code_5")&&!dj.byId("amd_chrg_brn_by_code_5").get("value"))&&!dj.byId("amd_chrg_brn_by_code_9").get("value")){dj.byId("amd_chrg_brn_by_code_2").set("checked",true);}if(m._config.narrativeDescGoodsDataStore||m._config.narrativeDocsReqDataStore||m._config.narrativeAddInstrDataStore||m._config.narrativeSpBeneDataStore||m._config.narrativeSpRecvbankDataStore){m._config.currentNarrativeDescGoodsDataStore=m._config.narrativeDescGoodsDataStore;m._config.currentNarrativeDocsReqDataStore=m._config.narrativeDocsReqDataStore;m._config.currentNarrativeAddInstrDataStore=m._config.narrativeAddInstrDataStore;m._config.currentNarrativeSpBeneDataStore=m._config.narrativeSpBeneDataStore;m._config.currentNarrativeSpRecvbankDataStore=m._config.narrativeSpRecvbankDataStore;}if(document.getElementById("amd_no")){document.getElementById("amd_no").value=m._config.amendmentNumber;}if(d.byId("amend_narratives_display")){d.byId("amend_narratives_display").style.display="block";}if(d.byId(_5)){d.byId(_5).style.display="none";}}else{if(_169==="15"||_169==="13"){if(d.byId("amd_chrg_brn_by_code_div")){d.byId("amd_chrg_brn_by_code_div").style.display="none";}if(d.byId("cfm_chrg_brn_by_code_div")){d.byId("cfm_chrg_brn_by_code_div").style.display="none";}if(d.byId("amd_no_date_display_mo_div")){d.byId("amd_no_date_display_mo_div").style.display="none";}if(d.byId("amd_date_display_mo_div")){d.byId("amd_date_display_mo_div").style.display="none";}if(d.byId("amend_narratives_display")){d.byId("amend_narratives_display").style.display="none";}if(d.byId(_5)){d.byId(_5).style.display="block";}if(document.getElementById("amd_no")){document.getElementById("amd_no").value="";}if(m._config.currentNarrativeDescGoodsDataStore){m._config.narrativeDescGoodsDataStore=m._config.currentNarrativeDescGoodsDataStore;m._config.narrativeDocsReqDataStore=m._config.currentNarrativeDocsReqDataStore;m._config.narrativeAddInstrDataStore=m._config.currentNarrativeAddInstrDataStore;m._config.narrativeSpBeneDataStore=m._config.currentNarrativeSpBeneDataStore;m._config.narrativeSpRecvbankDataStore=m._config.currentNarrativeSpRecvbankDataStore;}else{m._config.narrativeDescGoodsDataStore="";m._config.narrativeDocsReqDataStore="";m._config.narrativeAddInstrDataStore="";m._config.narrativeSpBeneDataStore="";m._config.narrativeSpRecvbankDataStore="";if(document.getElementById("narrativeDescriptionGoods")){document.getElementById("narrativeDescriptionGoods").innerHTML="";}if(document.getElementById("narrativeDocumentsRequired")){document.getElementById("narrativeDocumentsRequired").innerHTML="";}if(document.getElementById("narrativeAdditionalInstructions")){document.getElementById("narrativeAdditionalInstructions").innerHTML="";}if(document.getElementById("narrativeSpecialBeneficiary")){document.getElementById("narrativeSpecialBeneficiary").innerHTML="";}if(document.getElementById("narrativeSpecialReceivingBank")){document.getElementById("narrativeSpecialReceivingBank").innerHTML="";}}}}},resetFormFields:function(_16a){d.forEach(_16a,function(id,_16b){var item=dj.byId(id);if(item){item.reset();}});},setRequiredFields:function(_16c,_16d){d.forEach(_16c,function(id,_16e){var item=dj.byId(id);item.set("required",_16d);});},compareTransactionMaster:function(_16f,type){var _170=false;for(var i=0;i<_16f.length;i++){var _171=dj.byId(_16f[i]);var _172=dj.byId("org_"+_16f[i]);if((_172&&!_171)||(_171&&!_172)){_170=true;break;}else{if(type==="TXT"){if(m.trim(_172.get("value"))!==m.trim(_171.get("value"))){_170=true;break;}}else{if(type==="CHECK"){var _173=(_171.get("checked")===true)?"Y":"N";if(_172.get("value")!==_173){_170=true;break;}}}}}return _170;},compareTransactionMasterRadio:function(_174){var _175=false;for(var i=0;i<_174.length;i++){var _176=dj.byId(_174[i]);if(_176&&_176.get("value")!==false){var _177=dj.byId("org_"+_174[i]);if(!_177||(_177.get("value")!==_176.get("value"))){_175=true;break;}}}return _175;},amendChargesLC:function(){var _178=dj.byId("narrative_amend_charges_other");var _179=this.get("id");if(_178){if(_179==="amd_chrg_brn_by_code_4"||_179==="amd_chrg_brn_by_code_5"){_178.set("value","");_178.set("disabled",false);}else{_178.set("value","");_178.set("disabled",true);}}},calculateAmendTransactionAmount:function(){var _17a=(dj.byId("tnxtype")&&dj.byId("tnxtype").get("value")==="03")||(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")==="03")||(dj.byId("prod_stat_code")&&(dj.byId("prod_stat_code").get("value")==="08"||dj.byId("prod_stat_code").get("value")==="31"));var _17b=dj.byId("tnx_amt");if(_17a){var _17c=dj.byId("inc_amt");if(_17c){_17c.set("value","");}var _17d=dj.byId("dec_amt");if(_17d){_17d.set("value","");}var _17e=dj.byId("lc_amt"),_17f=dj.byId("org_lc_amt"),_180=d.number.parse(_17f.get("displayedValue")),_181=d.number.parse(_17e.get("displayedValue"));_180=!isNaN(_180)?_180:0;_181=!isNaN(_181)?_181:0;var _182=_181-_180;if(_182>0){if(_17b){_17b.set("value",_182);}if(_17c){_17c.set("value",_182);}}else{if(_182<0){if(_17b){_17b.set("value",(-1*_182));}if(_17d){_17d.set("value",(-1*_182));}}}}else{_17b.set("value",d.number.parse(dj.byId("lc_amt").get("value")));}},checkConfirmationCharges:function(){if(dj.byId("cfm_inst_code_3").get("checked")){this.set("checked",false);m.showTooltip(m.getLocalization("confirmationInstructionsError"),d.byId("cfm_chrg_brn_by_code_1"),["before"]);}if(m._config.charge_splitting_lc){if(dj.byId("open_chrg_brn_by_code_3")){if(dj.byId("cfm_chrg_brn_by_code_3").get("checked")){dj.byId("cfm_chrg_applicant").set("disabled",false).set("required",true);dj.byId("cfm_chrg_beneficiary").set("disabled",false).set("required",true);}else{dj.byId("cfm_chrg_applicant").set("disabled",true).set("value","").set("required",false);dj.byId("cfm_chrg_beneficiary").set("disabled",true).set("value","").set("required",false);}}}},checkApplBeneCharges:function(){if(dj.byId("open_chrg_brn_by_code_3")){if(dj.byId("open_chrg_brn_by_code_3").get("checked")){dj.byId("open_chrg_applicant").set("disabled",false).set("required",true);dj.byId("open_chrg_beneficiary").set("disabled",false).set("required",true);}else{dj.byId("open_chrg_applicant").set("disabled",true).set("value","").set("required",false);dj.byId("open_chrg_beneficiary").set("disabled",true).set("value","").set("required",false);}}if(dj.byId("corr_chrg_brn_by_code_3")){if(dj.byId("corr_chrg_brn_by_code_3").get("checked")){dj.byId("corr_chrg_applicant").set("disabled",false).set("required",true);dj.byId("corr_chrg_beneficiary").set("disabled",false).set("required",true);}else{dj.byId("corr_chrg_applicant").set("disabled",true).set("value","").set("required",false);dj.byId("corr_chrg_beneficiary").set("disabled",true).set("value","").set("required",false);}}},toggleRenewalDetails:function(_183){if(dj.byId("is_bank")&&dj.byId("is_bank").get("value")==="N"){m.toggleFields(this.get("checked"),["advise_renewal_flag","rolling_renewal_flag","renew_amt_code_1","renew_amt_code_2","final_expiry_date"],["renew_on_code","renew_for_nb","renew_for_period"],_183);}else{m.toggleFields(this.get("checked"),["advise_renewal_flag","rolling_renewal_flag","renew_amt_code_1","renew_amt_code_2","projected_expiry_date","final_expiry_date"],["renew_on_code","renew_for_nb","renew_for_period"],_183);}if(!this.get("checked")){dj.byId("renew_on_code").set("value","");dj.byId("renew_for_nb").set("value","");dj.byId("renew_for_period").set("value","");dj.byId("advise_renewal_flag").set("checked",false);dj.byId("rolling_renewal_flag").set("checked",false);dj.byId("renew_amt_code_1").set("checked",false);dj.byId("renew_amt_code_2").set("checked",false);if(dj.byId("projected_expiry_date")){dj.byId("projected_expiry_date").set("value",null);}dj.byId("final_expiry_date").set("value",null);}},resetRenewalDetails:function(_184,node){if(dj.byId("is_bank")&&dj.byId("is_bank").get("value")==="N"){m.toggleFields(node.get("checked"),["advise_renewal_flag","rolling_renewal_flag","renew_amt_code_1","renew_amt_code_2","final_expiry_date"],["renew_on_code","renew_for_nb","renew_for_period"],_184);}else{m.toggleFields(node.get("checked"),["advise_renewal_flag","rolling_renewal_flag","renew_amt_code_1","renew_amt_code_2","projected_expiry_date","final_expiry_date"],["renew_on_code","renew_for_nb","renew_for_period"],_184);}if(!node.get("checked")){dj.byId("renew_on_code").set("value","");dj.byId("renew_for_nb").set("value","");dj.byId("renew_for_period").set("value","");dj.byId("advise_renewal_flag").set("checked",false);dj.byId("rolling_renewal_flag").set("checked",false);dj.byId("renew_amt_code_2").set("checked",true);if(dj.byId("projected_expiry_date")){dj.byId("projected_expiry_date").set("value",null);}dj.byId("final_expiry_date").set("value",null);}},toggleDependentFields:function(node,_185,_186){var _187=dj.byId(node),_188=dj.byId(_185);if(_188.get("displayedValue")!==""&&_187.get("displayedValue")!==""){_187.set("displayedValue","");_187.set("readOnly",true);if(_186){m.setFieldState(_187,false);m.showTooltip(_186,_187.domNode);}}else{_187.set("readOnly",false);_188.set("readOnly",false);}},updateOutstandingAmount:function(_189,_18a,_18b){var _18c=dj.byId("prod_stat_code").get("value");if(_18b==null||_18b==undefined){var _18d=dj.byId("product_code").get("value").toLowerCase();_18b=dj.byId(_18d+"_amt");}var _18e=dojo.number.parse(_18a.get("value"))||(_18b?_18b.get("value"):0);var _18f;if(dj.byId("tnx_amt")&&dj.byId("tnx_amt").get("value")){_18f=isNaN(dojo.number.parse(dj.byId("tnx_amt").get("value")))?0:dj.byId("tnx_amt").get("value");}else{_18f=0;}var _190,_191=dj.byId("tnx_type_code"),_192=dj.byId("sub_tnx_type_code");if(_189&&(_18c==="04"||_18c==="14"||_18c==="15"||_18c==="13"||_18c==="05")){_190=_18e-_18f;_190=(_190>0)?_190:0;_189.set("value",_190);}else{if(_191&&_192&&_191.get("value")!="03"&&_192.get("value")!="05"&&_189&&isNaN(_189.get("value"))){_189.set("value",_18e);}else{if((_18c=="07"||_18c==="03")&&_189&&!isNaN(_189.get("value"))){}else{if(_189){_189.set("value",_18e);}}}}},confirmAccountDelete:function(_193,url,type){var mess=(type==="bill")?"deleteBillPayeeConfirmation":"deleteTransactionConfirmation";m.dialog.show("CONFIRMATION",m.getLocalization(mess,[_193]),"",function(){document.location.href=url;});},populateStaticDataDialog:function(_194,_195,_196,_197,_198){var url="/screen/AjaxScreen/action/GetStaticDataPopup",_199={};_199.option=_194;_199.operation=_195;_199.fields=_196;_199.popupType="ADD_DATA";if(_198){_199.productcode=_198;}m.dialog.populate(_194,m.getServletURL(url),null,_199);},getStaticDataURL:function(_19a,_19b,_19c,_19d,_19e,_19f){var url=["/screen/"],_1a0=_19e||"StaticDataListPopup";url.push(_1a0,"?option=",_19a,"&operation=",_19b,"&fields=",_19d,"&formname=",_19c);if(_19f){url.push(_6,_19f);}return m.getServletURL(url.join(""));},showEntityDialog:function(_1a1,_1a2,_1a3,_1a4,_1a5,_1a6,_1a7,_1a8,_1a9,_1aa,_1ab,_1ac,_1ad,_1ae){var url="/screen/EntityListPopup",_1af={},_1b0="/screen/AjaxScreen/action/GetEntities",_1b1={},grid,_1b2,_1b3,_1b4;if(_1ac){_1b1.closeParent=_1ac;_1af.closeParent=_1ac;}if(_1ae){_1af.wildcard=_1ae;_1b1.wildcard=_1ae;}if(_1a2){_1b1.fields=_1a2;_1af.fields=_1a2;}if(_1a3){_1af.productcode=_1a3;_1b1.productcode=_1a3;}else{_1af.productcode="*";_1b1.productcode=_1a3;}if(_1aa){_1af.subproductcode=_1aa;_1b1.subproductcode=_1aa;}if(_1a5){_1af.company=_1a5;_1b1.company=_1a5;}if(_1a4){_1af.entitycontext=_1a4;_1b1.entitycontext=_1a4;}if(_1a6){_1af.featureid=_1a6;_1b1.featureid=_1a6;}if(_1a7){_1af.option=_1a7;_1b1.option=_1a7;}if(_1ad){_1af.popupPrefix=_1ad;_1b1.popupPrefix=_1ad;}_1af.dimensions=_1a8;_1b2=_1a4+"entities_grid";_1b4=function(){if(_1ad){_1b2=_1ad+_1b2;}grid=dj.byId(_1b2);grid.showMessage(grid.loadingMessage);if(!_1a4||_1a4!=="CUSTOMER"){m.grid.setStoreURL(grid,m.getServletURL(_1b0),_1b1);}m.connect("sy_name","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("USERentities_grid"),["NAME"],["sy_name"]);}});m.connect("sy_abbvname","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("USERentities_grid"),["ABBVNAME"],["sy_abbvname"]);}});m.connect("sy_name","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("USER_WITH_ENTITY_WILDCARDentities_grid"),["NAME"],["sy_name"]);}});m.connect("sy_abbvname","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("USER_WITH_ENTITY_WILDCARDentities_grid"),["ABBVNAME"],["sy_abbvname"]);}});m.connect("sy_abbvname","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("CUSTOMERentities_grid"),["ABBVNAME"],["sy_abbvname"]);}});m.connect("sy_name","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("CUSTOMERentities_grid"),["NAME"],["sy_name"]);}});m.connect("sy_prefixentity","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("prefixCUSTOMERentities_grid"),["ENTITY_ABBV_NAME"],["sy_prefixentity"]);}});m.connect("sy_prefixname","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("prefixCUSTOMERentities_grid"),["NAME"],["sy_prefixname"]);}});};if(_1ab){_1b3=dj.byId("childXhrDialog")||new dj.Dialog({title:_1a9,id:"childXhrDialog",href:m.getServletURL(url),ioMethod:misys.xhrPost,ioArgs:{content:_1af}});m.dialog.connect(_1b3,"onLoad",_1b4);m.dialog.connect(_1b3,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_1b3);_1b3.destroyRecursive();},2000);});var co=d.coords("xhrDialog");_1b3._relativePosition={x:co.x+30,y:co.y+30};_1b3.show();}else{m.dialog.show("URL","",_1a9,null,_1b4,m.getServletURL(url),null,null,_1af);}},showBankTypeDialog:function(type,_1b5,_1b6,_1b7,_1b8){if(dj.byId("credit_available_with_bank_type").get("value")==="Other"){m.showSearchDialog(type,_1b5,"","",_1b6,_1b7,_1b8);}},showDraweeDialog:function(type,_1b9,_1ba,_1bb){if((dj.byId("cr_avl_by_code_2")&&dj.byId("cr_avl_by_code_2").get("checked"))||(dj.byId("cr_avl_by_code_3")&&dj.byId("cr_avl_by_code_3").get("checked"))){m.showSearchDialog(type,_1ba,"","","EL","width:580px;height:auto;",_1bb);}},showUsersDialog:function(type,_1bc,_1bd,_1be,_1bf,_1c0,_1c1,_1c2,_1c3,_1c4,_1c5,_1c6){var url=[],_1c7={},_1c8=[_8],_1c9={},_1ca=_1c4||"GetStaticData",_1cb=_1c0||_9,_1cc,_1cd;if(_1c1.slice(_1c1.length-1)!==";"){_1c1+=";";}_1c8.push(_1ca);_1c9.option=type;_1c9.fields=_1bc;_1c9.companyName=_1bd;_1c9.userId=_1be;_1c9.entity=_1cc;_1c9.user_action=_1c6;d.mixin(_1c9,_1bf);url.push("/screen/",_1cb);_1c7.option=type;_1c7.fields=_1bc;_1c7.companyName=_1bd;_1c7.userId=_1be;_1c7.companyId=_1c3;_1c7.dimensions=_1c1;d.mixin(_1c7,_1bf);_1c7.popupType="LIST_DATA";if(_1c3){_1c7.companyid=_1c3;_1c9.companyid=_1c3;}_1cd=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_1c8.join("")),_1c9);};m.dialog.show("URL","",_1c2,null,_1cd,m.getServletURL(url.join("")),null,null,_1c7);m.connect("lastname","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("userdata_grid"),["LAST_NAME"],["last_name"]);}});m.connect("firstname","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("userdata_grid"),["FIRST_NAME"],["first_name"]);}});m.connect("loginId","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("userdata_grid"),["LOGIN_ID"],["login_id"]);}});},showSearchExtAccountDialog:function(type,_1ce,_1cf,_1d0,_1d1,_1d2,_1d3,_1d4,_1d5,_1d6,_1d7,_1d8){var url=[],_1d9={},_1da=[_8],_1db={},_1dc=_1d6||"GetStaticData",_1dd=_1d0||_9,_1de,_1df;if(_1d2.slice(_1d2.length-1)!==";"){_1d2+=";";}if(dj.byId(_1d4)){_1de=dj.byId(_1d4).get("value");}_1da.push(_1dc);_1db.option=type;_1db.fields=_1ce;_1db.entity=_1de;_1db.user_action=_1d8;d.mixin(_1db,_1cf);url.push("/screen/",_1dd);_1d9.option=type;_1d9.fields=_1ce;_1d9.dimensions=_1d2;d.mixin(_1d9,_1cf);_1d9.popupType="LIST_DATA";if(_1d1){_1d9.productcode=_1d1;_1db.productcode=_1d1;}if(_1d5){_1d9.companyid=_1d5;_1db.companyid=_1d5;}if(!_1d7){_1df=function(){var grid=dj.byId(type+"data_grid");if(grid){grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_1da.join("")),_1db);}};}m.dialog.show("URL","",_1d3,null,_1df,m.getServletURL(url.join("")),null,null,_1d9);},showSearchDialog:function(type,_1e0,_1e1,_1e2,_1e3,_1e4,_1e5,_1e6,_1e7,_1e8,_1e9,_1ea,_1eb){var url=[],_1ec={},_1ed=[_8],_1ee={},_1ef=_1e7||"GetStaticData",_1f0=_1e2||_9,_1f1,_1f2,_1f3,_1f4=dj.byId("product_type")?dj.byId("product_type").get("value"):"",_1f5=dj.byId("customer_bank")?dj.byId("customer_bank").get("value"):"",_1f6=dijit.byId("issuing_bank_abbv_name")?dijit.byId("issuing_bank_abbv_name").get("value"):"";var _1f7=dj.byId("program_id");if(dj.byId(_1ea)){_1f1=dj.byId(_1ea).get("value");if(_1f1===""){return;}}if(_1e4.slice(_1e4.length-1)!==";"){_1e4+=";";}_1ed.push(_1ef);_1ee.option=type;_1ee.fields=_1e0;_1ee.user_action=_1e9;_1ee[_b]=_1f1;d.mixin(_1ee,_1e1);url.push("/screen/",_1f0);_1ec.option=type;_1ec.fields=_1e0;_1ec.dimensions=_1e4;d.mixin(_1ec,_1e1);_1ec.popupType="LIST_DATA";if(_1e3){_1ec.productcode=_1e3;_1ee.productcode=_1e3;}if(_1e6){_1ec.companyid=_1e6;_1ee.companyid=_1e6;}if(_1e1&&_1e1.entity_name===""){_1ee.entity_name=dj.byId("entity")?dj.byId("entity").get("value"):"";_1ec.entity_name=dj.byId("entity")?dj.byId("entity").get("value"):"";}if(_1f5){_1f3=_1f5;}else{if(dj.byId("bank_abbv_name")&&dj.byId("bank_abbv_name").get("value")!==""){_1f3=dj.byId("bank_abbv_name").get("value");}else{if(_1f6){_1f3=_1f6;}}}_1ee.bank_abbv_name=_1f3;if(_1f7){_1ec.fcmPgmId=_1f7.get("value");_1ee.fcmPgmId=_1f7.get("value");}if(_1f4){_1ec.product_type=_1f4;_1ee.product_type=_1f4;}if(_1eb){_1ec.subproductcode=_1eb;_1ee.subproductcode=_1eb;}if(!_1e8){_1f2=function(){var grid=dj.byId(type+"data_grid");if(grid){grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_1ed.join("")),_1ee);m.connect("CurrencyName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("currencydata_grid"),["NAME"],["CurrencyName"]);}});m.connect("ISOCode","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("currencydata_grid"),["ISOCODE"],["ISOCode"]);}});m.connect("abbv_name","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("beneficiarydata_grid"),["ABBVNAME"],["abbv_name"]);}});m.connect("name","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("beneficiarydata_grid"),["NAME"],["name"]);}});m.connect("abbv_name","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("bankdata_grid"),["ABBVNAME"],["abbv_name"]);}});m.connect("name","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("bankdata_grid"),["NAME"],["name"]);}});m.connect("abbv_name","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("phrasedata_grid"),["ABBVNAME"],["abbv_name"]);}});m.connect("descriptionField","onKeyPress",function(evnt){if(evnt.keyCode==dojo.keys.ENTER){m.grid.filter(dj.byId("phrasedata_grid"),["DESCRIPTION"],["descriptionField"]);}});m.connect("description","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("accountdata_grid"),["DESCRIPTION"],["description"]);}});m.connect("account_no","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("accountdata_grid"),["ACCOUNTNO"],["account_no"]);}});}};}m.dialog.show("URL","",_1e5,null,_1f2,m.getServletURL(url.join("")),null,null,_1ec);},showProgramCptyDialog:function(type,_1f8,_1f9,_1fa,_1fb,_1fc,_1fd){var _1fe="";if(dj.byId("gridPC")&&dj.byId("gridPC").store&&dj.byId("gridPC").store._arrayOfAllItems&&dj.byId("gridPC").store._arrayOfAllItems.length){var _1ff=dj.byId("gridPC").store._arrayOfAllItems;for(var i=0;i<_1ff.length;i++){if(_1ff[i]&&_1ff[i]["ABBVNAME"]){_1fe=_1fe+_1ff[i]["ABBVNAME"]+",";}}}var url=[],_200={},_201=_8,_202={},_203="GetStaticData",_204=_1fa||_9,_205,_206;if(_1fb.slice(_1fb.length-1)!==";"){_1fb+=";";}_201+=_203;_202.option=type;_202.fields=_1f8;_202.benAbbvNameList=_1fe;url.push("/screen/",_204);_200.option=type;_200.fields=_1f8;if(_1f9){_200.program_id=_1f9;_202.program_id=_1f9;}_200.dimensions=_1fb;_200.popupType="LIST_DATA";_205=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_201),_202);m.connect("prgm_cpty_popup","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("programCounterpartydata_grid"),["ABBVNAME"],["prgm_cpty_popup"]);}});};if(_1fd){_206=dj.byId("childXhrDialog")||new dj.Dialog({title:_1fc,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_200}});m.dialog.connect(_206,"onLoad",_205);m.dialog.connect(_206,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_206);_206.destroyRecursive();},2000);});var co=d.coords("xhrDialog");_206._relativePosition={x:co.x+30,y:co.y+30};_206.show();}else{m.dialog.show("URL","",_1fc,null,_205,m.getServletURL(url.join("")),null,null,_200);}},showBankBranchCodeDialog:function(type,_207,_208,_209,_20a,_20b,_20c,_20d,_20e){var url=[],_20f={},_210=_8,_211={},_212="GetStaticData",_213=_20b||_9,_214,_215,co;if(_20c.slice(_20c.length-1)!==";"){_20c+=";";}_210+=_212;_211.option=type;_211.fields=_207;_211.parameter=_208;_211.branchindicators=_209;_211.internal=_20a;url.push("/screen/",_213);_20f.option=type;_20f.fields=_207;_20f.parameter=_208;_20f.branchindicators=_209;_20f.internal=_20a;_20f.dimensions=_20c;_20f.popupType="LIST_DATA";_214=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_210),_211);};if(_20e){_215=dj.byId("childXhrDialog")||new dj.Dialog({title:_20d,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_20f}});m.dialog.connect(_215,"onLoad",_214);m.dialog.connect(_215,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_215);_215.destroyRecursive();},2000);});co=d.coords("xhrDialog");_215._relativePosition={x:co.x+30,y:co.y+30};_215.show();}else{m.dialog.show("URL","",_20d,null,_214,m.getServletURL(url.join("")),null,null,_20f);}},showSearchUserAccountsDialog:function(type,_216,_217,_218,drCr,_219,_21a,_21b,_21c,_21d,_21e,_21f,_220,_221,_222,_223,_224){var url=[],_225={},_226=_8,_227={},_228="GetStaticData",_229=_9,_22a,_22b,_22c,_22d;if(dj.byId(_218)){_22b=dj.byId(_218).get("value");if(_22b===""){if(dj.byId("applicant_abbv_name")){var _22e=dj.byId("applicant_abbv_name").get("value");if(_22e===""){m.showTooltip(m.getLocalization("entitynotselected"),document.activeElement,["after"]);return;}}else{if(_224&&_224===true){}else{m.showTooltip(m.getLocalization("entitynotselected"),document.activeElement,["after"]);return;}}}}else{if(misys._config.isEntityRequired){m.showTooltip(m.getLocalization("entitynotselected"),document.activeElement,["after"]);return;}}if(dj.byId(_217)){_22d=dj.byId(_217).get("value");if(_22d===""){return;}}var _22f=[];if(_221){var _230=_221.split(",");for(var i in _230){if(dj.byId(_230[i])){_22f.push(dj.byId(_230[i]).get("value"));}}}if(dj.byId("customer_bank")&&dj.byId("customer_bank").get("value")!==""){_22c=dj.byId("customer_bank").get("value");}else{if(dj.byId("bank_abbv_name")&&dj.byId("bank_abbv_name").get("value")!==""){_22c=dj.byId("bank_abbv_name").get("value");}else{if(dj.byId("issuing_bank")&&dj.byId("issuing_bank").get("value")!==""){_22c=dj.byId("issuing_bank").get("value");}}}if(_21a.slice(_21a.length-1)!==";"){_21a+=";";}_226+=_228;_227.option=type;_227.user_action=_220;_227.fields=_216;_227.entity=_22b;_227.bank_abbv_name=_22c;_227[_b]=_22d;_227["dr-cr"]=drCr;_227["product-types"]=_219;_227.parameter=_21c;_227.companyId=_21d;_227.accountType=_222;_227.isSearchScreen=_224;if(dj.byId("issuing_bank_customer_reference")&&dj.byId("issuing_bank_customer_reference").get("value")!==""&&_219.length>0&&(("FT:TRTPT"===_219)||("FT:TRINT"===_219))){_227["issuing_bank_customer_reference"]=dj.byId("issuing_bank_customer_reference").get("value");}if(_219.length>0&&"FX"===_219&&_21c.indexOf("ownerType:")>-1){_227.ownerType=_21c.substring(10);}if(_22f.length>0){_227.ccy_codes=_22f.join(",");}url.push("/screen/",_229);_225.option=type;_225.dimensions=_21a;_225.bank_abbv_name=_22c;_225.entity=_22b;_225.popupType="LIST_DATA";_225.pageType=_21c;if(_21d){_225.companyid=_21d;}if(!_21f){_22a=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_226),_227);};}m.dialog.show("URL","",_21b,null,_22a,m.getServletURL(url.join("")),null,null,_225);m.connect("accountNo","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("useraccountdata_grid"),["ACCOUNTNOTEMP"],["accountNo"]);}});m.connect("curCode","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("useraccountdata_grid"),["CURCODE"],["curCode"]);}});m.connect("descriptionDialog","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("useraccountdata_grid"),["DESCRIPTION"],["descriptionDialog"]);}});if(_22c!==""){m.connect("bankName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("useraccountdata_grid"),["BANKNAME"],["bankName"]);}});}},showSearchFSCMProgramDialog:function(type,_231,_232,_233,_234,_235,_236){var url=[],_237={},_238=_8,_239={},_23a="GetStaticData",_23b=_9,_23c,_23d,_23e;if(_232.slice(_232.length-1)!==";"){_232+=";";}_238+=_23a;_239.option=type;_239.user_action=_236;_239.fields=_231;_239.entity=_23d;_239[_b]=_23e;d.mixin(_239,_234);url.push("/screen/",_23b);_237.option=type;_237.dimensions=_232;d.mixin(_237,_234);_237.popupType="LIST_DATA";if(!_235){_23c=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_238),_239);};}m.dialog.show("URL","",_233,null,_23c,m.getServletURL(url.join("")),null,null,_237);m.connect("programCode","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("fscmprogramdata_grid"),["PROGRAM_CODE"],["programCode"]);}});m.connect("programName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("fscmprogramdata_grid"),["PROGRAM_NAME"],["programName"]);}});m.connect("programId","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("fscmprogramdata_grid"),["PROGRAM_ID"],["programId"]);}});},showFSCMProgramFinanceRequestDialog:function(type,_23f,_240,_241,_242,_243,_244){var url=[],_245={},_246=_8,_247={},_248="GetStaticData",_249=_241||_9,_24a,_24b;if(_242.slice(_242.length-1)!==";"){_242+=";";}_246+=_248;_247.option=type;_247.fields=_23f;d.mixin(_247,_240);url.push("/screen/",_249);_245.option=type;_245.fields=_23f;d.mixin(_245,_240);_245.dimensions=_242;_245.popupType="LIST_DATA";_24a=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_246),_247);m.connect("CurrencyName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("currencydata_grid"),["NAME"],["CurrencyName"]);}});};if(_244){_24b=dj.byId("childXhrDialog")||new dj.Dialog({title:_243,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_245}});m.dialog.connect(_24b,"onLoad",_24a);m.dialog.connect(_24b,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_24b);_24b.destroyRecursive();},2000);});var co=d.coords("xhrDialog");_24b._relativePosition={x:co.x+30,y:co.y+30};_24b.show();}else{m.dialog.show("URL","",_243,null,_24a,m.getServletURL(url.join("")),null,null,_245);}},showCountryCodeDialog:function(type,_24c,_24d,_24e,_24f,_250,_251,_252,_253){var url=[],_254={},_255=_8,_256={},_257="GetStaticData",_258=_24e||_9,_259,_25a;if(_251.slice(_251.length-1)!==";"){_251+=";";}_255+=_257;_256.option=type;_256.fields=_24c;_256.parameter=_24d;url.push("/screen/",_258);_254.option=type;_254.fields=_24c;_254.parameter=_24d;_254.dimensions=_251;_254.popupType="LIST_DATA";if(_24f){_254.productcode=_24f;_256.productcode=_24f;}if(_250){_254.subproductcode=_250;_256.subproductcode=_250;}_259=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_255),_256);m.connect("country_name_popup","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("codevaluedata_grid"),["DESCRIPTION"],["country_name_popup"]);}});};if(_253){_25a=dj.byId("childXhrDialog")||new dj.Dialog({title:_252,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_254}});m.dialog.connect(_25a,"onLoad",_259);m.dialog.connect(_25a,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_25a);_25a.destroyRecursive();},200);});var co=d.coords("xhrDialog");_25a._relativePosition={x:co.x+30,y:co.y+30};_25a.show();}else{m.dialog.show("URL","",_252,null,_259,m.getServletURL(url.join("")),null,null,_254);}},showCurrencyCodeDialog:function(type,_25b,_25c,_25d,_25e,_25f,_260,_261,_262){var url=[],_263={},_264=_8,_265={},_266="GetStaticData",_267=_25d||_9,_268,_269;if(_260.slice(_260.length-1)!==";"){_260+=";";}_264+=_266;_265.option=type;_265.fields=_25b;_265.parameter=_25c;url.push("/screen/",_267);_263.option=type;_263.fields=_25b;_263.parameter=_25c;_263.dimensions=_260;_263.popupType="LIST_DATA";if(_25e){_263.productcode=_25e;_264.push(_6,_25e);}if(_25f){_263.subproductcode=_25f;_264.push("&subproductcode=",_25f);}_268=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_264),_265);m.connect("CurrencyName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("currencydata_grid"),["NAME"],["CurrencyName"]);}});};if(_262){_269=dj.byId("childXhrDialog")||new dj.Dialog({title:_261,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_263}});m.dialog.connect(_269,"onLoad",_268);m.dialog.connect(_269,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_269);_269.destroyRecursive();},200);});var co=d.coords("xhrDialog");_269._relativePosition={x:co.x+30,y:co.y+30};_269.show();}else{m.dialog.show("URL","",_261,null,_268,m.getServletURL(url.join("")),null,null,_263);}},isGridEmpty:function(){var _26a=true;if(dijit.byId("amendments").store){for(var i=0;i<dijit.byId("amendments").store._arrayOfAllItems.length;i++){if(dijit.byId("amendments").store._arrayOfAllItems[i]!=null){_26a=false;}}}return _26a;},toggleADR:function(){if(dj.byId("adr_1").get("value")||dj.byId("adr_2").get("value")){var adr3=dj.byId("adr_3");if(!m.isGridEmpty()){adr3.set("disabled",true);}dj.byId("narrative_description_goods_popup").set("value","");if(dj.byId("adr_1").get("value")){dj.byId("narrative_description_goods_popup").set("value","/ADD/");}else{if(dj.byId("adr_2").get("value")){dj.byId("narrative_description_goods_popup").set("value","/DELETE/");}}}if(dj.byId("adr_3").get("value")){dj.byId("narrative_description_goods_popup").set("value","");if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems[0].verb[0]!="REPALL"){dj.byId("adr_3").set("disabled",true);dj.byId("narrative_description_goods_popup").set("disabled",true);dj.byId("adr_3").set("value",false);}dj.byId("narrative_description_goods_popup").set("value","/REPALL/");}if(dj.byId("adr_1").get("value")==="ADD"||dj.byId("adr_2").get("value")==="DELETE"||dj.byId("adr_3").get("value")==="REPALL"){dj.byId("narrative_description_goods_popup").set("disabled",false);}if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems[0].verb[0]=="REPALL"){dj.byId("adr_1").set("disabled",true);dj.byId("adr_2").set("disabled",true);dj.byId("adr_3").set("disabled",false);dj.byId("adr_3").set("value","REPALL");dj.byId("narrative_description_goods_popup").set("disabled",true);}},consolidateGridData:function(){var _26b;var verb,text;if(m.isGridEmpty()){m.dialog.show("CONFIRMATION",m.getLocalization("saveEmptyDataConfirmation"),"",_26c);_26b="<table><tr><span style='height: 1px;'></span></tr>";}else{if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems){_26b="<table><tr><b><span style='color: blue;' class='indented-header;'>Current Amendment</span></b></tr>";for(var u=0;u<dijit.byId("amendments").store._arrayOfAllItems.length;u++){if(dijit.byId("amendments").store._arrayOfAllItems[u]!=null){_26b+="<tr><td style='white-space: pre-wrap;'>";var _26d=dijit.byId("amendments").store._arrayOfAllItems[u].verb[0];var _26e="";if(_26d==="ADD"){_26e=misys.getLocalization("add");}else{if(_26d==="DELETE"){_26e=misys.getLocalization("delete");}else{if(_26d==="REPALL"){_26e=misys.getLocalization("repall");}}}verb="<b>/"+_26e+"/</b>";text=dijit.byId("amendments").store._arrayOfAllItems[u].content[0];_26b+=verb+" "+text;_26b+="</td></tr>";}}}}_26b+="</table>";var _26c=function(){var _26f;if(dijit.byId("amendments").store&&!m.isGridEmpty()){_26f=dijit.byId("amendments").store._arrayOfAllItems;if(m._config.narrativeId==="narrative_amend_goods"){m._config.narrativeDescGoodsDataStore=_26f;document.getElementById("narrativeDescriptionGoods").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_docs"){m._config.narrativeDocsReqDataStore=_26f;document.getElementById("narrativeDocumentsRequired").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_instructions"){m._config.narrativeAddInstrDataStore=_26f;document.getElementById("narrativeAdditionalInstructions").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_sp_beneficiary"){m._config.narrativeSpBeneDataStore=_26f;document.getElementById("narrativeSpecialBeneficiary").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_sp_recvbank"){m._config.narrativeSpRecvbankDataStore=_26f;document.getElementById("narrativeSpecialReceivingBank").innerHTML=_26b;}}else{if(m.isGridEmpty()){if(m._config.narrativeId==="narrative_amend_goods"){m._config.narrativeDescGoodsDataStore.length=0;document.getElementById("narrativeDescriptionGoods").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_docs"){m._config.narrativeDocsReqDataStore.length=0;document.getElementById("narrativeDocumentsRequired").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_instructions"){m._config.narrativeAddInstrDataStore.length=0;document.getElementById("narrativeAdditionalInstructions").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_sp_beneficiary"){m._config.narrativeSpBeneDataStore.length=0;document.getElementById("narrativeSpecialBeneficiary").innerHTML=_26b;}if(m._config.narrativeId==="narrative_amend_sp_recvbank"){m._config.narrativeSpRecvbankDataStore.length=0;document.getElementById("narrativeSpecialReceivingBank").innerHTML=_26b;}}}if(dj.byId("narrative_description_goods_popup").state===""&&!dj.byId("narrative_description_goods_popup").disabled){m.toggleNarrativeDivStatus(true);}m.dialog.hide();m.initDivMouseOver();};if(!m.isGridEmpty()){if(m.hasTextBoxLogicalValue()){m.dialog.show("CONFIRMATION",m.getLocalization("unsavedDataExistInTextBox"),"",_26c);}else{m.dialog.show("CONFIRMATION",m.getLocalization("saveDataConfirmation"),"",_26c);}}else{m.dialog.show("CONFIRMATION",m.getLocalization("saveEmptyDataConfirmation"),"",_26c);}},closeAmendmentPopup:function(){var _270=function(){m._config.narrativeId="";var _271=[m._config.narrativeDescGoodsDataStore,m._config.narrativeDocsReqDataStore,m._config.narrativeAddInstrDataStore,m._config.narrativeSpBeneDataStore,m._config.narrativeSpRecvbankDataStore];var i=0,_272=0,_273=0;for(var itr=0;itr<5;itr++){if(_271[itr]){d.forEach(_271[itr],function(){if(_271[itr][i]&&_271[itr][i]!==null){_271[itr][i].content[0].replace(/&#xa;/g,"\n");_273+=_271[itr][i].content[0].length;_272+=_271[itr][i].text_size[0];}i++;});}}if(_272<=(misys._config.is798=="Y"?792:800)){m.toggleNarrativeDivStatus(true);}else{m.initDivMouseOver();}m.dialog.hide();};if(!m.hasTextBoxLogicalValue()){m.dialog.show("CONFIRMATION",m.getLocalization("cancelTransactionConfirmation"),"",_270);}else{if(dj.byId("narrative_description_goods_popup").get("value")!="/ADD/"&&dj.byId("narrative_description_goods_popup").get("value")!="/DELETE/"&&dj.byId("narrative_description_goods_popup").get("value")!="/REPALL/"){m.dialog.show("CONFIRMATION",m.getLocalization("unsavedDataExistInTextBox"),"",_270);}}},viewNarrativeInPopUp:function(type,_274,_275,_276,_277,_278,_279){var url=[],_27a={},_27b=[_8],_27c="GetStaticData",_27d=_9,_27e;if(_277.slice(_277.length-1)!==";"){_277+=";";}var _27f;m._config.amendmentNumber=_279;m._config.narrativeId=_275;if(_275==="narrative_amend_goods"){if(dj.byId("org_narrative_description_goods")&&dj.byId("org_narrative_description_goods").get("value")!=""){_27f=dj.byId("org_narrative_description_goods").get("value");}else{_27f=dj.byId("original_narrative_description_goods")?dj.byId("original_narrative_description_goods").get("value"):"";}if(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")=="03"&&misys._config.narrativeDescGoodsDataStore&&misys._config.narrativeDescGoodsDataStore.length!=0){_27f=_27f.concat(m.customXMLForCurrentAmend(misys._config.narrativeDescGoodsDataStore));}}else{if(_275==="narrative_amend_docs"){if(dj.byId("org_narrative_documents_required")&&dj.byId("org_narrative_documents_required").get("value")!=""){_27f=dj.byId("org_narrative_documents_required").get("value");}else{_27f=dj.byId("original_narrative_documents_required")?dj.byId("original_narrative_documents_required").get("value"):"";}if(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")=="03"&&misys._config.narrativeDocsReqDataStore&&misys._config.narrativeDocsReqDataStore.length!=0){_27f=_27f.concat(m.customXMLForCurrentAmend(misys._config.narrativeDocsReqDataStore));}}else{if(_275==="narrative_amend_instructions"){if(dj.byId("org_narrative_additional_instructions")&&dj.byId("org_narrative_additional_instructions").get("value")!=""){_27f=dj.byId("org_narrative_additional_instructions").get("value");}else{_27f=dj.byId("original_narrative_additional_instructions")?dj.byId("original_narrative_additional_instructions").get("value"):"";}if(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")=="03"&&misys._config.narrativeAddInstrDataStore&&misys._config.narrativeAddInstrDataStore.length!=0){_27f=_27f.concat(m.customXMLForCurrentAmend(misys._config.narrativeAddInstrDataStore));}}else{if(_275==="narrative_amend_sp_beneficiary"){if(dj.byId("org_narrative_special_beneficiary")&&dj.byId("org_narrative_special_beneficiary").get("value")!=""){_27f=dj.byId("org_narrative_special_beneficiary").get("value");}else{_27f=dj.byId("original_narrative_special_beneficiary")?dj.byId("original_narrative_special_beneficiary").get("value"):"";}if(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")=="03"&&misys._config.narrativeSpBeneDataStore&&misys._config.narrativeSpBeneDataStore.length!=0){_27f=_27f.concat(m.customXMLForCurrentAmend(misys._config.narrativeSpBeneDataStore));}}else{if(_275==="narrative_amend_sp_recvbank"){if(dj.byId("org_narrative_special_recvbank")&&dj.byId("org_narrative_special_recvbank").get("value")!=""){_27f=dj.byId("org_narrative_special_recvbank").get("value");}else{_27f=dj.byId("original_narrative_special_recvbank")?dj.byId("original_narrative_special_recvbank").get("value"):"";}if(dj.byId("tnx_type_code")&&dj.byId("tnx_type_code").get("value")=="03"&&misys._config.narrativeSpRecvbankDataStore&&misys._config.narrativeSpRecvbankDataStore.length!=0){_27f=_27f.concat(m.customXMLForCurrentAmend(misys._config.narrativeSpRecvbankDataStore));}}}}}}_27b.push(_27c);_27a.option=type;_27a.dimensions=_277;_27a.messageValue=_274;_27a.node=type;_27a.rundataXML=_27f;url.push("/screen/",_27d);m.dialog.show("URL","",_278,null,_27e,m.getServletURL(url.join("")),null,null,_27a);},customXMLForCurrentAmend:function(_280){var i=0;var _281="<amendments>";_281=_281.concat("<amendment>");_281=_281.concat("<sequence>");_281=_281.concat(m._config.amendmentNumber);_281=_281.concat("</sequence>");_281=_281.concat("<data>");for(i=0;i<_280.length;i++){if(_280[i]!=null){_281=_281.concat("<datum>");_281=_281.concat("<id>");_281=_281.concat(i);_281=_281.concat("</id>");_281=_281.concat("<verb>");_281=_281.concat(_280[i].verb[0]);_281=_281.concat("</verb>");_281=_281.concat("<text>");_281=_281.concat(dojox.html.entities.encode(_280[i].content[0],dojox.html.entities.html));_281=_281.concat("</text>");_281=_281.concat("</datum>");}}_281=_281.concat("</data>");_281=_281.concat("</amendment>");_281=_281.concat("</amendments>");return _281;},initDivMouseOver:function(){var _282=document.getElementById("tabNarrativeDescriptionGoods");var _283=dj.byId("adv_send_mode")?dj.byId("adv_send_mode").get("value"):"";_282.onmouseover=function(){if((dj.byId("narrative_description_goods_popup")&&dj.byId("narrative_description_goods_popup").state=="Error")||(document.getElementById("tabNarrativeDescriptionGoods").status==false)&&(_283==="01")&&m._config.isZCharValid&&m._config.isSingleNarrativeValid[0]){_15?dijit.showTooltip(m.getLocalization("invalidFieldSizeError",[_10,_12]),_282,["after"]):dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_282,["after"]);}else{if(m._config.isNarrativeZCharValidArray&&!m._config.isNarrativeZCharValidArray[0]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),_282,["after"]);}else{if(m._config.isSingleNarrativeValid&&!m._config.isSingleNarrativeValid[0]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_282,["after"]);}}}};_282.onmouseout=function(){dijit.hideTooltip(_282);};var _284=document.getElementById("tabNarrativeDocumentsRequired");_284.onmouseover=function(){if((dj.byId("narrative_description_goods_popup")&&dj.byId("narrative_description_goods_popup").state=="Error")||(document.getElementById("tabNarrativeDescriptionGoods").status==false)&&_284.status==false&&(_283==="01")&&m._config.isZCharValid&&m._config.isSingleNarrativeValid[1]){_15?dijit.showTooltip(m.getLocalization("invalidFieldSizeError",[_10,_12]),_284,["after"]):dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_284,["after"]);}else{if(m._config.isNarrativeZCharValidArray&&!m._config.isNarrativeZCharValidArray[1]&&document.getElementById("tabNarrativeDocumentsRequired").status==false){dijit.showTooltip(m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),_284,["after"]);}else{if(m._config.isSingleNarrativeValid&&!m._config.isSingleNarrativeValid[1]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_282,["after"]);}}}};_284.onmouseout=function(){dijit.hideTooltip(_284);};var _285=document.getElementById("tabNarrativeAdditionalInstructions");_285.onmouseover=function(){if((dj.byId("narrative_description_goods_popup")&&dj.byId("narrative_description_goods_popup").state=="Error")||(document.getElementById("tabNarrativeDescriptionGoods").status==false)&&_285.status==false&&(_283==="01")&&m._config.isZCharValid&&m._config.isSingleNarrativeValid[2]){_15?dijit.showTooltip(m.getLocalization("invalidFieldSizeError",[_10,_12]),_285,["after"]):dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_285,["after"]);}else{if(m._config.isNarrativeZCharValidArray&&!m._config.isNarrativeZCharValidArray[2]&&document.getElementById("tabNarrativeAdditionalInstructions").status==false){dijit.showTooltip(m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),_285,["after"]);}else{if(m._config.isSingleNarrativeValid&&!m._config.isSingleNarrativeValid[2]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_282,["after"]);}}}};_285.onmouseout=function(){dijit.hideTooltip(_285);};var _286=document.getElementById("tabNarrativeSpecialBeneficiary");_286.onmouseover=function(){if((dj.byId("narrative_description_goods_popup")&&dj.byId("narrative_description_goods_popup").state=="Error")||(document.getElementById("tabNarrativeDescriptionGoods").status==false)&&_286==false&&(_283==="01")&&m._config.isZCharValid&&m._config.isSingleNarrativeValid[3]){_15?dijit.showTooltip(m.getLocalization("invalidFieldSizeError",[_10,_12]),_286,["after"]):dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_286,["after"]);}else{if(m._config.isNarrativeZCharValidArray&&!m._config.isNarrativeZCharValidArray[3]&&document.getElementById("tabNarrativeSpecialBeneficiary").status==false){dijit.showTooltip(m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),_286,["after"]);}else{if(m._config.isSingleNarrativeValid&&!m._config.isSingleNarrativeValid[3]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,enteredtSingle]),_282,["after"]);}}}};_286.onmouseout=function(){dijit.hideTooltip(_286);};if(document.getElementById("tabNarrativeSpecialReceivingBank")){var _287=document.getElementById("tabNarrativeSpecialReceivingBank");_287.onmouseover=function(){if((dj.byId("narrative_description_goods_popup")&&dj.byId("narrative_description_goods_popup").state=="Error")||(document.getElementById("tabNarrativeDescriptionGoods").status==false)&&_287.status==false&&(_283==="01")&&m._config.isZCharValid&&m._config.isSingleNarrativeValid[4]){_15?dijit.showTooltip(m.getLocalization("invalidFieldSizeError",[_10,_12]),_287,["after"]):dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_287,["after"]);}else{if(m._config.isNarrativeZCharValidArray&&!m._config.isNarrativeZCharValidArray[4]&&document.getElementById("tabNarrativeSpecialReceivingBank").status==false){dijit.showTooltip(m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),_287,["after"]);}else{if(m._config.isSingleNarrativeValid&&!m._config.isSingleNarrativeValid[4]&&document.getElementById("tabNarrativeDescriptionGoods").status==false){dijit.showTooltip(m.getLocalization("invalidSingleFieldLength",[_11,_13]),_282,["after"]);}}}};_286.onmouseout=function(){dijit.hideTooltip(_286);};}},editNarrativeInPopUp:function(type,_288,_289,_28a,_28b,_28c,_28d){var url=[],_28e={},_28f=[_8],_290="GetStaticData",_291=_9,_292;if(_28b.slice(_28b.length-1)!==";"){_28b+=";";}var _293,_294=dj.byId("is798")?dj.byId("is798").get("value"):(dj.byId("issuing_bank_abbv_name")?(m._config.customerBanksMT798Channel[dj.byId("issuing_bank_abbv_name").get("value")]==true?"Y":"N"):(dj.byId("advising_bank_abbv_name")?(m._config.customerBanksMT798Channel[dj.byId("advising_bank_abbv_name").get("value")]==true?"Y":"N"):"N"));m._config.is798=_294;m._config.amendmentNumber=_28d;m._config.narrativeId=_289;if(_289==="narrative_amend_goods"){_293=dj.byId("org_narrative_description_goods")?dj.byId("org_narrative_description_goods").get("value"):"";}else{if(_289==="narrative_amend_docs"){_293=dj.byId("org_narrative_documents_required")?dj.byId("org_narrative_documents_required").get("value"):"";}else{if(_289==="narrative_amend_instructions"){_293=dj.byId("org_narrative_additional_instructions")?dj.byId("org_narrative_additional_instructions").get("value"):"";}else{if(_289==="narrative_amend_sp_beneficiary"){_293=dj.byId("org_narrative_special_beneficiary")?dj.byId("org_narrative_special_beneficiary").get("value"):"";}else{if(_289==="narrative_amend_sp_recvbank"){_293=dj.byId("org_narrative_special_recvbank")?dj.byId("org_narrative_special_recvbank").get("value"):"";}}}}}_28f.push(_290);_28e.option=type;_28e.dimensions=_28b;_28e.messageValue=_288;_28e.node=type;_28e.rundataXML=_293;_28e.is798=_294;url.push("/screen/",_291);var _295="";_292=function(){if(m._config.codeword_enabled==true){dj.byId("narrative_description_goods_popup").set("disabled",true);var _296=function(){m.toggleADR();};var _297=function(){dj.byId(_295).set("value",true);};m.connect("adr_1","onClick",function(){if(!m.hasTextBoxLogicalValue()){m.toggleADR();}else{m.dialog.show("Warning",m.getLocalization("textboxDataLossOnToggle"),"","","","",_296,_297);}});m.connect("adr_1","onChange",function(){_295="adr_1";});m.connect("adr_2","onClick",function(){if(!m.hasTextBoxLogicalValue()){m.toggleADR();}else{m.dialog.show("Warning",m.getLocalization("textboxDataLossOnToggle"),"","","","",_296,_297);}});m.connect("adr_2","onChange",function(){_295="adr_2";});m.connect("adr_3","onClick",function(){if(!m.hasTextBoxLogicalValue()){m.toggleADR();}else{m.dialog.show("Warning",m.getLocalization("textboxDataLossOnToggle"),"","","","",_296,_297);}});m.connect("adr_3","onChange",function(){_295="adr_3";});m.connect("narrative_description_goods_popup","onKeyPress",function(evnt){var _298;_298=dj.byId("adr_1").get("value")=="ADD"?5:8;if((evnt.keyCode!==dojo.keys.LEFT_ARROW&&(evnt.keyCode!==dojo.keys.RIGHT_ARROW))&&((this.domNode.selectionStart<_298)||((this.domNode.selectionEnd==_298)&&(evnt.keyCode===dojo.keys.BACKSPACE)))){evnt.preventDefault();}});}if(misys._config.swiftExtendedNarrativeEnabled){m.setValidation("narrative_description_goods_popup",m.validatePopupDataLength);}else{m.setValidation("narrative_description_goods_popup",m.validatePopupData);}m.connect("addAmendmentButton","onClick",function(){if(m.hasTextBoxLogicalValue()){m.onSaveSizeAndSwiftValidation();}});};m.dialog.show("URL","",_28c,null,_292,m.getServletURL(url.join("")),null,null,_28e);},hasTextBoxLogicalValue:function(){if(dj.byId("narrative_description_goods_popup").disabled||dj.byId("narrative_description_goods_popup").get("value")==="/ADD/"||dj.byId("narrative_description_goods_popup").get("value")==="/DELETE/"||dj.byId("narrative_description_goods_popup").get("value")==="/REPALL/"){return false;}return true;},onSaveSizeAndSwiftValidation:function(){var _299=dj.byId("narrative_description_goods_popup").get("value");var _29a="";if(dj.byId("adv_send_mode")){_29a=dj.byId("adv_send_mode").get("value");}var _29b=dj.byId("swiftregexzcharValue").get("value");if(_29a!=="01"||_299===null||_299===""){m._config.isZCharValid=true;m.toggleNarrativeDivStatus(true);}else{var _29c=_299;var _29d=new RegExp(_29b);m._config.isZCharValid=_29d.test(_29c);}dj.byId("narrative_description_goods_popup").set("value",dojox.html.entities.encode(dj.byId("narrative_description_goods_popup").get("value"),dojox.html.entities.html));var _29e=function(){dj.byId("amendments").createDataGrid();if(m._config.codeword_enabled==true){m.toggleADR();}else{if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems[0].verb[0]=="REPALL"){dj.byId("narrative_description_goods_popup").set("disabled",true);}}};var _29f=function(){var _2a0=dj.byId("narrative_description_goods_popup").get("value");if(m.validatePopupData()){dj.byId("amendments").createDataGrid();}if(m._config.codeword_enabled==true){m.toggleADR();m._config.swiftExtendedNarrativeEnabled?"":dj.byId("narrative_description_goods_popup").set("value",_2a0);}else{if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems[0].verb[0]=="REPALL"){dj.byId("narrative_description_goods_popup").set("disabled",true);}}};if(!m._config.isZCharValid){if(m.validatePopupData()){var _2a1;if(document.getElementById("_userType")){_2a1=document.getElementById("_userType").getAttribute("value");}if(_2a1=="03"||_2a1=="06"){m.dialog.show("CONFIRMATION",m.getLocalization("invalidSWIFTTransactionValidValuesWithExt"),"","","","",_29e);}else{m.dialog.show("Warning",m.getLocalization("invalidSWIFTTransactionValidValuesWithExtBank"),"","","","",_29e);}m.toggleNarrativeDivStatus(true);}else{m.dialog.show("ERROR",m.getLocalization("invalidSWIFTTPopupValueLength"),"","","","",_29f);}}else{if(m._config.isZCharValid){if(dj.byId("narrative_description_goods_popup").state==="Error"){m.toggleNarrativeDivStatus(false);if(m._config.swiftExtendedNarrativeEnabled){m.dialog.show("Warning",m.getLocalization("invalidSWIFTTPopupValueSize"),"","","","",_29e);}else{m.dialog.show("ERROR",m.getLocalization("invalidSWIFTTPopupValueLength"),"","","","",_29f);}}else{dj.byId("amendments").createDataGrid();if(m._config.codeword_enabled==true){m.toggleADR();}else{if(!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems[0].verb[0]=="REPALL"){dj.byId("narrative_description_goods_popup").set("disabled",true);}}m.toggleNarrativeDivStatus(true);}}}},toggleNarrativeDivStatus:function(_2a2,_2a3){var _2a4=["tabNarrativeDescriptionGoods","tabNarrativeDocumentsRequired","tabNarrativeAdditionalInstructions","tabNarrativeSpecialBeneficiary","tabNarrativeSpecialReceivingBank"];var _2a5=_2a2?"solid 1px #B8B8B8":"solid 1px #d46464";if(_2a3==""||_2a3==undefined){for(var itr=0;itr<_2a4.length;itr++){if(document.getElementById(_2a4[itr])!=null){document.getElementById(_2a4[itr]).status=_2a2;document.getElementById(_2a4[itr]).style.border=_2a5;}}}else{document.getElementById(_2a3).status=_2a2;document.getElementById(_2a3).style.border=_2a5;}if(document.getElementById("tabNarrativeDescriptionGoods")!=null||document.getElementById("tabNarrativeDocumentsRequired")!=null||document.getElementById("tabNarrativeAdditionalInstructions")!=null||document.getElementById("tabNarrativeSpecialBeneficiary")!=null||document.getElementById("tabNarrativeSpecialReceivingBank")!=null){m.initDivMouseOver();}},validatePopupDataLength:function(){var _2a6=0,_2a7=0,_2a8=0,i=0,_2a9=0,_2aa=0;var _2ab=[m._config.narrativeDescGoodsDataStore,m._config.narrativeDocsReqDataStore,m._config.narrativeAddInstrDataStore,m._config.narrativeSpBeneDataStore,m._config.narrativeSpRecvbankDataStore];var _2ac=["narrative_amend_goods","narrative_amend_docs","narrative_amend_instructions","narrative_amend_sp_beneficiary","narrative_amend_sp_recvbank"];var _2ad=_2ac.indexOf(m._config.narrativeId);var _2ae=dj.byId("adv_send_mode")?dj.byId("adv_send_mode").get("value"):"";if(_2ae!=="01"){return true;}for(var itr=0;itr<5;itr++){if(_2ab[itr]&&(itr!=_2ad&&_2ad!=-1)){i=0;d.forEach(_2ab[itr],function(){if(_2ab[itr][i]&&_2ab[itr][i]!==null){_2ab[itr][i].content[0].replace(/&#xa;/g,"\n");_2a7+=_2ab[itr][i].content[0].length;_2a9+=_2ab[itr][i].text_size[0];}i++;});}}if(dijit.byId("amendments")&&!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems){for(var v=0;v<dijit.byId("amendments").store._arrayOfAllItems.length;v++){if(dijit.byId("amendments").store._arrayOfAllItems[v]!==null){_2a8+=dijit.byId("amendments").store._arrayOfAllItems[v].content?dijit.byId("amendments").store._arrayOfAllItems[v].content[0].length:0;_2a8+=dijit.byId("amendments").store._arrayOfAllItems[v].verb?("/"+dijit.byId("amendments").store._arrayOfAllItems[v].verb[0]+"/").length:0;_2aa+=dijit.byId("amendments").store._arrayOfAllItems[v].text_size[0];}}}if(dj.byId("narrative_description_goods_popup")){_2a6=(!m.hasTextBoxLogicalValue())?0:dj.byId("narrative_description_goods_popup").get("value").length;_11=(misys._config.is798=="Y"?792:800)*65;_13=_2a8+_2a6;_15=m.validateExtendedNarrativeSwift2018(dj.byId("narrative_description_goods_popup").get("value"),_2aa,misys._config.is798,true);}_14=m.validateExtendedNarrativeSwift2018(dj.byId("narrative_description_goods_popup").get("value"),(_2aa+_2a9),misys._config.is798,false);_10=(misys._config.is798=="Y"?992:1000)*65;_12=(_2a8+_2a7+_2a6);if(!_15){this.invalidMessage=m.getLocalization("invalidSingleFieldLength",[_11,_13]);}else{this.invalidMessage=m.getLocalization("invalidFieldSizeError",[_10,_12]);}return _15&&_14;},validatePopupData:function(){var _2af=true;if(m._config.swiftExtendedNarrativeEnabled){return _2af;}var _2b0=0,_2b1=0,_2b2=0;if(dijit.byId("amendments")&&!m.isGridEmpty()&&dijit.byId("amendments").store._arrayOfAllItems){for(var w=0;w<dijit.byId("amendments").store._arrayOfAllItems.length;w++){if(dijit.byId("amendments").store._arrayOfAllItems[w]!==null){_2b1+=dijit.byId("amendments").store._arrayOfAllItems[w].content?dijit.byId("amendments").store._arrayOfAllItems[w].content[0].length:0;_2b1+=dijit.byId("amendments").store._arrayOfAllItems[w].verb?("/"+dijit.byId("amendments").store._arrayOfAllItems[w].verb[0]+"/").length:0;_2b2+=dijit.byId("amendments").store._arrayOfAllItems[w].text_size[0];}}}if(dj.byId("narrative_description_goods_popup")){_2b0=(!m.hasTextBoxLogicalValue())?0:dj.byId("narrative_description_goods_popup").get("value").length;}_10=100*65;_12=_2b0+_2b1;this.invalidMessage=m.getLocalization("invalidFieldSizeError",[_10,_12]);return m.validateExtendedNarrativeSwift2018(dj.byId("narrative_description_goods_popup").get("value"),_2b2,false);},showTruncatedGridData:function(_2b3,_2b4){var _2b5=null;if(_2b3!==""&&_2b3!==null){_2b5="<p style=\"white-space: pre-wrap;\">";var _2b6=_2b3.split(/\n/);var _2b7=_2b6.length>_2b4?_2b4:_2b6.length;for(var i=0;i<_2b7;i++){_2b5=_2b5+_2b6[i]+"\n";}if(_2b6.length>_2b4){var tail=".....";_2b5=_2b5.trim()+tail;}_2b5+="</p>";}return _2b5;},showExtendedNarrativeView:function(type,_2b8,_2b9,_2ba,_2bb){if(dj.byId(_2bb)){var msg=dojox.html.entities.encode(dj.byId(_2bb).get("value"),dojox.html.entities.html);msg=_16(msg);msg="<div style='width: auto; height: 400px;  overflow:auto'>"+msg+"</div>";}else{if(_2ba!="gridPreviewOverlay"){msg=_2ba;msg=_1a(msg);msg="<div style='height: 400px;width: auto; overflow:auto'>"+msg+"</div>";}else{if(_2ba=="gridPreviewOverlay"){msg="";_2b9="Current Amendment";if(dijit.byId("amendments").store){for(var i=0;i<dijit.byId("amendments").store._arrayOfAllItems.length;i++){if(dijit.byId("amendments").store._arrayOfAllItems[i]){var _2bc=dijit.byId("amendments").store._arrayOfAllItems[i].verb[0];var _2bd="";if(_2bc==="ADD"){_2bd=misys.getLocalization("add");}else{if(_2bc==="DELETE"){_2bd=misys.getLocalization("delete");}else{if(_2bc==="REPALL"){_2bd=misys.getLocalization("repall");}}}msg+="<b>"+"/"+_2bd+"/"+"</b>";msg+=_1a(dijit.byId("amendments").store._arrayOfAllItems[i].content[0]);}msg+="<div style='height: 8px; background-color: #FFFFFF'><div style='height: 1px; background-color: ##808080'></div></div>";}}else{msg=m.getLocalization("emptyAmendmentGrid");}msg="<div style='width: auto; height: 400px; overflow:auto'>"+msg+"</div>";}}}m.dialog.show("EXTENDED-VIEW",msg,_2b9);},showLocalizationDialog:function(id,_2be){dj.byId("xsl_name").value=id;dj.byId("new_title").set("value",_2be);dj.byId("localizationDialog").show();},undoLocalization:function(){dj.byId("new_title").set("value","");m.submitLocalization();},submitLocalization:function(){var _2bf=dj.byId("xsl_name").value;var _2c0=dj.byId("new_title").value;m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/UpdateLocalizationAction"),sync:true,handleAs:"json",content:{XSLNAME:_2bf,NEWNAME:_2c0},load:function(_2c1,args){},error:function(_2c2,args){console.error("[misys.grid._base] Country Validation error",_2c2);}});dj.byId("localizationDialog").hide();location.reload();},showSearchTransactionsDialog:function(_2c3,_2c4,_2c5){var url=[m.getServletURL("/screen/AjaxScreen/action/ListOfTransactionsAction")];url.push("?companyid=",_2c3,_6,_2c4,"&referenceid=",_2c5);d.style("linkedTransaction_dialog","width","650px");d.create("div",{id:"transaction_div"},"linkedTransaction_div");if(!dj.byId("transaction_Grid")){_2c(url.join(""),"transaction_div");}dj.byId("linkedTransaction_dialog").show();d.style("linkedTransaction_dialog","height","225px");},deleteTransactions:function(){dj.byId("imp_bill_ref_id").set("value","");dj.byId("transaction_Grid").selection.clear();d.byId("TransactionLink").innerHTML=m.getLocalization("NoTransactionLink");},createRteEditor:function(_2c6,_2c7){var _2c8=dj.byId(_2c7);if(!_2c8){var _2c9=d.byId(_2c7);var _2ca=d.byId("rteContent").innerHTML;_2c8=new dj.Editor({id:_2c7,name:_2c7,rows:"13",cols:"40",maxSize:"300",plugins:["undo","redo","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","|","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","||",{name:"dijit._editor.plugins.FontChoice",command:"fontName"},{name:"misys.editor.plugins.ProductFieldChoice",command:"misysEditorPluginsProductFieldChoice",product:_2c6}]},_2c9);_2ca=_2ca.replace(/&lt;/g,"<");_2ca=_2ca.replace(/&gt;/g,">");_2ca=_2ca.replace(/&amp;/g,"&");_2ca=_2ca.replace(/&quot;/g,"\"");_2c8.set("value",_2ca?_2ca:"");}},toggleBankGrids:function(){var _2cb=dj.byId("bankRadioId");if(_2cb.checked){m.animate("wipeOut",d.byId("bank_swift_data"),function(){m.animate("wipeIn",d.byId("bankdata"));dijit.byId("bankdata_grid").resize();});}else{m.animate("wipeOut",d.byId("bankdata"),function(){m.animate("wipeOut",d.byId("contentPaneContainer"));m.animate("wipeIn",d.byId("bank_swift_data"));d.query("#bankTypeContainer .dojoxGrid").forEach(function(grid){var _2cc=dj.byId(grid.id);if(_2cc){_2cc.resize();}});});}},toggleFieldSetContent:function(_2cd,_2ce,_2cf){var _2d0=d.byId(_2ce+"_img_down");var _2d1=d.byId(_2ce+"_img_up");if(_2cf==="down"){m.animate("wipeIn",_2cd);d.style(_2d0,"display","none");d.style(_2d1,"display","block");d.style(_2d1,"cursor","pointer");}else{m.animate("wipeOut",_2cd);d.style(_2d1,"display","none");d.style(_2d0,"display","block");d.style(_2d0,"cursor","pointer");}},toggleEyeSetContent:function(_2d2,_2d3,_2d4,_2d5,_2d6){var _2d7=d.byId(_2d3+"_eye_down");var _2d8=d.byId(_2d3+"_eye_up");if(_2d4==="down"){d.style(_2d7,"display","none");d.style(_2d8,"display","inline");d.style(_2d8,"cursor","pointer");document.getElementById(_2d6).getElementsByClassName("content")[0].innerHTML=_2d5;}else{d.style(_2d8,"display","none");d.style(_2d7,"display","inline");d.style(_2d7,"cursor","pointer");document.getElementById(_2d6).getElementsByClassName("content")[0].innerHTML="************";}},toggleClassInlineBlock:function(_2d9,show){if(show===true){d.removeClass(_2d9,"hide");d.addClass(_2d9,"inlineBlock");}else{d.removeClass(_2d9,"inlineBlock");d.addClass(_2d9,"hide");}},toggleFieldsReadOnly:function(_2da,_2db,_2dc){d.forEach(_2da,function(node){if(dj.byId(node)){if(_2dc){dj.byId(node).set("value","");}dj.byId(node).set("readOnly",_2db);}});},disableFields:function(_2dd,_2de){d.forEach(_2dd,function(node){if(dj.byId(node)){dj.byId(node).set("disabled",_2de);}});},generateEsignRequestTransaction:function(_2df,_2e0){var _2e1=function(){_2e0=_2e0+"&prodCode="+m._config.productCode;dj.byId("realform_operation").set("value",_2df);dj.byId("option").set("value","");dj.byId("tnxtype").set("value","");dj.byId("realform").set("action",_2e0);dj.byId("realform").submit();};m.dialog.show("CONFIRMATION",m.getLocalization("generateEsignRequest"),"",_2e1);},proxyAuthoriseTransaction:function(_2e2,_2e3){var _2e4=function(){_2e3=_2e3+"&prodCode="+m._config.productCode;dj.byId("realform_operation").set("value",_2e2);dj.byId("option").set("value","");dj.byId("tnxtype").set("value","");dj.byId("realform").set("action",_2e3);dj.byId("realform").submit();};m.dialog.show("CONFIRMATION",m.getLocalization("proxyAuthorise"),"",_2e4);},toggleGuaranteeType:function(){var _2e5=d.byId("bgtypedetails-editor");if(this.get("value")==="99"){m.animate("fadeIn",_2e5);}else{m.animate("fadeOut",_2e5);}},getIncoYear:function(){var _2e6=null;var _2e7=dj.byId("inco_term_year");var _2e8=dj.byId("issuing_bank_abbv_name")?dj.byId("issuing_bank_abbv_name").get("value"):"";var _2e9=dj.byId("remitting_bank_abbv_name")?dj.byId("remitting_bank_abbv_name").get("value"):"";var _2ea=dj.byId("advising_bank_abbv_name")?dj.byId("advising_bank_abbv_name").get("value"):"";if(_2e8!=""){_2e6=misys._config.incoTermYearMap[_2e8];}else{if(_2e9!=""){_2e6=misys._config.incoTermYearMap[_2e9];}else{if(_2ea!=""){_2e6=misys._config.incoTermYearMap[_2ea];}else{_2e6=misys._config.incoTermYearMap[misys._config.bankAbbvNamePrefix];}}}var _2eb={"identifier":"id","items":[]};var _2ec=new dojo.data.ItemFileWriteStore({data:_2eb});if(_2e6!=undefined&&_2e6!=""){for(var j=0;j<_2e6.length;j++){_2ec.newItem({"id":_2e6[j].value,"name":_2e6[j].name});}if(_2e7){_2e7.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2ec}});_2e7.store=_2ec;_2e7.set("disabled",false);_2e7.fetchProperties={sort:[{attribute:"name"}]};}}else{_2e7.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2ec}});}var _2ed=dijit.byId("inco_term_year")?dijit.byId("inco_term_year").get("value"):"";var _2ee=_2e7.store._arrayOfAllItems;var flag=false;for(var i=0;i<_2ee.length;i++){if(_2ee[i]&&_2ee[i].name!=""&&_2ee[i].name==_2ed){flag=true;break;}}if(!flag){dijit.byId("inco_term_year").set("value","");dj.byId("inco_term").set("value","");}},getDeliveryTo:function(){var _2ef=null;var _2f0=dj.byId("delivery_to");var _2f1=dj.byId("issuing_bank_abbv_name")?dj.byId("issuing_bank_abbv_name").get("value"):"";var _2f2=dj.byId("remitting_bank_abbv_name")?dj.byId("remitting_bank_abbv_name").get("value"):"";var _2f3=dj.byId("advising_bank_abbv_name")?dj.byId("advising_bank_abbv_name").get("value"):"";if(_2f1!=""){_2ef=misys._config.deliveryToMap[_2f1];}else{if(_2f2!=""){_2ef=misys._config.deliveryToMap[_2f2];}else{if(_2f3!=""){_2ef=misys._config.deliveryToMap[_2f3];}else{_2ef=misys._config.deliveryToMap[misys._config.bankAbbvNamePrefix];}}}var _2f4={"identifier":"id","items":[]};var _2f5=new dojo.data.ItemFileWriteStore({data:_2f4});if(_2ef!=undefined&&_2ef!=""){for(var j=0;j<_2ef.length;j++){_2f5.newItem({"id":_2ef[j].value,"name":_2ef[j].name});}if(_2f0){_2f0.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2f5}});_2f0.store=_2f5;_2f0.set("disabled",false);_2f0.fetchProperties={sort:[{attribute:"name"}]};}}else{_2f0.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2f5}});}var _2f6=dijit.byId("delivery_to")?dijit.byId("delivery_to").get("value"):"";var _2f7=_2f0.store._arrayOfAllItems;var flag=false;for(var i=0;i<_2f7.length;i++){if(_2f7[i]&&_2f7[i].id!=""&&_2f7[i].id==_2f6){flag=true;break;}}if(!flag){dijit.byId("delivery_to").set("value","");dj.byId("delivery_to").set("value","");}},getIncoTerm:function(){var _2f8=null;var _2f9=dj.byId("inco_term");var _2fa;var _2fb=dj.byId("issuing_bank_abbv_name")?dj.byId("issuing_bank_abbv_name").get("value"):"";var _2fc=dj.byId("remitting_bank_abbv_name")?dj.byId("remitting_bank_abbv_name").get("value"):"";var _2fd=dj.byId("advising_bank_abbv_name")?dj.byId("advising_bank_abbv_name").get("value"):"";if(_2fb!=""){_2fa=_2fb+":"+dj.byId("inco_term_year").get("value");}else{if(_2fc!=""){_2fa=_2fc+":"+dj.byId("inco_term_year").get("value");}else{if(_2fd!=""){_2fa=_2fd+":"+dj.byId("inco_term_year").get("value");}else{_2fa=misys._config.bankAbbvNamePrefix+":"+dj.byId("inco_term_year").get("value");}}}_2f8=misys._config.incoTermProductMap[_2fa];var _2fe={"identifier":"id","items":[]};var _2ff=new dojo.data.ItemFileWriteStore({data:_2fe});if(_2f8!=undefined&&_2f8!=""){for(var j=0;j<_2f8.length;j++){_2ff.newItem({"id":_2f8[j].value,"name":_2f8[j].name});}_2f9.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2ff}});if(_2f9){_2f9.store=_2ff;}_2f9.set("disabled",false);_2f9.fetchProperties={sort:[{attribute:"name"}]};}else{_2f9.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_2ff}});}if(dj.byId("inco_term_year").get("value")!==dj.byId("org_term_year").get("value")){dj.byId("inco_term").set("value","");dj.byId("org_term_year").set("value",dj.byId("inco_term_year").get("value"));}},checkForAttachments:function(){var _300=dj.byId("attIds");var _301=false;var _302=0;if(_300){var _303=[dj.byId(_c)];d.forEach(_303,function(_304){if(_304&&_304.grid){var arr=_304.grid.store._arrayOfAllItems;d.forEach(arr,function(_305,i){if(_305!=null){_301=true;_302++;}});}});}if(dj.byId(_c)&&dj.byId(_c).store){if(dj.byId(_c).store._arrayOfAllItems.length>0){return true;}}m._config.onSubmitErrorMsg=m.getLocalization("mandatoryMinimumFileUploadTypeError");return _301;},hasAttachments:function(){var _306=dj.byId("attIds");var _307=false;var _308=0;if(_306){var _309=[dj.byId(_c)];d.forEach(_309,function(_30a){if(_30a&&_30a.grid){var arr=_30a.grid.store._arrayOfAllItems;d.forEach(arr,function(_30b,i){if(_30b!=null){_307=true;_308++;}});}});}return _307;},toggleMT798Fields:function(_30c){var _30d=dj.byId(_30c).get("value");var _30e="";if(dj.byId("adv_send_mode")){_30e=dj.byId("adv_send_mode").get("value");}var _30f=m._config.customerBanksMT798Channel[_30d]===true&&_30e==="01";m.toggleFields(_30f,["delivery_channel","transport_mode_nosend","transport_mode"],null,false,false);m.toggleFields(_30f&&m.hasAttachments(),null,["delivery_channel"],false,false);if(_30f){if(dj.byId("delivery_channel")){m.animate("fadeIn","delivery_channel_row");m.connect("delivery_channel","onChange",function(){if(dj.byId(_c)){if(dj.byId("delivery_channel").get("value")==="FACT"){dj.byId(_c).displayFileAct(true);}else{dj.byId(_c).displayFileAct(false);}}});dj.byId("delivery_channel").onChange();}if(dj.byId("transport_mode")){m.animate("fadeIn","transport_mode_nosend_row");m.animate("fadeIn","transport_mode_text_nosend_row");}}else{if(dj.byId("delivery_channel")){m.animate("fadeOut","delivery_channel_row");}if(dj.byId("transport_mode")){m.animate("fadeOut","transport_mode_nosend_row");m.animate("fadeOut","transport_mode_text_nosend_row");}}},setRenewalFinalExpiryDate:function(){var _310=calculateRenewalFinalExpiryDate();if(_310){dj.byId("final_expiry_date").set("value",_310);}if(!isPreCondStsfd){var _311=dj.byId("final_expiry_date");if(_311&&_311.get("value")!==""){_311.set("value",new Date().getHours());}}},calculateRenewalFinalExpiryDate:function(){var _312=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _313=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _314=dj.byId("renew_for_nb")?dj.byId("renew_for_nb").get("value"):"";var _315=dj.byId("renew_for_period")?dj.byId("renew_for_period").get("value"):"";var _316=dj.byId("rolling_renewal_nb")?dj.byId("rolling_renewal_nb").get("value"):"";var _317=null;var _318=null;var _319=true;var _31a=null;if(_312==="01"){_318=dj.byId("exp_date")?dj.byId("exp_date").get("value"):"";var _31b=dj.byId("org_exp_date")?dj.byId("org_exp_date"):"";if(!_318&&_31b){_318=dojo.date.locale.parse(_31b.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_318==null){_319=false;}}else{if(_312==="02"){_318=_313;if(_318==null){_319=false;}}else{_319=false;}}if(_314==null||_314===""||isNaN(_314)){_319=false;}if(_315==null||_315===""){_319=false;}if(_316==null||_316===""||isNaN(_316)){_319=false;}if(_319&&_316){switch(_315){case "D":_317=d.date.add(_318,"day",_316*_314);break;case "W":_317=d.date.add(_318,"week",_316*_314);break;case "M":_317=d.date.add(_318,"month",_316*_314);break;case "Y":_317=d.date.add(_318,"year",_316*_314);break;default:break;}if(_317){_31a=new Date(_317.getTime());_31a=_31a.getDate()+"/"+(_31a.getMonth()+1)+"/"+_31a.getFullYear();var _31c=new Date(_317.getTime());dj.byId("final_expiry_date").set("value",_31c);}}return _31a;},calculateFinalExpiryDate:function(){var _31d=dj.byId("renew_on_code")?dj.byId("renew_on_code").get("value"):"";var _31e=dj.byId("renewal_calendar_date")?dj.byId("renewal_calendar_date").get("value"):"";var _31f=dj.byId("renew_for_nb")?dj.byId("renew_for_nb").get("value"):"";var _320=dj.byId("renew_for_period")?dj.byId("renew_for_period").get("value"):"";var _321=dj.byId("rolling_renewal_nb")?dj.byId("rolling_renewal_nb").get("value"):"";var _322=null;var _323=null;var _324=true;if(_31d==="01"){_323=dj.byId("exp_date")?dj.byId("exp_date").get("value"):"";var _325=dj.byId("org_exp_date")?dj.byId("org_exp_date"):"";if(!_323&&_325){_323=dojo.date.locale.parse(_325.get("value"),{locale:dojo.config.locale,formatLength:"short",selector:"date"});}if(_323==null){_324=false;}}else{if(_31d==="02"){_323=_31e;if(_323==null){_324=false;}}else{_324=false;}}if(_31f==null||_31f===""||isNaN(_31f)){_324=false;}if(_320==null||_320===""){_324=false;}if(_321==null||_321===""||isNaN(_321)){_324=false;}if(_324&&_321){switch(_320){case "D":_322=d.date.add(_323,"day",_321*_31f);break;case "W":_322=d.date.add(_323,"week",_321*_31f);break;case "M":_322=d.date.add(_323,"month",_321*_31f);break;case "Y":_322=d.date.add(_323,"year",_321*_31f);break;default:break;}if(_322){var _326=new Date(_322.getTime());}}return _326;},markWidgetAsLoading:function(_327,_328){var _329=_327+"_id_loading_span";if(dj.byId(_327)){var _32a;if(_328){if(!d.byId(_329)){dj.byId(_327).set("disabled",true);var _32b="<img src=\""+m._config["context"]+m._config["imagesSrc"]+"loading.gif\"/>";_32a=d.create("span",{innerHTML:_32b,id:_329},dj.byId(_327).domNode,"after");dj.byId(_327).set("loadingIconDomNode",_32a);}}else{_32a=dj.byId(_327).get("loadingIconDomNode");dj.byId(_327).set("loadingIconDomNode",null);d.destroy(_32a);dj.byId(_327).set("disabled",false);}}},populateFacilityReference:function(_32c){var _32d=_32c.get("value"),_32e="_",_32f=_32c.id.split(_32e),_330=_32f[0]+_32e+_32f[1],_331=dj.byId(_330+"_abbv_name")?dj.byId(_330+"_abbv_name").get("value"):"",_332=dj.byId("entity")?dj.byId("entity").get("value"):"",_333=dj.byId("facility_id"),_334=[],_335=d.byId("facilityLimitDetail");if(_32d+"S"!=="S"&&m._config.facilityReferenceCollection&&m._config.facilityReferenceCollection[_32d]&&_333&&_335&&m._config.facilityReferenceCollection[_32d][_331+"_"+_332]){_333.set("displayedValue","");_334=m._config.facilityReferenceCollection[_32d][_331+"_"+_332];if(_334){_333.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_334}});m.animate("wipeIn",_335);if(dj.byId("facility_mandatory")&&dj.byId("facility_mandatory").get("value")==="true"){m.toggleRequired("facility_id",true);}if(m._config.limitFieldIdCollection){_36();dj.byId("limit_id").set("displayedValue","");if(!m._config.isLoading&&dj.byId("limit_reference")&&dj.byId("limit_reference").get("value")+"S"!=="S"){dj.byId("limit_reference").set("value","");}}}}else{m.animate("wipeOut",_335);m.toggleRequired("facility_id",false);}},getLimitDetails:function(_336){var _337=dj.byId("facility_date"),_338=dj.byId("facility_reference"),_339=dj.byId("facility_id");if(_337&&_339){if(m._config.facilityReviewDateCollection&&m._config.facilityReviewDateCollection[_339.get("displayedValue")]){_337.set("displayedValue",m._config.facilityReviewDateCollection[_339.get("displayedValue")]);}else{_337.set("displayedValue","");}}if(_338){_338.set("value",dj.byId("facility_id").get("displayedValue"));}var _33a=dj.byId("entity")?dj.byId("entity").get("value"):"",_33b=m._config.productCode.toLowerCase()+"_type_code",_33c=_339?_339.get("value"):"",_33d=_338?_338.get("displayedValue"):"",_33e=dj.byId(_33b)?dj.byId(_33b).get("value"):"",_33f=dj.byId("beneficiary_country")?dj.byId("beneficiary_country").get("value"):"";if(_336||(_33f!=="")){m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetLimitsJSONDataAction"),handleAs:"json",sync:true,content:{facility:_33d,facilityId:_33c,productCode:m._config.productCode,entity:_33a,subProduct:"",productTypeCode:_33e,beneficiary:"",beneficiaryCountry:_33f},load:_39});var _340=dj.byId("limit_id"),_341=dj.byId("limit_reference");if(_341&&_340&&_340.get("value")+"S"==="S"){_340.set("displayedValue",_341.get("value"));}else{if(_340){_340.set("displayedValue","");}}_36();}},setLimitFieldsValue:function(){var _342=this.get("displayedValue"),_343=m._config.limitFieldIdCollection,_344=m._config.limitCollection[_342];if(dj.byId("limit_reference")){dj.byId("limit_reference").set("value",this.get("displayedValue"));}d.forEach(_343,function(id,_345){var obj=dj.byId(id);if(obj&&_344){if(obj.declaredClass==="dijit.form.DateTextBox"){obj.set("displayedValue",_344[_345]);}else{obj.set("value",_344[_345]);}}else{if(obj){obj.set("displayedValue","");}}});},validateLimitBookingAmount:function(_346){var _347=dj.byId(m._config.productCode.toLowerCase()+"_amt"),_348=dj.byId(m._config.productCode.toLocaleLowerCase()+"_cur_code"),_349=dj.byId("limit_outstanding_cur_code"),_34a=dj.byId("limit_outstanding_amount"),_34b=dj.byId("facility_outstanding_cur_code"),_34c=dj.byId("facility_outstanding_amount"),_34d=dj.byId("booking_amt"),_34e="";if(!m._config.isLoading){if(this.id&&this.id!=="booking_amt"&&_34d){_34d.set("value","");}if(_347&&_348&&_349&&_34a&&_34b&&_34c&&_34d){var _34f=_347.get("value"),_350=_34a.get("value"),_351=_34c.get("value"),_352=_349.get("value"),_353=_348.get("value"),_354=_34b.get("value"),_355=_34d.get("value"),_356=true,_357=true,_358="";if(_352!==""&&_353!==""&&_354!==""){if(_352!==_353){_34e=_353+"_"+_352+"_limit,";}if(_354!==_352){_34e=_34e+_354+"_"+_352+"_facility";}if(_34e+"S"!=="S"){m.getCurrencyRateForFacility(_34e);if(isNaN(_355)||_355===""||(_346!==undefined&&_346==="true")){if(m._config.limitRate){_355=_34f*m._config.limitRate;_34d.attr("value",_355,false);dj.byId("tol_booking_amt").attr("value",_355,false);}if(isNaN(_355)||_355===""||(_346!==undefined&&_346==="true"&&_34f<_355)){_34d.attr("value",_355,false);dj.byId("tol_booking_amt").attr("value",_355,false);}if(dj.byId("pstv_tol_pct")&&(!isNaN(dj.byId("pstv_tol_pct").get("value")))){_355=_355+_355*(dj.byId("pstv_tol_pct").get("value")/100);_34d.attr("value",_355,false);dj.byId("tol_booking_amt").attr("value",_355,false);}}if(_355>dj.byId("tol_booking_amt")?dj.byId("tol_booking_amt").get("value"):0){_356=false;_358=m.getLocalization("invalidBookingAmountTnx");}if(_356&&_355>_350){_356=false;if(m._config.limitRate!==1){_358=m.getLocalization("invalidBookingAmountCurrency",["Limit",_353+"/"+_352]);}else{_358=m.getLocalization("invalidBookingAmount",["Limit"]);}}if(_356&&_355>_351*m._config.facilityRate){_356=false;if(m._config.facilityRate!==1){_358=m.getLocalization("invalidBookingAmountCurrency",["Facility",_354+"/"+_352]);}else{_358=m.getLocalization("invalidBookingAmount",["Limit"]);}}if(m._config.validate_tnxamt_with_limit_outstanding){if(_356&&dj.byId("tol_booking_amt").get("value")>_350){_356=false;_357=false;_358=m.getLocalization("invalidTnxAmount");}}}else{if(isNaN(_355)||_355===""||(_346!==undefined&&_346==="true")){if(isNaN(_355)||_355===""||(_346!==undefined&&_346==="true"&&_34f<_355)){_355=_34f;if(dj.byId("pstv_tol_pct")&&(!isNaN(dj.byId("pstv_tol_pct").get("value")))){_355=_355+_355*(dj.byId("pstv_tol_pct").get("value")/100);}_34d.attr("value",_355,false);dj.byId("tol_booking_amt").attr("value",_355,false);}if(dj.byId("pstv_tol_pct")&&(!isNaN(dj.byId("pstv_tol_pct").get("value")))){_355=_34f;_355=_355+_355*(dj.byId("pstv_tol_pct").get("value")/100);_34d.attr("value",_355,false);dj.byId("tol_booking_amt").attr("value",_355,false);}}if(_355>dj.byId("tol_booking_amt")?dj.byId("tol_booking_amt").get("value"):0){_356=false;_358=m.getLocalization("invalidBookingAmountTnx");}if(_356&&_355>_350){_356=false;_358=m.getLocalization("invalidBookingAmount",["Limit"]);}if(_356&&_355>_351){_356=false;_358=m.getLocalization("invalidBookingAmount",["Facility"]);}if(m._config.validate_tnxamt_with_limit_outstanding){if(_356&&dj.byId("tol_booking_amt").get("value")>_350){_356=false;_357=false;_358=m.getLocalization("invalidTnxAmount");}}}}if(!_356){var _359;if(!_357){dj.hideTooltip(_347.domNode);_359=function(){_347.focus();_347.set("state","Error");dj.showTooltip(_358,_347.domNode,0);};}else{dj.hideTooltip(_34d.domNode);_359=function(){_34d.focus();_34d.set("state","Error");dj.showTooltip(_358,_34d.domNode,0);};}m.dialog.show("ERROR",_358,"",_359);return false;}}}else{if(this.id==="limit_id"){m._config.isLoading=false;}}return true;},getCurrencyRateForFacility:function(_35a){var _35b=dijit.byId("recipient_bank_abbv_name");m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetMidRateForLimitAction"),handleAs:"json",sync:true,content:{currency:_35a,bank_abbv_name:_35b},load:function(_35c,args){m._config.limitRate=_35c.limit?_35c.limit:1;m._config.facilityRate=_35c.facility?_35c.facility:1;m._config.rateType=_35c.rateType?_35c.rateType:1;}});},getUserDetails:function(_35d,_35e){var _35f=m.formToXML({selector:".validate",xmlRoot:m._config.xmlTagName,ignoreDisabled:true});m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetUserDetails"),handleAs:"json",sync:true,content:{login_id:_35d,user_id:_35e,xmlString:_35f},load:_41});},getDynamicNarrativeText:function(_360,_361){var _362=m.formToXML({selector:".validate",xmlRoot:m._config.xmlTagName,ignoreDisabled:true});var _363=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetDynamicNarrativeText"),handleAs:"json",sync:true,content:{phrase_id:_361,field:_360,xmlString:_362,product_code:_363},load:_3c});},togglePhraseProducts:function(){var _364=dj.byId("phrase_type")?dj.byId("phrase_type").get("value"):dj.byId("type").get("value"),_365=dj.byId("productcode")?dj.byId("productcode"):dj.byId("product"),_366=m._config.phraseTypesProductMap[_364];if(!misys._config.isModified){_365.set("value","");}if(_366){_365.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_366}});_365.fetchProperties={sort:[{attribute:"name"}]};_365.set("value","");_365.focus();}},togglePhraseCategory:function(){var _367=dj.byId("productcode")?dj.byId("productcode").get("value"):dj.byId("product").get("value"),_368=dj.byId("category"),_369=m._config.productCategoryMap[_367];if(_367!==""){if(_369){_368.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_369}});_368.fetchProperties={sort:[{attribute:"value"}]};_368.set("value","");_368.focus();_368.set("state","Error");}else{_369=m._config.productCategoryMap["ALL"];_368.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",label:"name",items:_369}});_368.fetchProperties={sort:[{attribute:"value"}]};}}},getAjaxSearchData:function(id,_36a,opt,_36b){var _36c=0;var _36d=dijit.byId("product_code")?dijit.byId("product_code").get("value"):"";var _36e="[";dojo.forEach(_36a,function(_36f){var _370=dj.byId(_36f);if(_370&&_370.state==="Error"){return;}if(_36c!==0){_36e=_36e+",";}_36c++;if(_370){_36e=_36e+"'"+_370.get("value")+"'";}else{_36e=_36e+"''";}});_36e=_36e+"]";var _371="[";_36c=0;while(_36c!=(_36b.length-1)){_371=_371+"'"+_36b[_36c]+"',";_36c++;}_371=_371+"'"+_36b[_36c]+"']";m.xhrPost({url:m.getServletURL("/screen/AjaxScreen/action/GetStaticDataSearchAction"),handleAs:"json",sync:true,content:{option:opt,store_id:id,"widget[]":_371,productcode:_36d,"fields[]":_36e},load:_8d});},toggleMutuallyExclusiveFields:function(_372){var _373=true;var _374=false;dojo.forEach(_372,function(_375){var _376=dj.byId(_375);if((_376.declaredClass==="dijit.form.NumberTextBox")||(_376.declaredClass==="misys.form.CurrencyTextBox")){if(_376&&!_374&&_376.get("value")+""!=="NaN"){_376.set("disabled",false);_374=true;_373=false;}else{_376.set("disabled",true);}}else{if(_376&&!_374&&_376.get("value")!==""){_376.set("disabled",false);_374=true;_373=false;}else{_376.set("disabled",true);}}});if(_373){dojo.forEach(_372,function(_377){var _378=dj.byId(_377);if(_378){_378.set("disabled",false);}});}},toggleMutuallyExclusiveMandatoryFields:function(_379){var _37a=true;var _37b=false;dojo.forEach(_379,function(_37c){var _37d=dj.byId(_37c);if((_37d.declaredClass==="dijit.form.NumberTextBox")||(_37d.declaredClass==="misys.form.CurrencyTextBox")){if(_37d&&!_37b&&_37d.get("value")+""!=="NaN"){_37d.set("disabled",false);_37d.set("required",true);_37b=true;_37a=false;}else{_37d.set("disabled",true);_37d.set("required",false);}}else{if(_37d&&!_37b&&_37d.get("value")!==""){_37d.set("disabled",false);_37d.set("required",true);_37b=true;_37a=false;}else{_37d.set("disabled",true);_37d.set("required",false);}}});if(_37a){dojo.forEach(_379,function(_37e){var _37f=dj.byId(_37e);if(_37f){_37f.set("disabled",false);_37f.set("required",true);}});}},getPrgmCpty:function(_380){misys.showProgramCptyDialog("programCounterparty","['abbv_name','name']",_380,"","width:400px;height:400px",m.getLocalization("TABLE_PROGRAM_CPTY_LIST"),"legal"==="popup");},toggleMutuallyInclusiveFields:function(_381,_382,_383){var _384=dj.byId(_381);var _385=dj.byId(_382);if(_383==="required"){if(_384&&_384.value!==""&&_385){_385.set("required",true);}else{if(_384&&_384.value===""&&_385){_385.set("required",false);}}}else{if(_383==="disabled"){if(_384&&_384.disabled===true){_385.set("disabled",true);_385.set("value","");}else{if(_384&&_384.disabled===false){_385.set("disabled",false);}}}}},toggleTransferIndicatorFlag:function(_386){if(dj.byId("ntrf_flag").get("checked")){dj.byId("narrative_transfer_conditions").set("disabled",true);dj.byId("narrative_transfer_conditions").set("value","");document.getElementById("narrative_transfer_conditions_img").style.display="none";}else{dj.byId("narrative_transfer_conditions").set("disabled",false);dj.byId("narrative_transfer_conditions").set("value","");document.getElementById("narrative_transfer_conditions_img").style.display="block";}},toggleDeliverMode:function(_387){if(dj.byId("delv_org").get("value")==="99"){dj.byId("delv_org_text").set("disabled",false);}else{dj.byId("delv_org_text").set("disabled",true);dj.byId("delv_org_text").set("value","");}},clearDateCache:function(){misys._config.dateCache=[];},setDraweeDetailBankName:function(){if((dj.byId("cr_avl_by_code_2")&&dj.byId("cr_avl_by_code_2").get("checked"))||(dj.byId("cr_avl_by_code_3")&&dj.byId("cr_avl_by_code_3").get("checked"))){dj.byId("drawee_details_bank_name").set("value",dj.byId("drawee_details_bank_name")._resetValue);}},escapeHtml:function(str){return str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;");},showFSCMProgramIPCollectionDialog:function(type,_388,_389,_38a,_38b,_38c,_38d){var url=[],_38e={},_38f=_8,_390={},_391="GetStaticData",_392=_38a||_9,_393,_394;if(_38b.slice(_38b.length-1)!==";"){_38b+=";";}_38f+=_391;_390.option=type;_390.fields=_388;d.mixin(_390,_389);url.push("/screen/",_392);_38e.option=type;_38e.fields=_388;d.mixin(_38e,_389);_38e.dimensions=_38b;_38e.popupType="LIST_DATA";_393=function(){var grid=dj.byId(type+"data_grid");grid.showMessage(grid.loadingMessage);m.grid.setStoreURL(grid,m.getServletURL(_38f),_390);m.connect("CurrencyName","onKeyPress",function(evnt){if(evnt.keyCode===dojo.keys.ENTER){m.grid.filter(dj.byId("currencydata_grid"),["NAME"],["CurrencyName"]);}});};if(_38d){_394=dj.byId("childXhrDialog")||new dj.Dialog({title:_38c,id:"childXhrDialog",href:m.getServletURL(url.join("")),ioMethod:misys.xhrPost,ioArgs:{content:_38e}});m.dialog.connect(_394,"onLoad",_393);m.dialog.connect(_394,"onHide",function(){setTimeout(function(){m.dialog.disconnect(_394);_394.destroyRecursive();},2000);});var co=d.coords("xhrDialog");_394._relativePosition={x:co.x+30,y:co.y+30};_394.show();}else{m.dialog.show("URL","",_38c,null,_393,m.getServletURL(url.join("")),null,null,_38e);}},clearDataOnclicTenortype2or3:function(){dj.byId("tenor_maturity_date").set("displayedValue","");dj.byId("tenor_days").set("value","");dj.byId("tenor_period").set("value","");dj.byId("tenor_from_after").set("value","");dj.byId("tenor_days_type").set("value","");dj.byId("tenor_type_details").set("value","");dj.byId("tenor_base_date").set("displayedValue","");},validateShipPeriod:function(){var _395=dj.byId("ship_period");var _396=_395?_395.get("value"):"";var _397=(dijit.byId("narrative_shipment_period")&&dijit.byId("narrative_shipment_period").tabContainer)?dijit.byId("narrative_shipment_period").tabContainer:"";var _398=(dijit.byId("narrative_shipment_period")&&dijit.byId("narrative_shipment_period").parentTab)?dijit.byId("narrative_shipment_period").parentTab:"";var _399="";var _39a="";if(_396==="01"){m.toggleRequired("earliest_ship_date",false);dj.byId("earliest_ship_date").set("displayedValue","");dj.byId("earliest_ship_date").set("disabled",true);m.toggleRequired("last_ship_date",false);dj.byId("last_ship_date").set("displayedValue","");dj.byId("last_ship_date").set("disabled",true);m.toggleRequired("narrative_shipment_period",true);dj.byId("narrative_shipment_period").set("disabled",false);dj.byId("narrative_shipment_period_img").set("required",true);if(_397.length>0&&_398.length>0){_399=_397.concat("_tablist_").concat(_398);_39a=dj.byId(_399).label?dj.byId(_399).label:"";if(!_39a.includes("*")){dj.byId(_399).set("label","*".concat(_39a));}}else{dj.byId("narrative_shipment_period_img").set("displayedValue","*");dj.byId("narrative_shipment_period_img").set("value",dj.byId("narrative_shipment_period_img").get("value"));}}else{if(_396==="02"){m.toggleRequired("earliest_ship_date",false);dj.byId("earliest_ship_date").set("displayedValue","");dj.byId("earliest_ship_date").set("disabled",true);m.toggleRequired("last_ship_date",false);dj.byId("last_ship_date").set("disabled",false);m.toggleRequired("narrative_shipment_period",false);if(dj.byId("narrative_shipment_period")){dj.byId("narrative_shipment_period").set("displayedValue","");dj.byId("narrative_shipment_period").set("disabled",true);}if(dj.byId("narrative_shipment_period_img")){dj.byId("narrative_shipment_period_img").set("required",false);}if(_397.length>0&&_398.length>0){_399=_397.concat("_tablist_").concat(_398);_39a=dj.byId(_399).label;if(_39a.includes("*")){dj.byId(_399).set("label",_39a.replace("*",""));}}}else{if(_396==="03"){m.toggleRequired("earliest_ship_date",true);dj.byId("earliest_ship_date").set("disabled",false);m.toggleRequired("last_ship_date",true);dj.byId("last_ship_date").set("disabled",false);m.toggleRequired("narrative_shipment_period",false);dj.byId("narrative_shipment_period").set("value","");dj.byId("narrative_shipment_period").set("disabled",true);dj.byId("narrative_shipment_period_img").set("required",false);if(_397.length>0&&_398.length>0){_399=_397.concat("_tablist_").concat(_398);_39a=dj.byId(_399).label;if(_39a.includes("*")){dj.byId(_399).set("label",_39a.replace("*",""));}}}}}}});d.ready(function(){d.mixin(m._config,{advisingBank:_3,anyBank:"Any Bank",issuingBank:"Issuing Bank",other:"Other",namedBank:"Named Bank",firstPageLoad:false});});})(dojo,dijit,misys);dojo.require("misys.client.form.common_client");}